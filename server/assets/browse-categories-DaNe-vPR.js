import{u as j,j as e}from"./query-COiO4MCT.js";import{r as x}from"./vendor-1XCZ5AD1.js";import{u as v,U as w,H as g,b as u,L as N,e as y}from"./pages-main-DHSVTjK5.js";import{P as k}from"./pages-picks-myehRy1v.js";import"./radix-mRa0f3kV.js";import"./icons-CGpN3lH8.js";import"./utils-Bj7X0qp-.js";function E(){const[i,b]=x.useState("all"),[t,p]=x.useState("");v();const m=["#FF6B6B","#4ECDC4","#45B7D1","#FF69B4","#32CD32","#9370DB","#FFB347","#1E90FF","#FF4500","#228B22","#DC143C","#00CED1","#FF8C00","#FFD700","#20B2AA","#8A2BE2","#FF1493","#00FF7F","#FF6347","#4169E1"],n=(r,s)=>s&&s.startsWith("#")?s:m[r%m.length],{data:o=[],isLoading:f,error:_}=j({queryKey:["/api/categories/browse",i],queryFn:async()=>{try{let r="/api/categories/browse";const s=new URLSearchParams;i!=="all"&&s.append("type",i),s.toString()&&(r+="?"+s.toString());const h=await fetch(r);if(!h.ok)throw new Error("Failed to fetch categories");return h.json()}catch(r){return console.error("Error fetching categories:",r),[]}},staleTime:5*60*1e3,gcTime:10*60*1e3}),a=o.filter(r=>!t||r.name.toLowerCase().includes(t.toLowerCase())||r.description&&r.description.toLowerCase().includes(t.toLowerCase())),l={featured:a.filter(r=>r.is_featured),product:a.filter(r=>r.category_type==="product"||!r.category_type),service:a.filter(r=>r.category_type==="service"),app:a.filter(r=>r.category_type==="app"),"ai-app":a.filter(r=>r.category_type==="ai-app"),auto:a.filter(r=>r.auto_created)},c=i==="all"?a:l[i]||[],d={total:o.length,withProducts:o.filter(r=>r.has_active_products).length,autoCreated:o.filter(r=>r.auto_created).length,featured:o.filter(r=>r.is_featured).length};return x.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),f?e.jsx(w,{pageId:"browse-categories",children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-900 dark:via-green-900/20 dark:to-emerald-900/20 page-container",children:[e.jsx(g,{}),e.jsx(u,{page:"browse-categories"}),e.jsx("div",{className:"pt-20 pb-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading categories..."})]})})})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-900 dark:via-green-900/20 dark:to-emerald-900/20 page-container",children:[e.jsx(g,{}),e.jsx(u,{page:"browse-categories"}),e.jsx("section",{className:"pt-20 pb-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[e.jsx("i",{className:"fas fa-folder-open"})," Browse Categories"]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-6",children:"Discover products, services, and apps organized by category"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto mb-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d.total}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Categories"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:d.withProducts}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"With Products"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:d.autoCreated}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto-Created"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:d.featured}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Featured"})]})]})]}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:bg-gray-800/20 dark:border-gray-700/30 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category Type"}),e.jsxs("select",{value:i,onChange:r=>b(r.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[e.jsxs("option",{value:"all",children:["All Categories (",o.length,")"]}),e.jsxs("option",{value:"featured",children:["Featured (",l.featured.length,")"]}),e.jsxs("option",{value:"product",children:["Products (",l.product.length,")"]}),e.jsxs("option",{value:"service",children:["Services (",l.service.length,")"]}),e.jsxs("option",{value:"app",children:["Apps (",l.app.length,")"]}),e.jsxs("option",{value:"ai-app",children:["AI Apps (",l["ai-app"].length,")"]}),e.jsxs("option",{value:"auto",children:["Auto-Created (",l.auto.length,")"]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Categories"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search by name or description...",value:t,onChange:r=>p(r.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-white"}),e.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",c.length," categories"]})})]})}),c.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map((r,s)=>e.jsx(N,{href:`/category/${encodeURIComponent(r.name)}`,className:"group",onClick:()=>{setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)},children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 overflow-hidden border-2 hover:border-green-500",children:[e.jsx("div",{className:"relative p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",style:{background:`linear-gradient(135deg, ${n(s,r.color)}CC, ${n(s,r.color)}FF)`,boxShadow:`0 10px 25px ${n(s,r.color)}40`},children:e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("i",{className:`${r.icon||"fas fa-tag"} text-3xl text-white drop-shadow-lg`})}),r.category_type&&e.jsx("span",{className:"inline-block px-2 py-1 bg-white/20 text-white text-xs rounded-full",children:r.category_type==="ai-app"?"AI App":r.category_type.charAt(0).toUpperCase()+r.category_type.slice(1)}),r.auto_created&&e.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-500/20 text-white text-xs rounded-full ml-2",children:"Auto"}),r.is_featured&&e.jsx("span",{className:"inline-block px-2 py-1 bg-red-500/20 text-white text-xs rounded-full ml-2",children:"⭐ Featured"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",children:r.name}),r.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:r.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Products:"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.total_products_count||0})]}),(r.prime_picks_count||0)+(r.click_picks_count||0)+(r.loot_box_count||0)+(r.apps_count||0)+(r.services_count||0)>0&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[r.prime_picks_count>0&&e.jsxs("span",{className:"mr-2",children:["Prime: ",r.prime_picks_count]}),r.click_picks_count>0&&e.jsxs("span",{className:"mr-2",children:["Click: ",r.click_picks_count]}),r.loot_box_count>0&&e.jsxs("span",{className:"mr-2 inline-flex items-center",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-orange-500 rounded-full mr-1"}),"Wholesale: ",r.loot_box_count]}),r.apps_count>0&&e.jsxs("span",{className:"mr-2",children:["Apps: ",r.apps_count]}),r.services_count>0&&e.jsxs("span",{className:"mr-2",children:["Services: ",r.services_count]}),r.top_picks_count>0&&e.jsxs("span",{className:"mr-2",children:["Top: ",r.top_picks_count]})]})]}),e.jsxs("button",{className:"w-full bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white font-semibold py-3 px-4 rounded-lg transition-all transform hover:scale-105 border border-white/30 hover:border-white/50 shadow-lg",children:[e.jsx("i",{className:"fas fa-arrow-right mr-2"}),"Browse Category"]}),r.created_by_page&&e.jsxs("div",{className:"mt-3 text-xs text-white/70 text-center",children:["Created by: ",r.created_by_page]})]})]})},r.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:e.jsx("i",{className:"fas fa-folder-open"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No categories found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:t?`No categories match "${t}". Try a different search term.`:"No categories available for the selected type."}),t&&e.jsxs("button",{onClick:()=>p(""),className:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-full hover:bg-green-700 transition-colors",children:[e.jsx("i",{className:"fas fa-times mr-2"}),"Clear Search"]})]})]})}),e.jsx(k,{page:"browse-categories",title:"Category Videos"}),e.jsx(y,{})]})}export{E as default};
