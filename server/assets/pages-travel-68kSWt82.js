import{j as e,a as Qe,u as qe,b as Ie}from"./query-COiO4MCT.js";import{r as p}from"./vendor-1XCZ5AD1.js";import{h as he,u as Le,B as te,D as at,i as ht,j as it,k as ot,l as nt,a as Je,d as xe,S as bt,m as It,n as qt,H as lt,A as Ot,W as Mt,b as ct,c as Gt,F as Wt,e as dt,L as yt,U as vt,E as Te}from"./pages-main-DHSVTjK5.js";import{P as ut}from"./pages-picks-myehRy1v.js";import{h as wt,a as zt,g as Ht,P as Kt,l as gt,m as Vt,T as Qt,n as Jt,L as Yt,o as Xt,W as tt,U as Zt}from"./icons-CGpN3lH8.js";import{m as er,n as tr,V as rr,o as jt,p as sr,q as ar,r as Nt,s as ir,t as kt,u as or,v as nr,w as Ct,x as St,y as _t,z as Tt}from"./radix-mRa0f3kV.js";import{a as lr}from"./utils-Bj7X0qp-.js";const z=p.forwardRef(({className:i,type:j,...f},B)=>e.jsx("input",{type:j,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:B,...f}));z.displayName="Input";var cr="Label",Lt=p.forwardRef((i,j)=>e.jsx(er.label,{...i,ref:j,onMouseDown:f=>{var _;f.target.closest("button, input, select, textarea")||((_=i.onMouseDown)==null||_.call(i,f),!f.defaultPrevented&&f.detail>1&&f.preventDefault())}}));Lt.displayName=cr;var Ft=Lt;const dr=lr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=p.forwardRef(({className:i,...j},f)=>e.jsx(Ft,{ref:f,className:he(dr(),i),...j}));se.displayName=Ft.displayName;const ze=p.forwardRef(({className:i,...j},f)=>e.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:f,...j}));ze.displayName="Textarea";const rt=tr,st=rr,He=p.forwardRef(({className:i,children:j,...f},B)=>e.jsxs(jt,{ref:B,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i),...f,children:[j,e.jsx(sr,{asChild:!0,children:e.jsx(wt,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=jt.displayName;const Pt=p.forwardRef(({className:i,...j},f)=>e.jsx(Ct,{ref:f,className:he("flex cursor-default items-center justify-center py-1",i),...j,children:e.jsx(Ht,{className:"h-4 w-4"})}));Pt.displayName=Ct.displayName;const At=p.forwardRef(({className:i,...j},f)=>e.jsx(St,{ref:f,className:he("flex cursor-default items-center justify-center py-1",i),...j,children:e.jsx(wt,{className:"h-4 w-4"})}));At.displayName=St.displayName;const Ke=p.forwardRef(({className:i,children:j,position:f="popper",...B},_)=>e.jsx(ar,{children:e.jsxs(Nt,{ref:_,className:he("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",f==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:f,...B,children:[e.jsx(Pt,{}),e.jsx(ir,{className:he("p-1",f==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:j}),e.jsx(At,{})]})}));Ke.displayName=Nt.displayName;const ur=p.forwardRef(({className:i,...j},f)=>e.jsx(_t,{ref:f,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",i),...j}));ur.displayName=_t.displayName;const Ve=p.forwardRef(({className:i,children:j,...f},B)=>e.jsxs(kt,{ref:B,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...f,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(or,{children:e.jsx(zt,{className:"h-4 w-4"})})}),e.jsx(nr,{children:j})]}));Ve.displayName=kt.displayName;const mr=p.forwardRef(({className:i,...j},f)=>e.jsx(Tt,{ref:f,className:he("-mx-1 my-1 h-px bg-muted",i),...j}));mr.displayName=Tt.displayName;function pr({onLogin:i}){const[j,f]=p.useState(""),[B,_]=p.useState(!1),{toast:v}=Le(),l=async()=>{if(!j){v({title:"Error",description:"Please enter admin password",variant:"destructive"});return}_(!0),j==="admin123"||j==="pickntrust2024"?(localStorage.setItem("pickntrust-admin-session","active"),v({title:"Success",description:"Admin login successful"}),i()):v({title:"Error",description:"Invalid admin password",variant:"destructive"}),_(!1),f("")},H=o=>{o.key==="Enter"&&l()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Admin Login Required"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Enter admin password to manage travel categories"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{type:"password",placeholder:"Admin password",value:j,onChange:o=>f(o.target.value),onKeyPress:H,className:"w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(te,{onClick:l,disabled:B,className:"flex-1",children:B?"Logging in...":"Login"}),e.jsx(te,{variant:"outline",onClick:()=>{const o=new CustomEvent("closeAdminLogin");window.dispatchEvent(o)},className:"flex-1",children:"Cancel"})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:[e.jsx("i",{className:"fas fa-lightbulb"})," Demo passwords: admin123 or pickntrust2024"]})]})})}const ft=[{id:1,name:"Flights",slug:"flights",icon:"fas fa-plane",color:"#2196F3",description:"Domestic and International Flight Bookings",isActive:!0,displayOrder:1},{id:2,name:"Hotels",slug:"hotels",icon:"fas fa-bed",color:"#FF9800",description:"Hotel Bookings and Accommodations",isActive:!0,displayOrder:2},{id:3,name:"Packages",slug:"packages",icon:"fas fa-suitcase",color:"#9C27B0",description:"Complete Travel Packages",isActive:!0,displayOrder:3},{id:4,name:"Tours",slug:"tours",icon:"fas fa-map-marked-alt",color:"#F44336",description:"Guided Tours and Experiences",isActive:!0,displayOrder:4},{id:5,name:"Bus",slug:"bus",icon:"fas fa-bus",color:"#FFC107",description:"Bus Ticket Bookings",isActive:!0,displayOrder:5},{id:6,name:"Train",slug:"train",icon:"fas fa-train",color:"#4CAF50",description:"Railway Ticket Bookings",isActive:!0,displayOrder:6},{id:7,name:"Car Rental",slug:"car-rental",icon:"fas fa-car",color:"#3F51B5",description:"Car Rental Services",isActive:!0,displayOrder:7},{id:8,name:"Cruises",slug:"cruises",icon:"fas fa-ship",color:"#009688",description:"Cruise Bookings",isActive:!0,displayOrder:8},{id:9,name:"Tickets",slug:"tickets",icon:"fas fa-ticket-alt",color:"#E91E63",description:"Event and Activity Tickets",isActive:!0,displayOrder:9}];function hr({selectedCategory:i,onCategoryChange:j,isAdmin:f=!1,categoryCount:B=0}){var G;const[_,v]=p.useState(null),[l,H]=p.useState(!1),[o,E]=p.useState({}),[ae,Y]=p.useState(!1),[oe,ee]=p.useState(!1);p.useEffect(()=>{const C=localStorage.getItem("pickntrust-admin-session")==="active"||f;ee(C)},[f]);const le=()=>{ee(!0),Y(!1)},{toast:Q}=Le(),Z=Qe(),{data:de=ft}=qe({queryKey:["/api/travel-categories"],queryFn:async()=>{try{const m=await fetch("/api/travel-categories");if(m.ok){const C=await m.json();return Array.isArray(C)?C:ft}throw new Error("Failed to fetch categories")}catch(m){throw console.warn("Failed to fetch travel categories, using defaults:",m),m}},staleTime:1*60*1e3,refetchOnWindowFocus:!1}),{data:ge={}}=qe({queryKey:["/api/travel-deals/counts"],queryFn:async()=>{try{const m=await fetch("/api/travel-deals/counts");return m.ok?await m.json():{}}catch{return{}}},staleTime:2*60*1e3,refetchOnWindowFocus:!1}),k=Ie({mutationFn:async m=>{const C=await fetch(`/api/travel-categories/${m.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!C.ok)throw new Error("Failed to update category");return C.json()},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/travel-categories"]}),Q({title:"Category updated successfully"}),v(null)},onError:()=>{Q({title:"Failed to update category",variant:"destructive"})}}),X=Ie({mutationFn:async m=>{const C=await fetch("/api/travel-categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,displayOrder:de.length+1,isActive:!0})});if(!C.ok)throw new Error("Failed to add category");return C.json()},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/travel-categories"]}),Q({title:"Category added successfully"}),H(!1),E({})},onError:()=>{Q({title:"Failed to add category",variant:"destructive"})}}),a=Ie({mutationFn:async m=>{const C=await fetch(`/api/travel-categories/${m}`,{method:"DELETE"});if(!C.ok)throw new Error("Failed to delete category");return C.json()},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/travel-categories"]}),Q({title:"Category deleted successfully"})},onError:()=>{Q({title:"Failed to delete category",variant:"destructive"})}}),L=()=>{_&&k.mutate(_)},s=()=>{if(!o.name||!o.slug||!o.icon){Q({title:"Error",description:"Please fill in all required fields (Name, Icon, Route Path)",variant:"destructive"});return}const m={name:o.name,slug:o.slug,icon:o.icon,color:o.color||"#3B82F6",description:o.description||""};X.mutate(m)},F=m=>{confirm("Are you sure you want to delete this category?")&&a.mutate(m)},N=de.filter(m=>m.isActive).sort((m,C)=>m.displayOrder-C.displayOrder);return e.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-lg mb-8 overflow-hidden",children:[oe&&e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Travel Categories"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Manage travel navigation"})]}),e.jsxs(at,{open:l,onOpenChange:H,children:[e.jsx(ht,{asChild:!0,children:e.jsxs(te,{variant:"outline",size:"sm",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),e.jsxs(it,{className:"sm:max-w-md",children:[e.jsx(ot,{children:e.jsx(nt,{children:"Add New Travel Category"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Category Name *"}),e.jsx(z,{placeholder:"",value:o.name||"",onChange:m=>E({...o,name:m.target.value}),className:"bg-gray-600 border-gray-500 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Icon *"}),e.jsx(z,{placeholder:"fas fa-ticket-alt",value:o.icon||"",onChange:m=>E({...o,icon:m.target.value}),className:"bg-gray-600 border-gray-500 text-white"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[e.jsx("button",{type:"button",className:"px-3 py-1 bg-blue-600 text-white text-xs rounded",children:"Travel"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Stay"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Activity"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Service"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Dining"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Shopping"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Navigation"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Weather"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"General"})]}),e.jsxs("div",{className:"grid grid-cols-8 gap-2 mt-3 p-3 bg-gray-700 rounded",children:[e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-plane"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-plane"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-plane text-white"})}),e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-bed"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-bed"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-bed text-white"})}),e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-suitcase"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-suitcase"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-suitcase text-white"})}),e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-map-marked-alt"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-map-marked-alt"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-map-marked-alt text-white"})}),e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-bus"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-bus"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-bus text-white"})}),e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-train"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-train"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-train text-white"})}),e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-car"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-car"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-car text-white"})}),e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-ship"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-ship"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-ship text-white"})}),e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-anchor"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-anchor"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-anchor text-white"})}),e.jsx("button",{type:"button",onClick:()=>E({...o,icon:"fas fa-mountain"}),className:`p-2 rounded hover:bg-gray-500 ${o.icon==="fas fa-mountain"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-mountain text-white"})})]}),e.jsxs("p",{className:"text-xs text-yellow-400 mt-2",children:[e.jsx("i",{className:"fas fa-lightbulb"})," Tip: You can also type any Font Awesome icon class in the input field above"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Description"}),e.jsx(z,{placeholder:"",value:o.description||"",onChange:m=>E({...o,description:m.target.value}),className:"bg-gray-600 border-gray-500 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Route Path"}),e.jsx(z,{placeholder:"/category-name",value:o.slug||"",onChange:m=>E({...o,slug:m.target.value}),className:"bg-gray-600 border-gray-500 text-white"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-200",children:"Active"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(te,{onClick:s,disabled:!o.name||!o.slug||!o.icon,children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),"Add Category"]}),e.jsx(te,{variant:"outline",onClick:()=>H(!1),children:"Cancel"})]})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("div",{className:"overflow-x-auto scrollbar-hide mx-12",children:e.jsx("div",{className:"flex gap-6 py-4 px-4 min-w-max",children:N.map(m=>{const C=i===m.slug,ce=m.slug===i?B:ge[m.slug]||0;return e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:()=>j(m.slug),className:"flex flex-col items-center gap-2 transition-all duration-200 hover:scale-105",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white text-xl font-medium transition-all duration-200 hover:scale-105",style:{backgroundColor:m.color,boxShadow:`0 2px 8px ${m.color}40`},children:m.icon.startsWith("fas ")||m.icon.startsWith("fa ")?e.jsx("i",{className:m.icon}):e.jsx("span",{className:"text-2xl",children:m.icon})}),C&&e.jsx("div",{className:"absolute inset-0 w-16 h-16 rounded-full border-2 border-white animate-pulse"})]}),e.jsxs("span",{className:"text-white text-sm font-medium text-center min-w-[80px]",children:[m.name," (",ce,")"]})]}),oe&&e.jsx("div",{className:"absolute -top-1 -right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(at,{open:(_==null?void 0:_.id)===m.id,onOpenChange:q=>{q||v(null)},children:[e.jsx(ht,{asChild:!0,children:e.jsx(te,{size:"sm",variant:"outline",className:"w-6 h-6 p-0 bg-blue-500 border-blue-500 text-white hover:bg-blue-600 rounded-full",onClick:()=>v(m),children:e.jsx(Vt,{className:"w-3 h-3"})})}),e.jsxs(it,{className:"sm:max-w-md",children:[e.jsx(ot,{children:e.jsx(nt,{children:"Edit Travel Category"})}),_&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{placeholder:"Category Name",value:_.name,onChange:q=>v({..._,name:q.target.value})}),e.jsx(z,{placeholder:"Category Slug",value:_.slug,onChange:q=>v({..._,slug:q.target.value})}),e.jsx(z,{placeholder:"Icon (emoji)",value:_.icon,onChange:q=>v({..._,icon:q.target.value})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:_.color||"#3B82F6",onChange:q=>v({..._,color:q.target.value}),className:"w-12 h-10 rounded border border-gray-300 cursor-pointer"}),e.jsx(z,{placeholder:"#3B82F6",value:_.color,onChange:q=>v({..._,color:q.target.value}),className:"flex-1"})]})]}),e.jsx(z,{placeholder:"Description",value:_.description||"",onChange:q=>v({..._,description:q.target.value})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(te,{onClick:L,children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),e.jsx(te,{variant:"outline",onClick:()=>v(null),children:"Cancel"})]})]})]})]}),e.jsx(te,{size:"sm",variant:"outline",className:"w-6 h-6 p-0 bg-red-500 border-red-500 text-white hover:bg-red-600 rounded-full",onClick:()=>F(m.id),children:e.jsx(Qt,{className:"w-3 h-3"})})]})})]},m.id)})})}),e.jsx("button",{className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),i&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-slate-300 text-sm",children:(G=N.find(m=>m.slug===i))==null?void 0:G.description})}),ae&&e.jsx(pr,{onLogin:le})]})}const gr={flights:{fields:[{name:"airline",label:"Airline",type:"text",placeholder:"e.g., Air India, IndiGo"},{name:"departure",label:"Departure City",type:"text",placeholder:"e.g., Mumbai, Delhi"},{name:"arrival",label:"Arrival City",type:"text",placeholder:"e.g., Bangalore, Chennai"},{name:"departureTime",label:"Departure Time",type:"time"},{name:"arrivalTime",label:"Arrival Time",type:"time"},{name:"duration",label:"Flight Duration",type:"text",placeholder:"e.g., 2h 30m"},{name:"flightClass",label:"Class",type:"select",options:["Economy","Premium Economy","Business","First Class"]},{name:"stops",label:"Stops",type:"select",options:["Non-stop","1 Stop","2+ Stops"]},{name:"routeType",label:"Route Type",type:"select",options:["domestic","international"]},{name:"brandBadge",label:"Brand Badge (Optional)",type:"text",placeholder:"e.g., Premium Partner, Verified Airline"}],sections:[{value:"featured",label:"Airlines & Brand Promotions"},{value:"standard",label:"Flight Search Results"},{value:"destinations",label:"Browse by Destinations"}]},hotels:{fields:[{name:"location",label:"Location/City",type:"text",placeholder:"e.g., Goa, Mumbai"},{name:"hotelType",label:"Hotel Type",type:"select",options:["Luxury","Business","Budget","Resort","Boutique"]},{name:"roomType",label:"Room Type",type:"text",placeholder:"e.g., Deluxe Room, Suite"},{name:"amenities",label:"Amenities",type:"textarea",placeholder:"e.g., WiFi, Pool, Spa, Gym (comma separated)"},{name:"rating",label:"Star Rating",type:"select",options:["1","2","3","4","5"]},{name:"cancellation",label:"Cancellation Policy",type:"text",placeholder:"e.g., Free cancellation till 24hrs"},{name:"brandBadge",label:"Brand Badge (Optional)",type:"text",placeholder:"e.g., Premium Partner, Verified Hotel"}],sections:[{value:"featured",label:"Featured Hotels & Premium Stays"},{value:"standard",label:"Quick Browse Hotels"},{value:"destinations",label:"Browse by Destination"}]},tours:{fields:[{name:"duration",label:"Tour Duration",type:"text",placeholder:"e.g., 5 Days 4 Nights"},{name:"destinations",label:"Destinations Covered",type:"textarea",placeholder:"e.g., Delhi, Agra, Jaipur"},{name:"inclusions",label:"Inclusions",type:"textarea",placeholder:"e.g., Accommodation, Meals, Transport"},{name:"tourType",label:"Tour Type",type:"select",options:["Cultural","Adventure","Wildlife","Spiritual","Beach","Hill Station"]},{name:"groupSize",label:"Group Size",type:"text",placeholder:"e.g., 2-15 people"},{name:"difficulty",label:"Difficulty Level",type:"select",options:["Easy","Moderate","Challenging"]}],sections:[{value:"featured",label:"Featured Tour Packages & Premium Experiences"},{value:"standard",label:"Quick Browse Packages"},{value:"destinations",label:"Browse by Destination"}]},cruises:{fields:[{name:"cruiseLine",label:"Cruise Line",type:"text",placeholder:"e.g., Royal Caribbean, MSC"},{name:"route",label:"Cruise Route",type:"text",placeholder:"e.g., Mediterranean, Caribbean"},{name:"duration",label:"Cruise Duration",type:"text",placeholder:"e.g., 7 nights"},{name:"cabinType",label:"Cabin Type",type:"select",options:["Interior","Ocean View","Balcony","Suite"]},{name:"ports",label:"Ports of Call",type:"textarea",placeholder:"e.g., Barcelona, Rome, Naples"},{name:"amenities",label:"Ship Amenities",type:"textarea",placeholder:"e.g., Pool, Spa, Casino, Theater"}],sections:[{value:"featured",label:"Our Featured Cruise Lines"},{value:"standard",label:"Most-booked Cruise Destinations"},{value:"destinations",label:"Browse by Destinations"}]},bus:{fields:[{name:"operator",label:"Bus Operator",type:"text",placeholder:"e.g., Volvo, RedBus"},{name:"departure",label:"Departure City",type:"text",placeholder:"e.g., Mumbai, Delhi"},{name:"arrival",label:"Arrival City",type:"text",placeholder:"e.g., Pune, Goa"},{name:"departureTime",label:"Departure Time",type:"time"},{name:"arrivalTime",label:"Arrival Time",type:"time"},{name:"duration",label:"Journey Duration",type:"text",placeholder:"e.g., 8h 30m"},{name:"busType",label:"Bus Type",type:"select",options:["AC Sleeper","Non-AC Sleeper","AC Seater","Non-AC Seater","Volvo"]},{name:"amenities",label:"Amenities",type:"textarea",placeholder:"e.g., WiFi, Charging Point, Blanket"}],sections:[{value:"featured",label:"Bus Operators & Brand Promotions"},{value:"standard",label:"Bus Search Results"},{value:"destinations",label:"Browse by Destinations"}]},train:{fields:[{name:"trainOperator",label:"Train Operator",type:"text",placeholder:"e.g., Indian Railways, Rajdhani"},{name:"departure",label:"Departure Station",type:"text",placeholder:"e.g., Mumbai Central, New Delhi"},{name:"arrival",label:"Arrival Station",type:"text",placeholder:"e.g., Chennai Central, Bangalore"},{name:"departureTime",label:"Departure Time",type:"time"},{name:"arrivalTime",label:"Arrival Time",type:"time"},{name:"duration",label:"Journey Duration",type:"text",placeholder:"e.g., 16h 00m"},{name:"trainType",label:"Train Class",type:"select",options:["AC 1-Tier","AC 2-Tier","AC 3-Tier","Sleeper","General"]},{name:"trainNumber",label:"Train Number",type:"text",placeholder:"e.g., 12951"}],sections:[{value:"featured",label:"Train Operators & Brand Promotions"},{value:"standard",label:"Train Search Results"},{value:"destinations",label:"Browse by Destinations"}]},packages:{fields:[{name:"duration",label:"Package Duration",type:"text",placeholder:"e.g., 5 Days 4 Nights"},{name:"destinations",label:"Destinations Covered",type:"textarea",placeholder:"e.g., Goa, Mumbai, Pune"},{name:"inclusions",label:"Package Inclusions",type:"textarea",placeholder:"e.g., Flights, Hotels, Meals, Transport"},{name:"location",label:"Primary Location",type:"text",placeholder:"e.g., Goa, Kerala, Dubai"},{name:"packageType",label:"Package Type",type:"select",options:["Honeymoon","Family","Adventure","Business","Group","Solo","Luxury"]},{name:"groupSize",label:"Group Size",type:"text",placeholder:"e.g., 2-6 people"},{name:"validTill",label:"Valid Till",type:"date"},{name:"routeType",label:"Route Type",type:"select",options:["domestic","international"]},{name:"flightPrice",label:"Flight Add-on Price (Optional)",type:"text",placeholder:"e.g., 8000 (amount only, no currency symbol)"},{name:"flightRoute",label:"Flight Route (Optional)",type:"text",placeholder:"e.g., Delhi-Kochi-Delhi, Mumbai-Goa-Mumbai"},{name:"flightDetails",label:"Flight Details (Optional)",type:"text",placeholder:"e.g., Economy class, 2 nights, IndiGo"},{name:"brandBadge",label:"Brand Badge (Optional)",type:"text",placeholder:"e.g., Premium Partner, Verified Package"}],sections:[{value:"featured",label:"Best Selling Destinations"},{value:"standard",label:"International Destinations"},{value:"destinations",label:"Visa Free Destinations"},{value:"special",label:"Last Minute Deals"},{value:"cities",label:"Destination Packages"}]},"car-rental":{fields:[{name:"carType",label:"Car Type",type:"select",options:["Economy","Compact","SUV","Luxury","Premium"]},{name:"location",label:"Pickup Location",type:"text",placeholder:"e.g., Mumbai Airport, Delhi"},{name:"duration",label:"Rental Duration",type:"text",placeholder:"e.g., 3 days, 1 week"},{name:"features",label:"Car Features",type:"textarea",placeholder:"e.g., GPS, AC, Automatic"},{name:"fuelType",label:"Fuel Type",type:"select",options:["Petrol","Diesel","Electric","Hybrid"]},{name:"transmission",label:"Transmission",type:"select",options:["Manual","Automatic"]}],sections:[{value:"featured",label:"Car Rental Operators & Brand Promotions"},{value:"standard",label:"Car Rental Search Results"},{value:"destinations",label:"Browse by Destinations"}]}},fr=["INR","USD","EUR","GBP","AUD","CAD","JPY","CNY","SGD","AED","THB","MYR"],xr=[{color:"#000000",name:"Black"},{color:"#ffffff",name:"White"},{color:"#6b7280",name:"Gray"},{color:"#374151",name:"Dark Gray"},{color:"#9ca3af",name:"Light Gray"},{color:"#ef4444",name:"Red"},{color:"#dc2626",name:"Dark Red"},{color:"#fca5a5",name:"Light Red"},{color:"#7f1d1d",name:"Maroon"},{color:"#fee2e2",name:"Pink White"},{color:"#f97316",name:"Orange"},{color:"#ea580c",name:"Dark Orange"},{color:"#fdba74",name:"Light Orange"},{color:"#c2410c",name:"Burnt Orange"},{color:"#fed7aa",name:"Peach"},{color:"#eab308",name:"Yellow"},{color:"#ca8a04",name:"Dark Yellow"},{color:"#fde047",name:"Bright Yellow"},{color:"#a16207",name:"Amber"},{color:"#fef3c7",name:"Light Yellow"},{color:"#22c55e",name:"Green"},{color:"#059669",name:"Emerald"},{color:"#16a34a",name:"Dark Green"},{color:"#84cc16",name:"Lime"},{color:"#dcfce7",name:"Light Green"},{color:"#065f46",name:"Forest Green"},{color:"#10b981",name:"Teal Green"},{color:"#3b82f6",name:"Blue"},{color:"#1d4ed8",name:"Dark Blue"},{color:"#60a5fa",name:"Light Blue"},{color:"#0ea5e9",name:"Sky Blue"},{color:"#06b6d4",name:"Cyan"},{color:"#1e40af",name:"Navy Blue"},{color:"#dbeafe",name:"Pale Blue"},{color:"#8b5cf6",name:"Purple"},{color:"#7c3aed",name:"Dark Purple"},{color:"#a78bfa",name:"Light Purple"},{color:"#6366f1",name:"Indigo"},{color:"#8b5a2b",name:"Brown"},{color:"#5b21b6",name:"Deep Purple"},{color:"#ec4899",name:"Pink"},{color:"#db2777",name:"Dark Pink"},{color:"#f472b6",name:"Light Pink"},{color:"#be185d",name:"Rose"},{color:"#fce7f3",name:"Pale Pink"},{color:"#14b8a6",name:"Teal"},{color:"#f59e0b",name:"Amber Orange"},{color:"#84cc16",name:"Lime Green"},{color:"#06b6d4",name:"Light Cyan"},{color:"#8b5a2b",name:"Saddle Brown"},{color:"#92400e",name:"Dark Brown"},{color:"#451a03",name:"Coffee Brown"},{color:"#78716c",name:"Stone"},{color:"#57534e",name:"Dark Stone"}],xt=[{gradient:"from-blue-400 to-blue-500",name:"Blue Gradient",preview:"linear-gradient(to right, #60a5fa, #3b82f6)"},{gradient:"from-red-400 to-red-500",name:"Red Gradient",preview:"linear-gradient(to right, #f87171, #ef4444)"},{gradient:"from-purple-400 to-purple-500",name:"Purple Gradient",preview:"linear-gradient(to right, #a78bfa, #8b5cf6)"},{gradient:"from-orange-400 to-orange-500",name:"Orange Gradient",preview:"linear-gradient(to right, #fb923c, #f97316)"},{gradient:"from-green-400 to-green-500",name:"Green Gradient",preview:"linear-gradient(to right, #4ade80, #22c55e)"},{gradient:"from-pink-400 to-pink-500",name:"Pink Gradient",preview:"linear-gradient(to right, #f472b6, #ec4899)"},{gradient:"from-yellow-400 to-yellow-500",name:"Yellow Gradient",preview:"linear-gradient(to right, #facc15, #eab308)"},{gradient:"from-indigo-400 to-indigo-500",name:"Indigo Gradient",preview:"linear-gradient(to right, #818cf8, #6366f1)"},{gradient:"from-teal-400 to-teal-500",name:"Teal Gradient",preview:"linear-gradient(to right, #2dd4bf, #14b8a6)"},{gradient:"from-cyan-400 to-cyan-500",name:"Cyan Gradient",preview:"linear-gradient(to right, #22d3ee, #06b6d4)"},{gradient:"from-emerald-400 to-emerald-500",name:"Emerald Gradient",preview:"linear-gradient(to right, #34d399, #10b981)"},{gradient:"from-rose-400 to-rose-500",name:"Rose Gradient",preview:"linear-gradient(to right, #fb7185, #f43f5e)"}];function br({isOpen:i,onClose:j,category:f,onSubmit:B}){var Ge,re,Fe;const{toast:_}=Le(),[v,l]=p.useState({name:"",description:"",price:"",originalPrice:"",currency:"INR",imageUrl:"",affiliateUrl:"",sectionType:"featured"}),[H,o]=p.useState({}),[E,ae]=p.useState({}),[Y,oe]=p.useState("from-orange-400 to-orange-500"),[ee,le]=p.useState(!1),[Q,Z]=p.useState(""),[de,ge]=p.useState("#374151"),[k,X]=p.useState(""),[a,L]=p.useState(!1),[s,F]=p.useState(!1),[N,G]=p.useState("manual"),m=gr[f],C=(n,R)=>{l($=>({...$,[n]:R}))},ce=async n=>{L(!0);try{const R=await fetch("/api/extract-travel-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n,category:f,extractionType:"comprehensive"})});if(!R.ok)throw new Error("Failed to extract data from URL");const $=await R.json();if($.success){const U=$.data;l(K=>({...K,name:U.name||K.name,description:U.description||K.description,price:U.price||K.price,originalPrice:U.originalPrice||K.originalPrice,currency:U.currency||K.currency,imageUrl:U.imageUrl||K.imageUrl,affiliateUrl:n,...U.categoryFields})),U.styling&&(U.styling.cardBackground&&oe(U.styling.cardBackground),U.styling.fieldColors&&o(U.styling.fieldColors),U.styling.fieldStyles&&ae(U.styling.fieldStyles)),_({title:"Data Extracted Successfully!",description:`Extracted ${Object.keys(U.categoryFields||{}).length+6} fields from the URL.`}),G("url")}else throw new Error($.error||"Failed to extract data")}catch(R){console.error("URL extraction error:",R),_({title:"Extraction Failed",description:R instanceof Error?R.message:"Could not extract data from this URL. Please fill the form manually.",variant:"destructive"})}finally{L(!1)}},q=()=>{if(!k.trim()){_({title:"URL Required",description:"Please enter a valid travel booking URL.",variant:"destructive"});return}ce(k.trim())},ye=(n,R)=>{o($=>({...$,[n]:R}))},ue=(n,R,$)=>{ae(U=>({...U,[n]:{...U[n],[R]:$}}))},Me=({fieldName:n,label:R})=>{const $=H[n]||"#000000",U=E[n]||{};return e.jsxs("div",{className:"mt-2",children:[e.jsxs(se,{className:"text-xs text-gray-600",children:[R," Styling"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{type:"button",onClick:()=>ue(n,"bold",!U.bold),className:`px-2 py-1 text-xs border rounded font-bold transition-all ${U.bold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,title:"Bold",children:"B"}),e.jsx("button",{type:"button",onClick:()=>ue(n,"italic",!U.italic),className:`px-2 py-1 text-xs border rounded italic transition-all ${U.italic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,title:"Italic",children:"I"}),e.jsx("button",{type:"button",onClick:()=>ue(n,"underline",!U.underline),className:`px-2 py-1 text-xs border rounded underline transition-all ${U.underline?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,title:"Underline",children:"U"}),e.jsx("button",{type:"button",onClick:()=>ue(n,"strikethrough",!U.strikethrough),className:`px-2 py-1 text-xs border rounded line-through transition-all ${U.strikethrough?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,title:"Strikethrough",children:"S"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Color:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:xr.map(K=>e.jsx("button",{type:"button",onClick:()=>ye(n,K.color),className:`w-6 h-6 rounded-full border transition-all hover:scale-110 ${$===K.color?"border-gray-800 shadow-md border-2":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:K.color},title:K.name},K.color))})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("input",{type:"color",value:$,onChange:K=>ye(n,K.target.value),className:"w-8 h-8 rounded border border-gray-300 cursor-pointer"}),e.jsx(z,{value:$,onChange:K=>ye(n,K.target.value),placeholder:"#000000",className:"text-xs h-8"})]})]})]})},Xe=n=>{var $;const R=($=n.target.files)==null?void 0:$[0];if(R){const U=new FileReader;U.onload=K=>{var We;const J=(We=K.target)==null?void 0:We.result;l(Se=>({...Se,imageUrl:J})),Z(J)},U.readAsDataURL(R)}},ke=async()=>{const n={flights:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=800&h=400&fit=crop",hotels:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=400&fit=crop",tours:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&h=400&fit=crop",cruises:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&h=400&fit=crop",bus:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=800&h=400&fit=crop",train:"https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=800&h=400&fit=crop",packages:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&h=400&fit=crop","car-rental":"https://images.unsplash.com/photo-1502877338535-766e1452684a?w=800&h=400&fit=crop"},R=n[f]||n.flights;l($=>({...$,imageUrl:R})),Z(R)},me=n=>{n.preventDefault();const R={...v,category:f,fieldColors:H,fieldStyles:E,cardBackgroundColor:Y,id:`${f}-${Date.now()}`,createdAt:new Date().toISOString()};B(R),j(),l({name:"",description:"",price:"",originalPrice:"",currency:"INR",imageUrl:"",affiliateUrl:"",sectionType:"featured"}),o({}),ae({}),oe("from-orange-400 to-orange-500"),Z("")};return m?e.jsx(at,{open:i,onOpenChange:j,children:e.jsxs(it,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ot,{children:e.jsxs(nt,{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"capitalize",children:["Add ",f," Content"]}),e.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>le(!ee),className:"ml-auto",children:[e.jsx(Jt,{className:"w-4 h-4 mr-2"}),ee?"Hide":"Show"," Preview"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),"Smart Data Extraction"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(te,{type:"button",variant:N==="manual"?"default":"outline",size:"sm",onClick:()=>G("manual"),children:"Manual"}),e.jsx(te,{type:"button",variant:N==="url"?"default":"outline",size:"sm",onClick:()=>G("url"),children:"URL Extract"})]})]}),N==="url"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paste a travel booking URL (MakeMyTrip, Booking.com, Agoda, etc.) to automatically extract all travel details."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(z,{placeholder:`Paste ${f} booking URL here...`,value:k,onChange:n=>X(n.target.value),className:"flex-1"}),e.jsx(te,{type:"button",onClick:q,disabled:a||!k.trim(),className:"px-6",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Xt,{className:"w-4 h-4 mr-2 animate-spin"}),"Extracting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(tt,{className:"w-4 h-4 mr-2"}),"Extract Data"]})})]}),N==="url"&&v.name&&e.jsx("div",{className:"mt-2 p-2 bg-green-50 dark:bg-green-900/20 rounded border border-green-200 dark:border-green-800",children:e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300 flex items-center gap-2",children:[e.jsx(tt,{className:"w-4 h-4"}),"Data extracted successfully! Review and modify fields below if needed."]})})]})]}),e.jsxs("form",{onSubmit:me,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"name",children:"Name"}),e.jsx(z,{id:"name",value:v.name,onChange:n=>C("name",n.target.value),placeholder:`Enter ${f} name`}),e.jsx(Me,{fieldName:"name",label:"Name"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"description",children:"Description"}),e.jsx(ze,{id:"description",value:v.description,onChange:n=>C("description",n.target.value),placeholder:`Describe this ${f}`,rows:3}),e.jsx(Me,{fieldName:"description",label:"Description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"price",children:"Price"}),e.jsx(z,{id:"price",value:v.price,onChange:n=>C("price",n.target.value),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"originalPrice",children:"Original Price"}),e.jsx(z,{id:"originalPrice",value:v.originalPrice,onChange:n=>C("originalPrice",n.target.value),placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"currency",children:"Currency"}),e.jsxs(rt,{value:v.currency,onValueChange:n=>C("currency",n),children:[e.jsx(He,{children:e.jsx(st,{})}),e.jsx(Ke,{children:fr.map(n=>e.jsx(Ve,{value:n,children:n},n))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"taxesAmount",children:"Taxes & Fees (Optional)"}),e.jsx(z,{id:"taxesAmount",value:v.taxesAmount||"",onChange:n=>C("taxesAmount",n.target.value),placeholder:"695 (amount only)"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"gstAmount",children:"GST Amount (Optional)"}),e.jsx(z,{id:"gstAmount",value:v.gstAmount||"",onChange:n=>C("gstAmount",n.target.value),placeholder:"150 (amount only)"})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"affiliateUrl",children:"Affiliate/Booking URL"}),e.jsx(z,{id:"affiliateUrl",value:v.affiliateUrl,onChange:n=>C("affiliateUrl",n.target.value),placeholder:"https://..."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:[f," Details"]}),m.fields.map(n=>{var R;return e.jsxs("div",{children:[e.jsx(se,{htmlFor:n.name,children:n.label}),n.type==="select"?e.jsxs(rt,{value:v[n.name]||"",onValueChange:$=>C(n.name,$),children:[e.jsx(He,{children:e.jsx(st,{placeholder:`Select ${n.label}`})}),e.jsx(Ke,{children:(R=n.options)==null?void 0:R.map($=>e.jsx(Ve,{value:$,children:$},$))})]}):n.type==="textarea"?e.jsx(ze,{id:n.name,value:v[n.name]||"",onChange:$=>C(n.name,$.target.value),placeholder:n.placeholder,rows:2}):e.jsx(z,{id:n.name,type:n.type,value:v[n.name]||"",onChange:$=>C(n.name,$.target.value),placeholder:n.placeholder}),(n.type==="text"||n.type==="textarea")&&e.jsx(Me,{fieldName:n.name,label:n.label})]},n.name)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Display Settings"}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"sectionType",children:"Section to Display"}),e.jsxs(rt,{value:v.sectionType,onValueChange:n=>C("sectionType",n),children:[e.jsx(He,{children:e.jsx(st,{})}),e.jsx(Ke,{children:m.sections.map(n=>e.jsx(Ve,{value:n.value,children:n.label},n.value))})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"customSectionTitle",children:"Custom Section Title (Optional)"}),e.jsx(z,{id:"customSectionTitle",value:v.customSectionTitle||"",onChange:n=>C("customSectionTitle",n.target.value),placeholder:"Override default section title"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Leave empty to use default: ",(Ge=m.sections.find(n=>n.value===v.sectionType))==null?void 0:Ge.label]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"customSectionDescription",children:"Custom Section Description (Optional)"}),e.jsx(ze,{id:"customSectionDescription",value:v.customSectionDescription||"",onChange:n=>C("customSectionDescription",n.target.value),placeholder:"Override default section description",rows:2}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use default description"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"cardBackgroundColor",children:"Card Background Color"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Choose a gradient background for your card:"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:xt.map(n=>e.jsx("button",{type:"button",onClick:()=>oe(n.gradient),className:`h-12 rounded-lg border-2 transition-all hover:scale-105 ${Y===n.gradient?"border-gray-800 shadow-lg":"border-gray-300 hover:border-gray-500"}`,style:{background:n.preview},title:n.name},n.gradient))}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Selected: ",e.jsx("span",{className:"font-medium",children:((re=xt.find(n=>n.gradient===Y))==null?void 0:re.name)||"Orange Gradient"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Image"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(te,{type:"button",variant:"outline",onClick:()=>{var n;return(n=document.getElementById("imageUpload"))==null?void 0:n.click()},children:[e.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Upload Image"]}),e.jsxs(te,{type:"button",variant:"outline",onClick:ke,children:[e.jsx(tt,{className:"w-4 h-4 mr-2"}),"Auto Generate"]})]}),e.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",onChange:Xe,className:"hidden"}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"imageUrl",children:"Image URL"}),e.jsx(z,{id:"imageUrl",value:v.imageUrl,onChange:n=>{C("imageUrl",n.target.value),Z(n.target.value)},placeholder:"https://..."})]}),Q&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:Q,alt:"Preview",className:"w-full h-32 object-cover rounded border"})})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(te,{type:"submit",className:"flex-1",children:["Add ",f.charAt(0).toUpperCase()+f.slice(1)]}),e.jsx(te,{type:"button",variant:"outline",onClick:j,children:"Cancel"})]})]})]}),ee&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Preview"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[v.imageUrl&&e.jsx("div",{className:"relative h-48 overflow-hidden",children:e.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:de},children:v.name||"Sample Name"}),e.jsx("p",{className:"text-gray-600 mb-4",children:v.description||"Sample description text"}),v.price&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[v.originalPrice&&e.jsxs("span",{className:"text-gray-500 line-through mr-2",children:[v.currency," ",v.originalPrice]}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[v.currency," ",v.price]})]}),e.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg",children:"Book Now"})]}),e.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Section: ",(Fe=m.sections.find(n=>n.value===v.sectionType))==null?void 0:Fe.label]})]})]})]})]})]})}):null}const Ye=i=>{i.invalidateQueries({queryKey:["/api/products"]}),i.invalidateQueries({queryKey:["/api/products/featured"]}),i.invalidateQueries({queryKey:["/api/services"]}),i.invalidateQueries({queryKey:["/api/apps"]}),i.invalidateQueries({queryKey:["/api/prime-picks"]}),i.invalidateQueries({queryKey:["/api/click-picks"]}),i.invalidateQueries({queryKey:["/api/cue-picks"]}),i.invalidateQueries({queryKey:["/api/value-picks"]}),i.invalidateQueries({queryKey:["/api/loot-box"]}),i.invalidateQueries({queryKey:["/api/amazon"]}),i.invalidateQueries({queryKey:["/api/cuelinks"]}),i.invalidateQueries({queryKey:["/api/travel-deals"]}),i.invalidateQueries({queryKey:["travel-products"]}),i.invalidateQueries({queryKey:["/api/travel-products"]}),i.invalidateQueries({queryKey:["/api/homepage/services"]}),i.invalidateQueries({queryKey:["/api/homepage/apps"]}),i.invalidateQueries({queryKey:["/api/homepage/products"]}),i.invalidateQueries({queryKey:["/api/categories"]}),i.invalidateQueries({queryKey:["/api/search"]}),i.invalidateQueries({queryKey:["/api/wishlist"]})},Oe=async(i,j,f="pickntrust2025")=>{let B;i==="travel"&&j?B=`/api/admin/travel-products/${j}`:i==="all"?B="/api/admin/travel-products/bulk-delete":B=`/api/admin/products/${i}`;const _=await fetch(B,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:f})});if(!_.ok)throw new Error("Failed to delete product");return _.json()},Ar=Object.freeze(Object.defineProperty({__proto__:null,deleteProduct:Oe,invalidateAllProductQueries:Ye},Symbol.toStringTag,{value:"Module"})),ne=({deal:i,isAdmin:j,onShareToAll:f,className:B=""})=>{const{wishlist:_,addToWishlist:v,removeFromWishlist:l,isInWishlist:H}=Je(),[o,E]=p.useState(!1),[ae,Y]=p.useState(!1),[oe]=p.useState(["Instagram","Facebook","WhatsApp","Telegram"]),[ee,le]=p.useState(!1),Q=p.useRef(null);p.useEffect(()=>{const k=()=>{if(Q.current){const X=Q.current.closest(".group");if(X){const a=X.getBoundingClientRect(),L=window.innerWidth,s=a.width;le(s>500||a.right>L*.7)}}};return setTimeout(k,100),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const Z=()=>{f?f(i):Y(!0)},de=()=>{const k=`Check out ${i.name} - ${i.description||""} Starting from ${i.price}`,X=i.affiliateUrl||i.affiliate_url||window.location.href,a={whatsapp:`https://wa.me/?text=${encodeURIComponent(k+" "+X)}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(X)}`,twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(k)}&url=${encodeURIComponent(X)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(X)}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(X)}&text=${encodeURIComponent(k)}`};Object.entries(a).forEach(([L,s])=>{setTimeout(()=>{window.open(s,"_blank","noopener,noreferrer")},100)}),Y(!1)},ge=async()=>{if(window.confirm("Are you sure you want to delete this item?"))try{await Oe("travel",i.id),console.log("✅ Travel product deleted successfully:",i.id),window.location.reload()}catch(k){console.error("❌ Failed to delete travel product:",k),alert("Failed to delete item. Please try again.")}};return e.jsxs("div",{ref:Q,className:`hover-actions absolute opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out z-50 top-2 right-2 ${B}`,style:{pointerEvents:"auto",transform:"translateX(-100%) translateY(-20px)"},onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),onClick:k=>{k.preventDefault(),k.stopPropagation()},children:[e.jsxs("div",{className:"flex flex-col gap-2 bg-gray-800 rounded-lg shadow-lg border border-gray-600 p-2 min-w-[120px]",onClick:k=>{k.preventDefault(),k.stopPropagation()},children:[e.jsxs("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),H(i.id)?l(i.id):v(i)},className:"flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-gray-700 transition-colors duration-200",title:H(i.id)?"Remove from Wishlist":"Add to Wishlist",children:[e.jsx("i",{className:`fas fa-heart ${H(i.id)?"text-red-500":"text-gray-300"}`}),e.jsx("span",{className:"text-white",children:"Wishlist"})]}),j?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),Z()},className:"flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-blue-600 transition-colors duration-200 text-blue-400 hover:text-white",title:"Share to All Platforms",children:[e.jsx("i",{className:"fas fa-share-alt"}),e.jsx("span",{children:"Share All"})]}),e.jsx("div",{onClick:k=>{k.preventDefault(),k.stopPropagation()},className:"hover:bg-gray-700 rounded-md",children:e.jsx(xe,{product:{id:i.id,name:i.name,description:i.description,price:i.price,imageUrl:i.imageUrl||i.image_url,category:i.category,affiliateUrl:i.affiliateUrl||i.affiliate_url},className:"flex items-center gap-2 px-3 py-2 text-sm w-full text-left text-white hover:text-blue-400",buttonText:"Share",showIcon:!0})}),e.jsxs("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),ge()},className:"flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-red-600 transition-colors duration-200 text-red-400 hover:text-white",title:"Delete",children:[e.jsx("i",{className:"fas fa-trash"}),e.jsx("span",{children:"Delete"})]})]}):e.jsx("div",{onClick:k=>{k.preventDefault(),k.stopPropagation()},className:"hover:bg-gray-700 rounded-md",children:e.jsx(xe,{product:{id:i.id,name:i.name,description:i.description,price:i.price,imageUrl:i.imageUrl||i.image_url,category:i.category,affiliateUrl:i.affiliateUrl||i.affiliate_url},className:"flex items-center gap-2 px-3 py-2 text-sm w-full text-left text-white hover:text-blue-400",buttonText:"Share",showIcon:!0})})]}),e.jsx(bt,{isOpen:ae,onClose:()=>Y(!1),onConfirm:de,productName:i.name,platforms:oe})]})},yr={flights:{sections:[{id:"featured",title:"Airlines & Brand Promotions",icon:"fas fa-plane-departure",color:"from-blue-500 to-blue-600",description:"Featured airlines with exclusive offers",type:"featured"},{id:"standard",title:"Flight Search Results",icon:"fas fa-search",color:"from-purple-500 to-purple-600",description:"Compare flight prices and timings",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore popular destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","domestic","international"]},hotels:{sections:[{id:"featured",title:"Featured Hotels & Premium Stays",icon:"fas fa-crown",color:"from-purple-500 to-purple-600",description:"Luxury hotels and exclusive deals",type:"featured"},{id:"standard",title:"Quick Browse Hotels",icon:"fas fa-th-large",color:"from-blue-500 to-blue-600",description:"Compare hotels quickly",type:"standard"},{id:"destinations",title:"Browse by Destination",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore hotels by destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","luxury","budget","3-star","4-star","5-star"]},tours:{sections:[{id:"trending",title:"Trending Destinations",icon:"fas fa-fire",color:"from-orange-500 to-red-600",description:"Discover the most popular travel destinations worldwide",type:"destinations"},{id:"featured",title:"Featured Tour Packages & Premium Experiences",icon:"fas fa-crown",color:"from-purple-500 to-purple-600",description:"Luxury tour packages and exclusive experiences",type:"featured"},{id:"standard",title:"Quick Browse Packages",icon:"fas fa-th-large",color:"from-blue-500 to-blue-600",description:"Compare tour packages quickly",type:"standard"}],hasFilter:!0,filterOptions:["all","adventure","cultural","wildlife","beach","mountain"]},cruises:{sections:[{id:"featured",title:"Our Featured Cruise Lines",icon:"fas fa-crown",color:"from-purple-500 to-purple-600",description:"Luxury cruises and exclusive voyage deals",type:"featured"},{id:"standard",title:"Most-booked Cruise Destinations",icon:"fas fa-map-marked-alt",color:"from-blue-500 to-blue-600",description:"Popular cruise destinations worldwide",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-globe",color:"from-purple-500 to-purple-600",description:"Explore cruise destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","luxury","family","expedition","river","ocean"]},bus:{sections:[{id:"featured",title:"Bus Operators & Brand Promotions",icon:"fas fa-bus",color:"from-blue-500 to-blue-600",description:"Featured bus operators with exclusive offers",type:"featured"},{id:"standard",title:"Bus Search Results",icon:"fas fa-search",color:"from-purple-500 to-purple-600",description:"Compare bus prices and timings",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore popular bus destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","ac","non-ac","sleeper","seater"]},packages:{sections:[{id:"featured",title:"Best Selling Destinations",icon:"fas fa-map-marked-alt",color:"from-orange-500 to-red-600",description:"Mega Price Drop on Packages for Your October Long Weekend Trip. Use code: MOSTWANTED",type:"featured"},{id:"standard",title:"International Destinations",icon:"fas fa-globe-americas",color:"from-blue-500 to-indigo-600",description:"Explore amazing international destinations",type:"standard"},{id:"destinations",title:"Visa Free Destinations",icon:"fas fa-passport",color:"from-green-500 to-teal-600",description:"Up to 30% off! Limited time offer",type:"destinations"},{id:"special",title:"Last Minute Deals",icon:"fas fa-clock",color:"from-purple-500 to-pink-600",description:"Grab amazing deals before they expire",type:"special"},{id:"cities",title:"Destination Packages",icon:"fas fa-map-marker-alt",color:"from-teal-500 to-cyan-600",description:"Explore packages by popular destinations",type:"cities"}],hasFilter:!0,filterOptions:["all","domestic","international","honeymoon","family","adventure"]},train:{sections:[{id:"featured",title:"Train Operators & Brand Promotions",icon:"fas fa-train",color:"from-green-500 to-green-600",description:"Featured train operators with exclusive offers",type:"featured"},{id:"standard",title:"Train Search Results",icon:"fas fa-search",color:"from-blue-500 to-blue-600",description:"Compare train prices and timings",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-purple-500 to-purple-600",description:"Explore popular train destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","ac","sleeper","3ac","2ac","1ac"]},"car-rental":{sections:[{id:"featured",title:"Car Rental Operators & Brand Promotions",icon:"fas fa-car",color:"from-green-500 to-green-600",description:"Featured car rental operators with exclusive offers",type:"featured"},{id:"standard",title:"Car Rental Search Results",icon:"fas fa-search",color:"from-blue-500 to-blue-600",description:"Compare car rental prices and options",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-purple-500 to-purple-600",description:"Explore popular car rental destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","economy","compact","suv","luxury","premium"]}};function vr(){const{toast:i}=Le(),{wishlist:j,addToWishlist:f,removeFromWishlist:B,isInWishlist:_}=Je(),v=Qe(),[l,H]=p.useState("flights"),[o,E]=p.useState("all"),[ae,Y]=p.useState({min:0,max:1/0}),[oe,ee]=p.useState({}),[le,Q]=p.useState({}),[Z,de]=p.useState({}),[ge,k]=p.useState({}),[X,a]=p.useState(!1),[L,s]=p.useState([]),[F,N]=p.useState(!1),[G,m]=p.useState(null),[C,ce]=p.useState(!1),[q,ye]=p.useState(""),[ue,Me]=p.useState([]),Xe=["Instagram","Facebook","WhatsApp","Telegram"],{convertPrice:ke,currentCurrency:me,setCurrency:Ge}=It(),re=t=>({USD:"$",EUR:"€",GBP:"£",INR:"₹",JPY:"¥",CAD:"C$",AUD:"A$"})[t]||t,Fe=(t,r,h)=>{var Pe,Ae,Ue,De,$e,Be,Ee,Re;const w=S=>{if(!S)return 0;const x=String(S).replace(/[^0-9.]/g,""),b=parseFloat(x);return isNaN(b)?0:b},P=(S,x=me)=>{try{const b=ke(S,t.currency||"INR",me),d=Math.round(b);return`${re(me)}${d.toLocaleString()}`}catch{return`${re(me)}${Math.round(S).toLocaleString()}`}},pe=w(t.price),we=w(t.originalPrice||t.original_price),ie=P(pe),be=we>0?P(we):null;if(j.some(S=>S.id===t.id),l==="tours"&&r==="destinations"){const x=(b=>{const d=b.toLowerCase();return d.includes("dubai")?{image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-amber-500/90 via-orange-400/70 to-transparent",textColor:"text-white",name:"Dubai"}:d.includes("paris")?{image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-600/90 via-indigo-500/70 to-transparent",textColor:"text-white",name:"Paris"}:d.includes("bali")?{image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-emerald-500/90 via-teal-400/70 to-transparent",textColor:"text-white",name:"Bali"}:d.includes("phuket")?{image:"https://images.unsplash.com/photo-1589394815804-964ed0be2eb5?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-cyan-500/90 via-blue-400/70 to-transparent",textColor:"text-white",name:"Phuket"}:d.includes("singapore")?{image:"https://images.unsplash.com/photo-1525625293386-3f8f99389edd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-purple-500/90 via-pink-400/70 to-transparent",textColor:"text-white",name:"Singapore"}:d.includes("bangkok")?{image:"https://images.unsplash.com/photo-1563492065-1a4e2e8b8c3e?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-rose-500/90 via-pink-400/70 to-transparent",textColor:"text-white",name:"Bangkok"}:d.includes("london")?{image:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-slate-600/90 via-gray-500/70 to-transparent",textColor:"text-white",name:"London"}:d.includes("kuala lumpur")?{image:"https://images.unsplash.com/photo-1596422846543-75c6fc197f07?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-500/90 via-emerald-400/70 to-transparent",textColor:"text-white",name:"Kuala Lumpur"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-indigo-400/70 to-transparent",textColor:"text-white",name:t.name||"Destination"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block w-full h-[240px] rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:scale-[1.02] hover:-translate-y-1",children:[e.jsx("img",{src:x.image,alt:x.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:b=>{const d=b.target;d.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${x.gradient}`}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("h3",{className:`text-3xl font-bold ${x.textColor} drop-shadow-lg text-center`,children:x.name})}),e.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-gray-800 font-bold py-2 px-6 rounded-full hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Pick Now"})})]}),e.jsx(ne,{deal:t,isAdmin:J})]},t.id)}if(l==="packages"&&r==="featured"){const x=(b=>{const d=b.toLowerCase();return d.includes("kerala")?{image:"https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-green-600/80 via-emerald-500/60 to-transparent",accent:"bg-emerald-500"}:d.includes("thailand")?{image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-blue-600/80 via-cyan-500/60 to-transparent",accent:"bg-cyan-500"}:d.includes("andaman")?{image:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-teal-600/80 via-turquoise-500/60 to-transparent",accent:"bg-teal-500"}:d.includes("south india")?{image:"https://images.unsplash.com/photo-1582510003544-4d00b7f74220?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-orange-600/80 via-amber-500/60 to-transparent",accent:"bg-orange-500"}:d.includes("dubai")?{image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-purple-600/80 via-pink-500/60 to-transparent",accent:"bg-purple-500"}:d.includes("goa")?{image:"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-yellow-600/80 via-orange-500/60 to-transparent",accent:"bg-yellow-500"}:d.includes("vietnam")?{image:"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-indigo-600/80 via-blue-500/60 to-transparent",accent:"bg-indigo-500"}:d.includes("europe")?{image:"https://images.unsplash.com/photo-1467269204594-9661b134dd2b?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-red-600/80 via-rose-500/60 to-transparent",accent:"bg-red-500"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-blue-600/80 via-indigo-500/60 to-transparent",accent:"bg-blue-500"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block min-w-[280px] h-[200px] rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:scale-105 hover:-translate-y-2",children:[e.jsx("img",{src:x.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:b=>{const d=b.target;d.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=300&h=200&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${x.gradient} transition-opacity duration-500 group-hover:opacity-90`}),e.jsx("div",{className:"absolute inset-0 rounded-3xl border-2 border-white/20 group-hover:border-white/40 transition-all duration-500"}),e.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-x-4 group-hover:translate-x-0",children:e.jsx("div",{className:`w-3 h-3 ${x.accent} rounded-full animate-pulse`})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2 transform transition-transform duration-500 group-hover:translate-y-[-4px]",children:t.name}),e.jsx("div",{className:"w-0 h-1 bg-white rounded-full transition-all duration-500 group-hover:w-16"}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0 mt-2",children:e.jsxs("span",{className:"text-white/90 text-sm font-medium bg-white/20 px-3 py-1 rounded-full backdrop-blur-sm",children:["Starting ₹",t.price]})})]}),e.jsx("div",{className:"absolute top-0 left-0 w-0 h-0 border-l-[40px] border-l-transparent border-t-[40px] border-t-white/10 transition-all duration-500 group-hover:border-t-white/20"})]}),e.jsx(ne,{deal:t,isAdmin:J})]},t.id)}if(l==="car-rental"&&r==="standard")return((x,b)=>{const d=["CNG/Diesel","CNG","Diesel","Petrol"],y=["bg-teal-500","bg-teal-600","bg-orange-600","bg-orange-700"],u=["4.4","4.5","4.3","4.2"];return{name:x||"Car Rental",subtitle:"or similar",rating:u[b%u.length],seats:"4 Seats • AC",fuelType:d[b%d.length],fuelColor:y[b%y.length],price:ie,originalPrice:be,discount:be?"16% off":null,taxes:"+ taxes & charges",image:t.imageUrl||t.image_url||"https://images.unsplash.com/photo-1502877338535-766e1452684a?w=100&h=80&fit=crop&auto=format&q=80",badge:t.isNew?"NEW":null}})(t.name,Math.abs(parseInt(t.id.toString().replace(/[^0-9]/g,"")||"0"))%4),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-100 to-indigo-200",children:[e.jsx("img",{src:t.imageUrl||"https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?w=600&h=400&fit=crop",alt:t.name,className:"w-full h-full object-cover",onError:x=>{const b=x.target;b.src="https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?w=600&h=400&fit=crop"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm text-gray-700 text-xs font-medium px-3 py-1 rounded-full",children:"T&C'S APPLY"}),e.jsx("div",{className:"absolute inset-0 bg-blue-600/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-blue-600 font-bold py-3 px-8 rounded-full hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Pick Now"})})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-100 via-pink-50 to-blue-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.name}),e.jsx("p",{className:"text-gray-800 text-sm mb-4 leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-800 bg-white/70 px-3 py-1.5 rounded-full shadow-sm",children:[e.jsx("i",{className:"fas fa-map-marker-alt text-purple-600"}),e.jsx("span",{className:"font-medium",children:t.location})]}),t.rating&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-800 bg-white/70 px-3 py-1.5 rounded-full shadow-sm",children:[e.jsx("i",{className:"fas fa-star text-yellow-500"}),e.jsx("span",{className:"font-medium",children:t.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700",children:ie}),be&&e.jsx("div",{className:"text-sm text-gray-700 line-through",children:be}),(t.taxes_amount||t.gst_amount)&&e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["+ ",t.taxes_amount&&`${re(t.currency||"INR")}${t.taxes_amount} taxes`,t.taxes_amount&&t.gst_amount&&" & ",t.gst_amount&&`${re(t.currency||"INR")}${t.gst_amount} GST`,(t.taxes_amount||t.gst_amount)&&" & fees"]})]}),e.jsx("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-2.5 px-6 rounded-full transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"Pick Now"})]})]}),e.jsx(ne,{deal:t,isAdmin:J})]},t.id);if(l==="tours"&&r==="standard"){const x=((b,d)=>{const y=["from-orange-600/90 via-yellow-500/80 to-red-600/90","from-purple-600/90 via-indigo-500/80 to-blue-600/90","from-pink-600/90 via-purple-500/80 to-blue-600/90","from-cyan-600/90 via-teal-500/80 to-blue-600/90"],u=["Dubai","Singapore","Paris","Phuket"];return{name:b||"Tour Package",price:ie,image:t.imageUrl||t.image_url||"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=80",gradient:y[d%y.length],location:t.location||t.city||u[d%u.length]}})(t.name,Math.abs(parseInt(t.id.toString().replace(/[^0-9]/g,"")||"0"))%4);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block w-full h-[280px] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:[e.jsx("img",{src:x.image,alt:x.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:b=>{const d=b.target;d.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${x.gradient}`}),e.jsxs("div",{className:"absolute top-4 left-4 bg-black/30 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),x.location]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2 leading-tight",children:x.name}),e.jsx("p",{className:"text-white/90 text-sm font-medium",children:x.price})]}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-gray-800 font-bold py-2 px-6 rounded-full hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Pick Now"})})]}),e.jsx(ne,{deal:t,isAdmin:J})]},t.id)}if(l==="tours"&&r==="featured"){const x=((b,d)=>{const y=[{name:"The Burj Khalifa Tickets",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-600/90 via-indigo-500/80 to-purple-600/90"},{name:"Desert Safari Dubai",image:"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-orange-600/90 via-yellow-500/80 to-red-600/90"},{name:"Universal Studios Singapore",image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-purple-600/90 via-pink-500/80 to-blue-600/90"},{name:"Safari World Bangkok",image:"https://images.unsplash.com/photo-1564507592333-c60657eea523?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-600/90 via-teal-500/80 to-emerald-600/90"},{name:"Eiffel Tower Paris",image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-rose-600/90 via-pink-500/80 to-red-600/90"}];return{...y[d%y.length],number:d+1}})(t.name,Math.abs(parseInt(t.id.toString().replace(/[^0-9]/g,"")||"0"))%5);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block w-full h-[200px] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:[e.jsx("img",{src:x.image,alt:x.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:b=>{const d=b.target;d.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${x.gradient}`}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:e.jsx("h3",{className:"text-lg font-bold text-white mb-2 leading-tight",children:x.name})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-gray-800 font-bold py-2 px-6 rounded-full hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Pick Now"})})]},t.id),e.jsx(ne,{deal:t,isAdmin:J})]})}if(["flights","bus","train","cruises","hotels","car-rental"].includes(l)&&r==="featured"){let S={},x={};try{t.field_colors&&(S=typeof t.field_colors=="string"?JSON.parse(t.field_colors):t.field_colors),t.field_styles&&(x=typeof t.field_styles=="string"?JSON.parse(t.field_styles):t.field_styles)}catch(u){console.warn("Failed to parse field colors/styles for deal:",t.id,u)}const b=u=>{const O={};if(S[u]&&(O.color=S[u]),x[u]){const V=x[u];typeof V=="object"?(V.bold&&(O.fontWeight="bold"),V.italic&&(O.fontStyle="italic"),V.underline&&(O.textDecoration="underline"),V.strikethrough&&(O.textDecoration="line-through")):(V==="bold"&&(O.fontWeight="bold"),V==="italic"&&(O.fontStyle="italic"))}return O},y=((u,O)=>O==="bus"?u.toLowerCase().includes("brs")||u.toLowerCase().includes("travels")?{gradient:"bg-gradient-to-r from-green-600 via-blue-600 to-blue-700",icon:"fas fa-bus",tagline:"Safe. Reliable. Comfortable.",operatorName:"BRS Travels"}:u.toLowerCase().includes("redbus")||u.toLowerCase().includes("red bus")?{gradient:"bg-gradient-to-r from-red-500 via-red-600 to-red-700",icon:"fas fa-bus",tagline:"India's Largest Bus Network",operatorName:"RedBus"}:{gradient:"bg-gradient-to-r from-green-600 via-blue-600 to-blue-700",icon:"fas fa-bus",tagline:"Safe. Reliable. Comfortable.",operatorName:"BRS Travels"}:O==="train"?u.toLowerCase().includes("irctc")||u.toLowerCase().includes("indian railways")?{gradient:"bg-gradient-to-r from-orange-600 via-green-600 to-blue-600",icon:"fas fa-train",tagline:"Lifeline of the Nation",operatorName:"Indian Railways"}:u.toLowerCase().includes("rajdhani")||u.toLowerCase().includes("express")?{gradient:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600",icon:"fas fa-train",tagline:"Premium Express Service",operatorName:"Rajdhani Express"}:{gradient:"bg-gradient-to-r from-orange-600 via-green-600 to-blue-600",icon:"fas fa-train",tagline:"Lifeline of the Nation",operatorName:"Indian Railways"}:O==="car-rental"?u.toLowerCase().includes("ola")||u.toLowerCase().includes("ola cabs")?{gradient:"bg-gradient-to-r from-green-500 via-lime-500 to-green-600",icon:"fas fa-car",tagline:t.description||"Moving India Forward",operatorName:t.name||"Ola"}:u.toLowerCase().includes("uber")?{gradient:"bg-gradient-to-r from-black via-gray-800 to-black",icon:"fas fa-car",tagline:t.description||"Move the way you want",operatorName:t.name||"Uber"}:u.toLowerCase().includes("zoomcar")||u.toLowerCase().includes("zoom car")?{gradient:"bg-gradient-to-r from-blue-500 via-indigo-500 to-blue-600",icon:"fas fa-car",tagline:t.description||"Self Drive Car Rental",operatorName:t.name||"Zoomcar"}:u.toLowerCase().includes("revv")?{gradient:"bg-gradient-to-r from-orange-500 via-red-500 to-orange-600",icon:"fas fa-car",tagline:t.description||"Self Drive Made Easy",operatorName:t.name||"Revv"}:{gradient:t.card_background_color||t.cardBackgroundColor||"bg-gradient-to-r from-green-500 via-lime-500 to-green-600",icon:"fas fa-car",tagline:t.description||`Starting from ${ie}`,operatorName:t.name||t.car_type||"Car Rental"}:O==="cruises"?u.toLowerCase().includes("stardream")||u.toLowerCase().includes("star dream")?{gradient:"bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600",icon:"fas fa-ship",tagline:`Starting from ${ie}`,operatorName:"StarDream Cruises"}:u.toLowerCase().includes("cordelia")?{gradient:"bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600",icon:"fas fa-ship",tagline:t.description||`Starting from ${ie}`,operatorName:t.name||"Cordelia"}:u.toLowerCase().includes("royal caribbean")||u.toLowerCase().includes("royal")?{gradient:"bg-gradient-to-r from-blue-600 via-navy-600 to-blue-700",icon:"fas fa-ship",tagline:`Starting from ${ie}`,operatorName:"Royal Caribbean"}:{gradient:t.card_background_color||t.cardBackgroundColor||"bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600",icon:"fas fa-ship",tagline:t.description||`Starting from ${ie}`,operatorName:t.name||t.cruise_line||"Cruise Line"}:O==="hotels"?u.toLowerCase().includes("taj")||u.toLowerCase().includes("mahal")?{gradient:"bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600",icon:"fas fa-crown",tagline:"Luxury Redefined",operatorName:"Taj Hotels"}:u.toLowerCase().includes("marriott")?{gradient:"bg-gradient-to-r from-red-500 via-orange-500 to-red-600",icon:"fas fa-hotel",tagline:"Wonderful Hospitality",operatorName:"Marriott"}:u.toLowerCase().includes("hilton")?{gradient:"bg-gradient-to-r from-blue-500 via-indigo-500 to-blue-600",icon:"fas fa-hotel",tagline:"Be Hospitable",operatorName:"Hilton"}:u.toLowerCase().includes("itc")||u.toLowerCase().includes("grand")?{gradient:"bg-gradient-to-r from-green-500 via-teal-500 to-green-600",icon:"fas fa-crown",tagline:"Responsible Luxury",operatorName:"ITC Hotels"}:{gradient:"bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600",icon:"fas fa-hotel",tagline:"Premium Hospitality",operatorName:t.name.split(" ")[0]||"Luxury Hotels"}:u.toLowerCase().includes("airasia")||u.toLowerCase().includes("air asia")?{gradient:"bg-gradient-to-r from-blue-500 via-purple-500 to-purple-600",icon:"fas fa-plane",tagline:"Now Everyone Can Fly",operatorName:"AirAsia"}:u.toLowerCase().includes("cathay")||u.toLowerCase().includes("pacific")?{gradient:"bg-gradient-to-r from-teal-500 via-green-500 to-green-600",icon:"fas fa-plane",tagline:"Life Well Travelled",operatorName:"Cathay Pacific"}:u.toLowerCase().includes("emirates")?{gradient:"bg-gradient-to-r from-red-500 via-red-600 to-orange-600",icon:"fas fa-plane",tagline:"Fly Better",operatorName:"Emirates"}:u.toLowerCase().includes("indigo")?{gradient:"bg-gradient-to-r from-indigo-500 via-blue-500 to-blue-600",icon:"fas fa-plane",tagline:"On Time Performance",operatorName:"IndiGo"}:{gradient:"bg-gradient-to-r from-blue-500 via-purple-500 to-purple-600",icon:"fas fa-plane",tagline:"Discover Amazing Deals",operatorName:t.airline||t.name.split(" - ")[0]||t.name})(t.name,l);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:`relative ${y.gradient} rounded-2xl p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden block`,style:{minHeight:"140px",minWidth:"350px"},children:[e.jsx("div",{className:"absolute top-0 right-0 opacity-20",children:e.jsx("i",{className:`${y.icon} text-6xl transform rotate-12 translate-x-4 -translate-y-2`})}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between h-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:`${y.icon} text-xl`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",style:b("name"),children:y.operatorName}),e.jsx("p",{className:"text-white text-opacity-90 text-sm font-medium",style:b("tagline"),children:y.tagline})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white text-opacity-80 text-xs",children:[e.jsx("i",{className:"fas fa-star text-yellow-300"}),e.jsx("span",{children:"Premium Service"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-white text-opacity-80 text-xs",children:[e.jsx("i",{className:"fas fa-shield-alt text-green-300"}),e.jsx("span",{children:"Secure Booking"})]})]}),e.jsx("button",{className:"bg-white bg-opacity-20 hover:bg-white hover:text-gray-800 text-white font-semibold py-2 px-4 rounded-full transition-all duration-300 transform hover:scale-105 backdrop-blur-sm border border-white border-opacity-30 hover:border-opacity-0 text-sm",children:"Pick Now"})]})]}),e.jsxs("div",{className:"flex flex-col items-end text-right ml-6",children:[e.jsx("div",{className:"bg-yellow-400 text-gray-900 px-3 py-1 rounded-full text-xs font-bold mb-2 animate-pulse",children:"EXCLUSIVE"}),e.jsxs("div",{className:"text-white mb-2",children:[e.jsx("div",{className:"text-lg font-bold",children:"Starting from"}),e.jsx("div",{className:"text-2xl font-black text-yellow-200",style:b("price"),children:ie}),e.jsx("div",{className:"text-xs text-white text-opacity-70",children:"per person"}),be&&e.jsx("div",{className:"text-sm text-white text-opacity-60 line-through",children:be}),(t.taxes_amount||t.gst_amount)&&e.jsxs("div",{className:"text-xs text-white text-opacity-80 mt-1",children:["+ ",t.taxes_amount&&`${re(t.currency||"INR")}${t.taxes_amount} taxes`,t.taxes_amount&&t.gst_amount&&" & ",t.gst_amount&&`${re(t.currency||"INR")}${t.gst_amount} GST`,(t.taxes_amount||t.gst_amount)&&" & fees"]})]}),e.jsxs("div",{className:"flex flex-col gap-1 text-xs text-white text-opacity-80",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsx("span",{children:"24/7 Support"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-gift"}),e.jsx("span",{children:"Special Offers"})]})]})]})]})]}),e.jsx(ne,{deal:t,isAdmin:J})]},t.id)}if(l==="cruises"&&r==="standard"){re(t.currency||"INR"),parseFloat(t.price.replace(/,/g,""));let S={},x={};try{t.field_colors&&(S=typeof t.field_colors=="string"?JSON.parse(t.field_colors):t.field_colors),t.field_styles&&(x=typeof t.field_styles=="string"?JSON.parse(t.field_styles):t.field_styles)}catch(D){console.warn("Failed to parse field colors/styles for deal:",t.id,D)}const b=D=>{const W={};if(S[D]&&(W.color=S[D]),x[D]){const c=x[D];typeof c=="object"?(c.bold&&(W.fontWeight="bold"),c.italic&&(W.fontStyle="italic"),c.underline&&(W.textDecoration="underline"),c.strikethrough&&(W.textDecoration="line-through")):(c==="bold"&&(W.fontWeight="bold"),c==="italic"&&(W.fontStyle="italic"))}return W},d=D=>D.toLowerCase().includes("mumbai")?"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=300&fit=crop&auto=format&q=80":D.toLowerCase().includes("australia")?"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=300&fit=crop&auto=format&q=80":D.toLowerCase().includes("singapore")?"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop&auto=format&q=80":D.toLowerCase().includes("kochi")?"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=300&fit=crop&auto=format&q=80",y=t.name||t.arrival||"Mumbai",u=d(y),O=D=>D.toLowerCase().includes("mumbai")?"bg-gradient-to-br from-orange-400 to-pink-500":D.toLowerCase().includes("australia")?"bg-gradient-to-br from-blue-400 to-purple-500":D.toLowerCase().includes("singapore")?"bg-gradient-to-br from-green-400 to-blue-500":D.toLowerCase().includes("kochi")?"bg-gradient-to-br from-teal-400 to-cyan-500":"bg-gradient-to-br from-blue-400 to-purple-500",V=t.card_background_color||t.cardBackgroundColor||O(y),fe=V.startsWith("from-")?`bg-gradient-to-br ${V}`:V;return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 w-full max-w-[400px] relative block",children:[e.jsx("div",{className:"relative h-48 overflow-hidden",children:e.jsx("img",{src:u,alt:`Cruise to ${y}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:D=>{const W=D.target;W.src="https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=300&fit=crop&auto=format&q=80"}})}),e.jsxs("div",{className:`p-4 ${fe}`,children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",style:b("name"),children:y}),e.jsxs("p",{className:"text-white/90 text-sm mb-3",style:b("price"),children:["Starting from ",ie," per person"]}),e.jsx("div",{className:"h-px bg-white/30 mb-3"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:D=>{D.preventDefault(),D.stopPropagation(),window.open(t.affiliateUrl||t.affiliate_url||"#","_blank")},className:"bg-white bg-opacity-20 hover:bg-white hover:text-gray-800 text-white font-semibold py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105 backdrop-blur-sm border border-white border-opacity-30 hover:border-opacity-0 text-sm z-30 relative",children:"Pick Now"})})]})]},t.id),e.jsx(ne,{deal:t,isAdmin:J})]})}if(l==="hotels"&&r==="standard"){const S=re(t.currency||"INR"),x=parseFloat(t.price.replace(/,/g,""))||0;let b={},d={};try{t.field_colors&&(b=typeof t.field_colors=="string"?JSON.parse(t.field_colors):t.field_colors),t.field_styles&&(d=typeof t.field_styles=="string"?JSON.parse(t.field_styles):t.field_styles)}catch(c){console.warn("Failed to parse field colors/styles for deal:",t.id,c)}const y=c=>{const T={};if(b[c]&&(T.color=b[c]),d[c]){const M=d[c];typeof M=="object"?(M.bold&&(T.fontWeight="bold"),M.italic&&(T.fontStyle="italic"),M.underline&&(T.textDecoration="underline"),M.strikethrough&&(T.textDecoration="line-through")):(M==="bold"&&(T.fontWeight="bold"),M==="italic"&&(T.fontStyle="italic"))}return T},u=c=>c.toLowerCase().includes("resort")||c.toLowerCase().includes("primo")?"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=300&h=200&fit=crop&auto=format&q=80":c.toLowerCase().includes("seashell")||c.toLowerCase().includes("suites")?"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300&h=200&fit=crop&auto=format&q=80":c.toLowerCase().includes("treebo")||c.toLowerCase().includes("business")?"https://images.unsplash.com/photo-1578774204375-8f9d5e6e4e6e?w=300&h=200&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=300&h=200&fit=crop&auto=format&q=80",O=c=>c.toLowerCase().includes("resort")||c.toLowerCase().includes("primo")?"bg-gradient-to-r from-teal-400 to-blue-500":c.toLowerCase().includes("seashell")||c.toLowerCase().includes("suites")?"bg-gradient-to-r from-purple-400 to-pink-500":c.toLowerCase().includes("treebo")||c.toLowerCase().includes("business")?"bg-gradient-to-r from-blue-400 to-indigo-500":"bg-gradient-to-r from-green-400 to-blue-500",V=t.name||"Hotel",fe=t.imageUrl||t.image_url||u(V),D=t.card_background_color||t.cardBackgroundColor||O(V),W=D.startsWith("from-")?`bg-gradient-to-r ${D}`:D;return e.jsxs("div",{className:"group relative",children:[e.jsx("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:`relative ${W} rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden w-full block`,children:e.jsxs("div",{className:"flex items-center p-4",children:[e.jsxs("div",{className:"relative w-64 h-40 flex-shrink-0 rounded-xl overflow-hidden mr-6",children:[e.jsx("img",{src:fe,alt:V,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:c=>{const T=c.target;T.src="https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=300&h=200&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:"View All"})]}),e.jsxs("div",{className:"flex-1 text-white",children:[t.brand_badge&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded mr-2",children:t.brand_badge}),e.jsx("div",{className:"flex items-center",children:e.jsx("i",{className:"fas fa-check-circle text-green-400 mr-1"})})]}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",style:y("name"),children:V}),e.jsx("div",{className:"flex items-center text-sm text-white/90 mb-2",children:e.jsxs("div",{className:"flex items-center mr-4",children:[[1,2,3,4,5].map(c=>e.jsx("i",{className:`fas fa-star ${c<=(parseInt(String(t.rating||"3"))||3)?"text-yellow-400":"text-white/50"}`},c)),e.jsxs("span",{className:"ml-2 text-xs text-white/70",children:["(",String(t.rating||"4.1"),")"]})]})}),e.jsxs("p",{className:"text-white/90 text-sm mb-2",style:y("location"),children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),t.location||t.city||"Prime Location",t.distance_to_beach&&` | ${t.distance_to_beach}`,t.walk_time&&` | ${t.walk_time}`]}),e.jsx("div",{className:"flex items-center mb-2",children:t.amenities?(typeof t.amenities=="string"?t.amenities.split(","):t.amenities).slice(0,2).map((c,T)=>e.jsx("span",{className:"bg-white/20 text-white text-xs px-2 py-1 rounded mr-2",children:typeof c=="string"?c.trim():c},T)):e.jsx("span",{className:"bg-white/20 text-white text-xs px-2 py-1 rounded mr-2",children:t.hotel_type||"Resort"})}),e.jsxs("p",{className:"text-white/80 text-sm",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),t.description||`${t.hotel_type||"Beautiful"} location with excellent facilities and service`]})]}),e.jsxs("div",{className:"text-right text-white ml-4",children:[e.jsxs("div",{className:"flex items-center justify-end mb-2",children:[e.jsxs("div",{className:"text-right mr-2",children:[e.jsx("div",{className:"text-sm font-medium",children:(()=>{const c=parseFloat(String(t.rating||"4.1"))||4.1;return c>=4.5?"Excellent":c>=4?"Very Good":c>=3.5?"Good":c>=3?"Average":"Fair"})()}),e.jsxs("div",{className:"text-xs text-white/80",children:["(",String(t.reviewCount||t.review_count||"1240")," Ratings)"]})]}),e.jsx("div",{className:`text-white px-2 py-1 rounded text-sm font-bold ${(parseFloat(String(t.rating||"4.1"))||4.1)>=4?"bg-green-600":(parseFloat(String(t.rating||"4.1"))||4.1)>=3.5?"bg-yellow-600":"bg-orange-600"}`,children:String(t.rating||"4.1")})]}),(t.hasLimitedOffer||t.has_limited_offer||t.limitedOfferText||t.limited_offer_text)&&e.jsx("div",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded mb-2 inline-block",children:t.limitedOfferText||t.limited_offer_text||"Limited Time Offer"}),e.jsxs("div",{className:"mb-3",children:[t.original_price&&parseFloat(t.original_price.replace(/,/g,""))>x&&e.jsxs("div",{className:"text-xs text-white/70 line-through",children:[S,parseFloat(t.original_price.replace(/,/g,"")).toLocaleString()]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[S,x.toLocaleString()]}),(t.taxes_amount||t.gst_amount)&&e.jsxs("div",{className:"text-xs text-white/80",children:["+ ",t.taxes_amount&&`${S}${t.taxes_amount} taxes`,t.taxes_amount&&t.gst_amount&&" & ",t.gst_amount&&`${S}${t.gst_amount} GST`,(t.taxes_amount||t.gst_amount)&&" & fees"]}),e.jsx("div",{className:"text-xs text-white/80",children:"Per Night"})]}),e.jsx("div",{className:"h-px bg-white/30 mb-3 mx-4"}),e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),window.open(t.affiliateUrl||t.affiliate_url||"#","_blank")},className:"bg-white bg-opacity-20 hover:bg-white hover:text-gray-800 text-white font-semibold py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105 backdrop-blur-sm border border-white border-opacity-30 hover:border-opacity-0 text-sm z-30 relative",children:"Pick Now"})})]})]})},t.id),e.jsx(ne,{deal:t,isAdmin:J})]})}if(l==="packages"&&r==="standard"){const S=re(t.currency||"INR"),x=parseFloat(t.price.replace(/,/g,""))||0,d=(y=>{const u=y.toLowerCase();return u.includes("thailand")?{image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-cyan-400/80 to-teal-500/90",accent:"bg-cyan-400",priceColor:"text-cyan-100",nameColor:"text-white",flag:"🇹🇭"}:u.includes("maldives")?{image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-turquoise-500/90 via-blue-400/80 to-indigo-500/90",accent:"bg-turquoise-400",priceColor:"text-turquoise-100",nameColor:"text-white",flag:"🇲🇻"}:u.includes("japan")?{image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-pink-500/90 via-rose-400/80 to-red-500/90",accent:"bg-pink-400",priceColor:"text-pink-100",nameColor:"text-white",flag:"🇯🇵"}:u.includes("bali")?{image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-500/90 via-emerald-400/80 to-teal-500/90",accent:"bg-emerald-400",priceColor:"text-emerald-100",nameColor:"text-white",flag:"🇮🇩"}:u.includes("dubai")?{image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-amber-500/90 via-orange-400/80 to-red-500/90",accent:"bg-amber-400",priceColor:"text-amber-100",nameColor:"text-white",flag:"🇦🇪"}:u.includes("vietnam")?{image:"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-indigo-500/90 via-purple-400/80 to-pink-500/90",accent:"bg-indigo-400",priceColor:"text-indigo-100",nameColor:"text-white",flag:"🇻🇳"}:u.includes("europe")?{image:"https://images.unsplash.com/photo-1467269204594-9661b134dd2b?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-violet-500/90 via-purple-400/80 to-indigo-500/90",accent:"bg-violet-400",priceColor:"text-violet-100",nameColor:"text-white",flag:"🇪🇺"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-indigo-400/80 to-purple-500/90",accent:"bg-blue-400",priceColor:"text-blue-100",nameColor:"text-white",flag:"🌍"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block min-w-[320px] h-[280px] rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-700 transform hover:scale-[1.02] hover:-translate-y-1",children:[e.jsx("img",{src:d.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110",onError:y=>{const u=y.target;u.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${d.gradient} transition-opacity duration-700 group-hover:opacity-95`}),e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-white/30 group-hover:border-white/60 transition-all duration-700"}),e.jsx("div",{className:"absolute top-4 right-4 transform transition-all duration-500 group-hover:scale-110",children:e.jsxs("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg backdrop-blur-sm border border-white/20",children:[e.jsx("i",{className:"fas fa-globe-americas mr-1"}),"INTERNATIONAL"]})}),e.jsx("div",{className:"absolute top-4 left-4 text-3xl transform transition-all duration-500 group-hover:scale-125 group-hover:rotate-12",children:d.flag}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsxs("h3",{className:`text-3xl font-black ${d.nameColor} mb-3 transform transition-all duration-500 group-hover:translate-y-[-8px] group-hover:scale-105`,children:[t.name,e.jsx("div",{className:"w-0 h-1 bg-white rounded-full transition-all duration-700 group-hover:w-24 mt-2"})]}),e.jsxs("div",{className:"transform transition-all duration-500 group-hover:translate-y-[-4px]",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("span",{className:"text-sm text-white/70 font-medium",children:"Starting at"}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsxs("span",{className:`text-4xl font-black ${d.priceColor} drop-shadow-lg`,children:[S,x.toLocaleString()]}),e.jsx("span",{className:"text-lg text-white/80 ml-1",children:"Per person"})]})]}),t.flight_price&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"text-sm text-white/80",children:["+ ",S,parseFloat(String(t.flight_price)).toLocaleString()," with ",t.flight_route||"flights"]}),e.jsxs("div",{className:"text-xs text-white/60",children:["Total: ",S,(x+parseFloat(String(t.flight_price))).toLocaleString()," with flights"]})]}),e.jsx("div",{className:`w-0 h-0.5 ${d.accent} rounded-full transition-all duration-700 group-hover:w-32`})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0 mt-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"bg-white/20 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-medium",children:[e.jsx("i",{className:"fas fa-clock mr-1"}),"Limited Time"]}),e.jsxs("span",{className:"bg-white/20 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-medium",children:[e.jsx("i",{className:"fas fa-percentage mr-1"}),"30% OFF"]})]})})]}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-10 group-hover:opacity-20 transition-opacity duration-500",children:e.jsx("div",{className:`w-full h-full ${d.accent} rounded-full blur-xl`})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0 border-l-[60px] border-l-transparent border-b-[60px] border-b-white/10 group-hover:border-b-white/20 transition-all duration-500"})]},t.id),e.jsx(ne,{deal:t,isAdmin:J})]})}if(["flights","bus","train"].includes(l)&&r==="standard"){const S=re(t.currency||"INR"),x=parseFloat(t.price.replace(/,/g,""))||0,b=t.departureTime||t.departure_time||"",d=t.arrivalTime||t.arrival_time||"",y=t.departure&&t.arrival?`${(Ae=(Pe=t.departure)==null?void 0:Pe.split("(")[0])==null?void 0:Ae.trim()} → ${(De=(Ue=t.arrival)==null?void 0:Ue.split("(")[0])==null?void 0:De.trim()}`:"",u=t.duration||"",O=c=>c!=null&&c.toLowerCase().includes("indigo")?"from-blue-400 to-blue-500":c!=null&&c.toLowerCase().includes("spicejet")?"from-red-400 to-red-500":c!=null&&c.toLowerCase().includes("vistara")?"from-purple-400 to-purple-500":c!=null&&c.toLowerCase().includes("american")?"from-red-400 to-red-500":c!=null&&c.toLowerCase().includes("delta")?"from-blue-400 to-blue-500":c!=null&&c.toLowerCase().includes("united")?"from-purple-400 to-purple-500":"from-orange-400 to-orange-500",V=t.card_background_color||t.cardBackgroundColor||O(t.airline||t.name);let fe={},D={};try{t.field_colors&&(fe=typeof t.field_colors=="string"?JSON.parse(t.field_colors):t.field_colors),t.field_styles&&(D=typeof t.field_styles=="string"?JSON.parse(t.field_styles):t.field_styles)}catch(c){console.warn("Failed to parse field colors/styles for deal:",t.id,c)}const W=c=>{const T={};if(fe[c]&&(T.color=fe[c]),D[c]){const M=D[c];typeof M=="object"?(M.bold&&(T.fontWeight="bold"),M.italic&&(T.fontStyle="italic"),M.underline&&(T.textDecoration="underline"),M.strikethrough&&(T.textDecoration="line-through")):(M==="bold"&&(T.fontWeight="bold"),M==="italic"&&(T.fontStyle="italic"))}return T};return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:`relative bg-gradient-to-r ${V} rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden border border-white border-opacity-10 block`,style:{minHeight:"180px",maxWidth:"400px"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"absolute top-4 right-4 text-6xl text-white/10",children:e.jsx("i",{className:`fas ${(()=>{switch(l){case"bus":return"fa-bus";case"train":return"fa-train";default:return"fa-plane"}})()}`})}),e.jsxs("div",{className:"relative z-10 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"w-20 h-14 bg-white/10 backdrop-blur-sm rounded-lg flex items-center justify-center flex-shrink-0 border border-white/20",children:[e.jsx("img",{src:(()=>{if(l==="bus"){const c=["https://images.unsplash.com/photo-1570125909232-eb263c188f7e?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=64&h=48&fit=crop&auto=format&q=80"],T=Math.abs(t.id.toString().charCodeAt(0))%c.length;return c[T]}else if(l==="train"){const c=["https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1570125909232-eb263c188f7e?w=64&h=48&fit=crop&auto=format&q=80"],T=Math.abs(t.id.toString().charCodeAt(0))%c.length;return c[T]}else{const c=["https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1556388158-158ea5ccacbd?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1569154941061-e231b4725ef1?w=64&h=48&fit=crop&auto=format&q=80"],T=Math.abs(t.id.toString().charCodeAt(0))%c.length;return c[T]}})(),alt:(()=>{switch(l){case"bus":return"Bus";case"train":return"Train";default:return"Flight"}})(),className:"w-full h-full object-cover rounded-md",onError:c=>{const T=c.target;T.style.display="none",T.nextElementSibling.classList.remove("hidden")}}),e.jsx("i",{className:`fas ${(()=>{switch(l){case"bus":return"fa-bus";case"train":return"fa-train";default:return"fa-plane"}})()} text-xl text-white/80 hidden`})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-200",children:(()=>{switch(l){case"flights":case"bus":case"train":return b||"--:--";case"hotels":return t.rating||"--";case"cruises":return t.duration||"--";case"tours":return t.group_size||t.groupSize||"--";case"packages":return t.duration||"--";case"car-rental":return t.fuel_type||t.fuelType||"--";default:return"--"}})()}),e.jsx("div",{className:"text-xs text-white/60 uppercase tracking-wide",style:W("departure"),children:(()=>{var c,T,M;switch(l){case"flights":case"bus":case"train":{const je=(T=(c=t.departure)==null?void 0:c.match(/\(([^)]+)\)/))==null?void 0:T[1];if(je)return je;const Ne=(M=t.departure)==null?void 0:M.trim();return Ne?Ne.substring(0,3).toUpperCase():"DEP"}case"hotels":return"RATING";case"cruises":return"DURATION";case"tours":return"GROUP";case"packages":return"DURATION";case"car-rental":return"FUEL";default:return"INFO"}})()})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("div",{className:"h-px bg-white/40 flex-1"}),e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:`fas ${(()=>{switch(l){case"bus":return"fa-bus";case"train":return"fa-train";case"hotels":return"fa-bed";case"cruises":return"fa-ship";case"tours":return"fa-map-marked-alt";case"packages":return"fa-suitcase";case"car-rental":return"fa-car";default:return"fa-plane"}})()} text-xs text-white`})}),e.jsx("div",{className:"h-px bg-white/40 flex-1"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-200",children:(()=>{switch(l){case"flights":case"bus":case"train":return d||"--:--";case"hotels":return t.cancellation?"FREE":"PAID";case"cruises":return t.ports?"MULTI":"SINGLE";case"tours":return t.inclusions?"FULL":"BASIC";case"packages":return t.inclusions?"FULL":"BASIC";case"car-rental":return t.transmission||"--";default:return"--"}})()}),e.jsx("div",{className:"text-xs text-white/60 uppercase tracking-wide",style:W("arrival"),children:(()=>{var c,T,M;switch(l){case"flights":case"bus":case"train":{const je=(T=(c=t.arrival)==null?void 0:c.match(/\(([^)]+)\)/))==null?void 0:T[1];if(je)return je;const Ne=(M=t.arrival)==null?void 0:M.trim();return Ne?Ne.substring(0,3).toUpperCase():"ARR"}case"hotels":return"CANCEL";case"cruises":return"PORTS";case"tours":return"PACKAGE";case"packages":return"PACKAGE";case"car-rental":return"TRANS";default:return"INFO"}})()})]})]})]}),e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsxs("div",{className:"flex items-center gap-6 text-white/70",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("i",{className:`fas ${(()=>{switch(l){case"hotels":return"fa-map-marker-alt";case"cruises":return"fa-ship";case"tours":return"fa-map-marked-alt";case"packages":return"fa-suitcase";case"car-rental":return"fa-car";default:return"fa-map-marker-alt"}})()} text-xs text-blue-300`}),e.jsx("span",{className:"text-blue-200",style:W("route"),children:(()=>{switch(l){case"flights":return y||t.name;case"hotels":return t.location||t.name;case"cruises":return t.route||t.name;case"tours":return t.destinations||t.name;case"bus":return y||t.name;case"train":return y||t.name;case"packages":return t.destinations||t.location||t.name;case"car-rental":return t.location||t.name;default:return t.name}})()})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("i",{className:`fas ${(()=>{switch(l){case"hotels":return"fa-star";case"cruises":return"fa-bed";case"tours":return"fa-users";case"packages":return"fa-calendar";case"car-rental":return"fa-cog";default:return"fa-clock"}})()} text-xs text-green-300`}),e.jsx("span",{className:"text-green-200",style:W("duration"),children:(()=>{switch(l){case"flights":return u;case"hotels":return t.hotel_type||t.hotelType;case"cruises":return t.cabin_type||t.cabinType;case"tours":return t.tour_type||t.tourType;case"bus":return t.bus_type||t.busType;case"train":return t.train_type||t.trainType;case"packages":return t.package_type||t.packageType;case"car-rental":return t.car_type||t.carType;default:return""}})()})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm font-semibold text-white",style:W("name"),children:(()=>{switch(l){case"flights":return t.airline||t.name;case"hotels":return t.name;case"cruises":return t.cruise_line||t.cruiseLine||t.name;case"tours":return t.name;case"bus":return t.operator||t.name;case"train":return t.train_operator||t.trainOperator||t.name;case"packages":return t.name;case"car-rental":return t.name;default:return t.name}})()}),(()=>{const c=(()=>{switch(l){case"flights":return t.flight_class;case"hotels":return t.room_type;case"cruises":return t.cabin_type;case"tours":return t.difficulty;case"bus":return t.bus_type;case"train":return t.train_type;case"packages":return t.package_type;case"car-rental":return t.car_type;default:return null}})();return c?e.jsx("div",{className:"px-2 py-1 bg-white/20 rounded-full text-xs text-white font-medium",children:c}):null})()]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-white",style:W("price"),children:["Starting from ",S,x.toLocaleString()]}),t.flight_price&&e.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["+ ",S,parseFloat(String(t.flight_price)).toLocaleString()," with ",t.flight_route||"flights"]}),t.flight_price&&e.jsxs("div",{className:"text-xs text-white/60 mt-1",children:["Total: ",S,(x+parseFloat(String(t.flight_price))).toLocaleString()," with flights"]}),e.jsx("div",{className:"text-xs text-white/70",children:"per person"})]})]}),e.jsx("div",{className:"h-px bg-white/30 mb-2"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),window.open(t.affiliateUrl||t.affiliate_url||"#","_blank")},className:"bg-white bg-opacity-20 hover:bg-white hover:text-gray-800 text-white font-semibold py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105 backdrop-blur-sm border border-white border-opacity-30 hover:border-opacity-0 text-sm z-30 relative",children:"Pick Now"})})]})]},t.id),e.jsx(ne,{deal:t,isAdmin:J})]})}if(l==="packages"&&r==="destinations"){const S=re(t.currency||"INR"),x=parseFloat(t.price.replace(/,/g,""))||0,d=(y=>{const u=y.toLowerCase();return u.includes("thailand")?{image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-cyan-400/80 to-teal-500/90",accent:"bg-cyan-400",priceColor:"text-cyan-100",nameColor:"text-white",flag:"🇹🇭"}:u.includes("maldives")?{image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-turquoise-500/90 via-blue-400/80 to-indigo-500/90",accent:"bg-turquoise-400",priceColor:"text-turquoise-100",nameColor:"text-white",flag:"🇲🇻"}:u.includes("japan")?{image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-pink-500/90 via-rose-400/80 to-red-500/90",accent:"bg-pink-400",priceColor:"text-pink-100",nameColor:"text-white",flag:"🇯🇵"}:u.includes("bali")?{image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-500/90 via-emerald-400/80 to-teal-500/90",accent:"bg-emerald-400",priceColor:"text-emerald-100",nameColor:"text-white",flag:"🇮🇩"}:u.includes("dubai")?{image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-amber-500/90 via-orange-400/80 to-red-500/90",accent:"bg-amber-400",priceColor:"text-amber-100",nameColor:"text-white",flag:"🇦🇪"}:u.includes("vietnam")?{image:"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-indigo-500/90 via-purple-400/80 to-pink-500/90",accent:"bg-indigo-400",priceColor:"text-indigo-100",nameColor:"text-white",flag:"🇻🇳"}:u.includes("europe")?{image:"https://images.unsplash.com/photo-1467269204594-9661b134dd2b?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-violet-500/90 via-purple-400/80 to-indigo-500/90",accent:"bg-violet-400",priceColor:"text-violet-100",nameColor:"text-white",flag:"🇪🇺"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-indigo-400/80 to-purple-500/90",accent:"bg-blue-400",priceColor:"text-blue-100",nameColor:"text-white",flag:"🌍"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block min-w-[320px] h-[280px] rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-700 transform hover:scale-[1.02] hover:-translate-y-1",children:[e.jsx("img",{src:d.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110",onError:y=>{const u=y.target;u.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${d.gradient} transition-opacity duration-700 group-hover:opacity-95`}),e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-white/30 group-hover:border-white/60 transition-all duration-700"}),e.jsx("div",{className:"absolute top-4 right-4 transform transition-all duration-500 group-hover:scale-110",children:e.jsxs("div",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg backdrop-blur-sm border border-white/20",children:[e.jsx("i",{className:"fas fa-passport mr-1"}),"VISA FREE"]})}),e.jsx("div",{className:"absolute top-4 left-4 text-3xl transform transition-all duration-500 group-hover:scale-125 group-hover:rotate-12",children:d.flag}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsxs("h3",{className:`text-3xl font-black ${d.nameColor} mb-3 transform transition-all duration-500 group-hover:translate-y-[-8px] group-hover:scale-105`,children:[t.name,e.jsx("div",{className:"w-0 h-1 bg-white rounded-full transition-all duration-700 group-hover:w-24 mt-2"})]}),e.jsxs("div",{className:"transform transition-all duration-500 group-hover:translate-y-[-4px]",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("span",{className:"text-sm text-white/70 font-medium",children:"Starting at"}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsxs("span",{className:`text-4xl font-black ${d.priceColor} drop-shadow-lg`,children:[S,x.toLocaleString()]}),e.jsx("span",{className:"text-lg text-white/80 ml-1",children:"Per person"})]})]}),e.jsx("div",{className:`w-0 h-0.5 ${d.accent} rounded-full transition-all duration-700 group-hover:w-32`})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0 mt-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"bg-white/20 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-medium",children:[e.jsx("i",{className:"fas fa-clock mr-1"}),"Limited Time"]}),e.jsxs("span",{className:"bg-white/20 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-medium",children:[e.jsx("i",{className:"fas fa-percentage mr-1"}),"30% OFF"]})]})})]}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-10 group-hover:opacity-20 transition-opacity duration-500",children:e.jsx("div",{className:`w-full h-full ${d.accent} rounded-full blur-xl`})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0 border-l-[60px] border-l-transparent border-b-[60px] border-b-white/10 group-hover:border-b-white/20 transition-all duration-500"})]},t.id),e.jsx(ne,{deal:t,isAdmin:J})]})}if(l==="packages"&&r==="special"){const S=re(t.currency||"INR"),x=parseFloat(t.price.replace(/,/g,""))||0,d=(y=>{const u=y.toLowerCase();return u.includes("goa")?{image:"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-red-600/90 via-orange-500/80 to-yellow-500/90",accent:"bg-red-500",priceColor:"text-yellow-100",nameColor:"text-white",urgencyColor:"bg-red-500"}:u.includes("kerala")?{image:"https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-orange-600/90 via-red-500/80 to-pink-500/90",accent:"bg-orange-500",priceColor:"text-pink-100",nameColor:"text-white",urgencyColor:"bg-orange-500"}:u.includes("rajasthan")?{image:"https://images.unsplash.com/photo-1477587458883-47145ed94245?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-pink-600/90 via-purple-500/80 to-indigo-500/90",accent:"bg-pink-500",priceColor:"text-indigo-100",nameColor:"text-white",urgencyColor:"bg-pink-500"}:u.includes("himachal")?{image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-600/90 via-indigo-500/80 to-purple-500/90",accent:"bg-blue-500",priceColor:"text-purple-100",nameColor:"text-white",urgencyColor:"bg-blue-500"}:u.includes("kashmir")?{image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-600/90 via-teal-500/80 to-cyan-500/90",accent:"bg-green-500",priceColor:"text-cyan-100",nameColor:"text-white",urgencyColor:"bg-green-500"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-red-600/90 via-orange-500/80 to-yellow-500/90",accent:"bg-red-500",priceColor:"text-yellow-100",nameColor:"text-white",urgencyColor:"bg-red-500"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block w-full max-w-[400px] h-[300px] rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:scale-[1.03] hover:-translate-y-2",children:[e.jsx("img",{src:d.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:y=>{const u=y.target;u.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${d.gradient} transition-opacity duration-500 group-hover:opacity-95`}),e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-red-400/50 group-hover:border-red-300/70 transition-all duration-500"}),e.jsx("div",{className:"absolute top-4 right-4 transform transition-all duration-300 group-hover:scale-110 animate-bounce",children:e.jsxs("div",{className:`${d.urgencyColor} text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg backdrop-blur-sm border border-white/20`,children:[e.jsx("i",{className:"fas fa-clock mr-1"}),"ENDING SOON!"]})}),e.jsx("div",{className:"absolute top-4 left-4 text-3xl transform transition-all duration-300 group-hover:scale-125 animate-spin",children:"⏰"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsxs("h3",{className:`text-3xl font-black ${d.nameColor} mb-3 transform transition-all duration-500 group-hover:translate-y-[-8px] group-hover:scale-105`,children:[t.name,e.jsx("div",{className:"w-0 h-1 bg-red-400 rounded-full transition-all duration-500 group-hover:w-24 mt-2 animate-pulse"})]}),e.jsxs("div",{className:"transform transition-all duration-500 group-hover:translate-y-[-4px]",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsxs("span",{className:"text-sm text-white/70 font-medium line-through",children:["Was ₹",(x*1.4).toLocaleString()]}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsxs("span",{className:`text-4xl font-black ${d.priceColor} drop-shadow-lg animate-pulse`,children:[S,x.toLocaleString()]}),e.jsx("span",{className:"text-lg text-white/80 ml-1",children:"Per person"})]})]}),e.jsx("div",{className:`w-0 h-0.5 ${d.accent} rounded-full transition-all duration-500 group-hover:w-32 animate-pulse`})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0 mt-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"bg-red-500/80 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-bold animate-pulse",children:[e.jsx("i",{className:"fas fa-fire mr-1"}),"HOT DEAL"]}),e.jsxs("span",{className:"bg-orange-500/80 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-bold",children:[e.jsx("i",{className:"fas fa-percentage mr-1"}),"60% OFF"]})]})})]}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-20 group-hover:opacity-30 transition-opacity duration-500",children:e.jsx("div",{className:`w-full h-full ${d.accent} rounded-full blur-xl animate-pulse`})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0 border-l-[60px] border-l-transparent border-b-[60px] border-b-red-400/20 group-hover:border-b-red-300/30 transition-all duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-red-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"})]},t.id),e.jsx(ne,{deal:t,isAdmin:J})]})}if(l==="packages"&&r==="cities"){re(t.currency||"INR"),parseFloat(t.price.replace(/,/g,""));const x=(d=>d.toLowerCase().includes("kashmir")?"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=150&h=150&fit=crop&auto=format&q=80":d.toLowerCase().includes("thailand")?"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=150&h=150&fit=crop&auto=format&q=80":d.toLowerCase().includes("dubai")?"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=150&h=150&fit=crop&auto=format&q=80":d.toLowerCase().includes("singapore")?"https://images.unsplash.com/photo-1525625293386-3f8f99389edd?w=150&h=150&fit=crop&auto=format&q=80":d.toLowerCase().includes("paris")?"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=150&h=150&fit=crop&auto=format&q=80":d.toLowerCase().includes("london")?"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=150&h=150&fit=crop&auto=format&q=80":d.toLowerCase().includes("tokyo")?"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=150&h=150&fit=crop&auto=format&q=80":d.toLowerCase().includes("new york")?"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=150&h=150&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=150&h=150&fit=crop&auto=format&q=80")(t.name),b=t.name.replace(" Packages","");return e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center transition-all duration-300 transform hover:scale-105",children:[e.jsxs("div",{className:"relative mb-1",children:[e.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden shadow-lg group-hover:shadow-xl transition-shadow duration-300 ring-4 ring-teal-100 group-hover:ring-teal-200",children:e.jsx("img",{src:x,alt:b,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:d=>{const y=d.target;y.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=150&h=150&fit=crop&auto=format&q=80"}})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-teal-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("i",{className:"fas fa-map-marker-alt text-white text-xs"})}),e.jsx("button",{onClick:d=>{d.preventDefault(),d.stopPropagation(),n(t)},className:"absolute -top-1 -right-1 w-6 h-6 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-red-50 transition-colors duration-200",children:e.jsx("i",{className:`fas fa-heart text-xs ${j.some(d=>d.id===t.id)?"text-red-500":"text-gray-400"}`})}),!J&&e.jsx("div",{className:"absolute -top-1 -left-1",children:e.jsx(xe,{product:{id:t.id,name:t.name,description:t.description,price:t.price,imageUrl:t.imageUrl||t.image_url,category:t.category,affiliateUrl:t.affiliateUrl||t.affiliate_url},className:"w-6 h-6 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg flex items-center justify-center transition-colors duration-200",buttonText:"",showIcon:!0})})]}),e.jsx("div",{className:"text-center",children:e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-teal-600 transition-colors duration-200",children:b})})]},t.id)}if(r==="destinations"){Math.round(ke(parseFloat((($e=t.price)==null?void 0:$e.replace(/,/g,""))||"0")||0,t.currency||"INR",me));const x=(y=>l==="hotels"?y.toLowerCase().includes("goa")?"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=200&h=200&fit=crop&auto=format&q=80":y.toLowerCase().includes("mumbai")?"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=200&h=200&fit=crop&auto=format&q=80":y.toLowerCase().includes("delhi")?"https://images.unsplash.com/photo-1578774204375-8f9d5e6e4e6e?w=200&h=200&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=200&h=200&fit=crop&auto=format&q=80":y.toLowerCase().includes("goa")?"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=200&h=200&fit=crop&auto=format&q=80":y.toLowerCase().includes("kerala")?"https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?w=200&h=200&fit=crop&auto=format&q=80":y.toLowerCase().includes("rajasthan")?"https://images.unsplash.com/photo-1477587458883-47145ed94245?w=200&h=200&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=200&h=200&fit=crop&auto=format&q=80")(t.name);let b="",d="";if(l==="hotels")b=t.name||t.location||t.city||"Hotels",d=b;else{const y=((Be=t.route)==null?void 0:Be.split("→"))||[t.departure||"Pune",t.arrival||"Goa"],u=((Ee=y[0])==null?void 0:Ee.trim())||t.departure||"Pune",O=((Re=y[1])==null?void 0:Re.trim())||t.arrival||"Goa";b=`${u} → ${O}`,d=`${u} to ${O}`}return e.jsxs("div",{className:"group relative",children:[e.jsxs("div",{className:"text-center min-w-[280px] relative",children:[e.jsx("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"block w-32 h-32 mx-auto mb-4 relative hover:scale-105 transition-transform duration-300",children:e.jsx("div",{className:"w-full h-full rounded-full border-4 border-white overflow-hidden shadow-lg",children:e.jsx("img",{src:x,alt:d,className:"w-full h-full object-cover",onError:y=>{const u=y.target;u.src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=200&h=200&fit=crop&auto=format&q=80"}})})}),e.jsx("div",{className:"mb-4",children:l==="hotels"?e.jsx("h3",{className:"text-white text-lg font-semibold",children:b}):e.jsxs("h3",{className:"text-white text-lg font-semibold flex items-center justify-center gap-2",children:[e.jsx("span",{children:b.split(" → ")[0]}),e.jsx("i",{className:"fas fa-arrow-right text-orange-400 text-sm"}),e.jsx("span",{children:b.split(" → ")[1]})]})})]},t.id),e.jsx(ne,{deal:t,isAdmin:J})]})}return e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:t.location||t.description}),e.jsx("div",{className:"text-xl font-bold text-red-600 mb-4",children:ie}),e.jsx("div",{className:"text-sm text-gray-500",children:"New UI Card Coming Soon"})]})},t.id)},n=t=>{j.some(h=>h.id===t.id)?(B(t.id),i({title:"Removed from Wishlist",description:`${t.name} has been removed from your wishlist.`})):(f({id:t.id,name:t.name,description:t.description||"",price:t.price,imageUrl:t.imageUrl||t.image_url||"",category:t.category||"Travel",affiliateUrl:t.affiliateUrl||t.affiliate_url||""}),i({title:"Added to Wishlist",description:`${t.name} has been added to your wishlist.`}))},R=async(t=!1)=>{try{const r=t?`Are you sure you want to delete ALL ${l} items? This action cannot be undone.`:`Are you sure you want to delete ${L.length} selected items? This action cannot be undone.`;if(!window.confirm(r))return;if(t){const h=await fetch("/api/admin/travel-products/bulk-delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025",category:l})});if(!h.ok){const P=await h.json().catch(()=>({message:"Unknown error"}));throw new Error(P.message||"Failed to delete all items")}const w=await h.json();i({title:"Success",description:`All ${l} deleted successfully. Removed ${w.deletedCount} items.`})}else{if(L.length===0){i({title:"Error",description:"No items selected for deletion.",variant:"destructive"});return}for(const h of L)await Oe("travel",h);i({title:"Success",description:`${L.length} items deleted successfully.`})}s([]),a(!1),await Ye(v)}catch(r){console.error("Delete error:",r),i({title:"Error",description:r instanceof Error?r.message:"Failed to delete items. Please try again.",variant:"destructive"})}},$=()=>{N(!1),m(null)},U=async()=>{if(G)try{i({title:"Success",description:`${G.name} shared successfully!`})}catch{i({title:"Error",description:"Failed to share. Please try again.",variant:"destructive"})}$()},K=async t=>{try{const r={name:t.name,description:t.description||"",price:t.price||"0",original_price:t.originalPrice||null,currency:t.currency||"INR",image_url:t.imageUrl||"",affiliate_url:t.affiliateUrl||"",category:t.category,section_type:t.sectionType||"standard",airline:t.airline||null,departure:t.departure||null,arrival:t.arrival||null,departure_time:t.departureTime||t.departure_time||null,arrival_time:t.arrivalTime||t.arrival_time||null,duration:t.duration||null,flight_class:t.flightClass||t.flight_class||null,stops:t.stops||null,route_type:t.routeType||t.route_type||"domestic",location:t.location||null,hotel_type:t.hotelType||null,room_type:t.roomType||null,amenities:t.amenities||null,rating:t.rating||null,cancellation:t.cancellation||null,destinations:t.destinations||null,inclusions:t.inclusions||null,tour_type:t.tourType||null,group_size:t.groupSize||null,difficulty:t.difficulty||null,cruise_line:t.cruiseLine||null,route:t.route||null,cabin_type:t.cabinType||null,ports:t.ports||null,operator:t.operator||null,bus_type:t.busType||null,train_operator:t.trainOperator||null,train_type:t.trainType||null,train_number:t.trainNumber||null,package_type:t.packageType||null,valid_till:t.validTill||null,car_type:t.carType||null,features:t.features||null,fuel_type:t.fuelType||null,transmission:t.transmission||null,custom_section_title:t.customSectionTitle||null,custom_section_description:t.customSectionDescription||null,taxes_amount:t.taxesAmount||null,gst_amount:t.gstAmount||null,brand_badge:t.brandBadge||null,flight_price:t.flightPrice||null,flight_route:t.flightRoute||null,flight_details:t.flightDetails||null,card_background_color:t.cardBackgroundColor||"from-orange-400 to-orange-500",field_colors:JSON.stringify(t.fieldColors||{}),field_styles:JSON.stringify(t.fieldStyles||{}),is_featured:t.sectionType==="featured"?1:0,is_active:1,display_order:0,source:"admin_form"},h=await fetch("/api/admin/travel-products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!h.ok)throw new Error("Failed to save travel deal");const w=await h.json();mt(),i({title:"Success",description:`${t.name} added successfully to database!`}),ce(!1)}catch(r){console.error("Error saving travel deal:",r),i({title:"Error",description:"Failed to save travel deal. Please try again.",variant:"destructive"})}},[J,We]=p.useState(!1);p.useEffect(()=>{const t=localStorage.getItem("pickntrust-admin-session");We(t==="active"||window.location.hostname==="localhost")},[]);const{data:Se,isLoading:Ut,error:Dt,refetch:mt}=qe({queryKey:["travel-products",l],queryFn:async()=>{const t=await fetch(`/api/travel-products/${l}`);if(!t.ok)throw new Error("Failed to fetch travel products");return t.json()},enabled:!!l,staleTime:5*60*1e3,retry:2}),ve=p.useMemo(()=>{if(!Se||Se.length===0)return[];let t=Se;return t=t.filter(r=>{const h=parseFloat(r.price)||0;return h>=ae.min&&h<=ae.max}),t.map(r=>{let h={};if(r.travel_type||r.travelType)try{h=JSON.parse(r.travel_type||r.travelType||"{}")}catch{console.warn("Failed to parse travel_type data for deal:",r.id)}const w={...r,...h,sectionType:h.section_type||r.section_type||r.sectionType||"standard",originalPrice:r.original_price||r.originalPrice,imageUrl:r.image_url||r.imageUrl,affiliateUrl:r.affiliate_url||r.affiliateUrl,reviewCount:r.review_count||r.reviewCount,isFeatured:r.is_featured||r.isFeatured,isNew:r.is_new||r.isNew,limitedOfferText:r.limited_offer_text||r.limitedOfferText,hasLimitedOffer:r.has_limited_offer||r.hasLimitedOffer,routeType:h.route_type||r.route_type||r.routeType,travelType:r.travel_type||r.travelType,flightClass:h.flight_class||r.flight_class||r.flightClass,departureTime:h.departure_time||r.departure_time||r.departureTime,arrivalTime:h.arrival_time||r.arrival_time||r.arrivalTime,flightPrice:h.flight_price||r.flight_price||r.flightPrice,flightRoute:h.flight_route||r.flight_route||r.flightRoute,flightDetails:h.flight_details||r.flight_details||r.flightDetails,hotelType:h.hotel_type||r.hotel_type||r.hotelType,roomType:h.room_type||r.room_type||r.roomType,tourType:h.tour_type||r.tour_type||r.tourType,groupSize:h.group_size||r.group_size||r.groupSize,cruiseLine:h.cruise_line||r.cruise_line||r.cruiseLine,cabinType:h.cabin_type||r.cabin_type||r.cabinType,busType:h.bus_type||r.bus_type||r.busType,trainOperator:h.train_operator||r.train_operator||r.trainOperator,trainType:h.train_type||r.train_type||r.trainType,trainNumber:h.train_number||r.train_number||r.trainNumber,packageType:h.package_type||r.package_type||r.packageType,validTill:h.valid_till||r.valid_till||r.validTill,carType:h.car_type||r.car_type||r.carType,fuelType:h.fuel_type||r.fuel_type||r.fuelType,taxesAmount:h.taxes_amount||r.taxes_amount||r.taxesAmount,gstAmount:h.gst_amount||r.gst_amount||r.gstAmount,brandBadge:h.brand_badge||r.brand_badge||r.brandBadge,customSectionTitle:h.custom_section_title||r.custom_section_title||r.customSectionTitle,customSectionDescription:h.custom_section_description||r.custom_section_description||r.customSectionDescription,cardBackgroundColor:h.card_background_color||r.card_background_color||r.cardBackgroundColor,fieldColors:h.field_colors||r.field_colors||r.fieldColors,fieldStyles:h.field_styles||r.field_styles||r.fieldStyles,isActive:r.is_active||r.isActive,displayOrder:r.display_order||r.displayOrder,createdAt:r.created_at||r.createdAt,updatedAt:r.updated_at||r.updatedAt};let P={},pe={};try{w.field_colors&&typeof w.field_colors=="string"?P=JSON.parse(w.field_colors):w.field_colors&&(P=w.field_colors),w.field_styles&&typeof w.field_styles=="string"?pe=JSON.parse(w.field_styles):w.field_styles&&(pe=w.field_styles)}catch(we){console.warn("Failed to parse nested field colors/styles for deal:",w.id,we)}return{...w,field_colors:P,field_styles:pe,displayPrice:ke(parseFloat(w.price.replace(/,/g,""))||0,w.currency||"INR",me),displayOriginalPrice:w.originalPrice?ke(parseFloat(w.originalPrice.replace(/,/g,""))||0,w.currency||"INR",me):null}})},[Se,l,me,ke,ae]),Ce=yr[l]||{sections:[],hasFilter:!1},$t=Ce.sections.length>0,_e=p.useMemo(()=>{if(!ve||ve.length===0)return{trending:[],featured:[],standard:[],destinations:[],special:[],cities:[]};const t={trending:[],featured:[],standard:[],destinations:[],special:[],cities:[]};return ve.forEach(r=>{const h=r.sectionType||"standard";t[h]?t[h].push(r):t.standard.push(r)}),t},[ve]),pt=p.useMemo(()=>{if(!Ce.hasFilter)return[];const t=Object.values(_e).flat(),r=new Set(["all"]),h=t.length>0;return t.forEach(w=>{if(["flights","bus","train","packages"].includes(l)&&w.routeType&&r.add(w.routeType),l==="hotels"){if(w.hotelType){const P=w.hotelType.toLowerCase();["luxury","budget"].includes(P)&&r.add(P)}if(w.rating){const P=parseFloat(String(w.rating));P>=3&&P<4?r.add("3-star"):P>=4&&P<5?r.add("4-star"):P>=5&&r.add("5-star")}}if(l==="tours"&&w.tourType&&r.add(w.tourType.toLowerCase()),l==="cruises"&&w.cruiseType&&r.add(w.cruiseType.toLowerCase()),l==="bus"&&w.busType){const P=w.busType.toLowerCase();P.includes("ac")&&r.add("ac"),P.includes("non-ac")&&r.add("non-ac"),P.includes("sleeper")&&r.add("sleeper"),P.includes("seater")&&r.add("seater")}if(l==="train"&&w.trainClass){const P=w.trainClass.toLowerCase();P.includes("ac")&&r.add("ac"),P.includes("sleeper")&&r.add("sleeper"),P.includes("3ac")&&r.add("3ac"),P.includes("2ac")&&r.add("2ac"),P.includes("1ac")&&r.add("1ac")}l==="car-rental"&&w.carType&&r.add(w.carType.toLowerCase())}),r.size===1&&h&&(Ce.filterOptions||[]).forEach(P=>r.add(P)),Array.from(r)},[_e,l,Ce]);Ce.hasFilter&&o!=="all"&&Object.keys(_e).forEach(t=>{_e[t]=_e[t].filter(r=>{var h,w,P,pe,we,ie,be,Ze,et,Pe,Ae,Ue,De,$e,Be,Ee,Re,S,x,b,d,y,u,O,V,fe,D,W,c,T,M,je,Ne;if(l==="flights")return r.routeType===o;if(l==="bus"){if(o==="domestic"||o==="international"){if(r.routeType)return r.routeType===o;const g=((h=r.name)==null?void 0:h.toLowerCase())||"",A=((w=r.description)==null?void 0:w.toLowerCase())||"";if(o==="domestic")return g.includes("domestic")||A.includes("domestic")||g.includes("delhi")||g.includes("mumbai")||g.includes("bangalore")||g.includes("chennai")||g.includes("kolkata")||g.includes("pune");if(o==="international")return g.includes("international")||A.includes("international")||g.includes("dubai")||g.includes("singapore")||g.includes("london")||g.includes("paris")||g.includes("tokyo")||g.includes("new york")}if(o==="ac")return(P=r.busType)==null?void 0:P.toLowerCase().includes("ac");if(o==="non-ac")return(pe=r.busType)==null?void 0:pe.toLowerCase().includes("non-ac");if(o==="sleeper")return(we=r.busType)==null?void 0:we.toLowerCase().includes("sleeper");if(o==="seater")return(ie=r.busType)==null?void 0:ie.toLowerCase().includes("seater")}else if(l==="train"){if(o==="domestic"||o==="international"){if(r.routeType)return r.routeType===o;const g=((be=r.name)==null?void 0:be.toLowerCase())||"",A=((Ze=r.description)==null?void 0:Ze.toLowerCase())||"";if(o==="domestic")return g.includes("domestic")||A.includes("domestic")||g.includes("delhi")||g.includes("mumbai")||g.includes("bangalore")||g.includes("chennai")||g.includes("kolkata")||g.includes("pune");if(o==="international")return g.includes("international")||A.includes("international")||g.includes("dubai")||g.includes("singapore")||g.includes("london")||g.includes("paris")||g.includes("tokyo")||g.includes("new york")}if(o==="ac")return((et=r.flightClass)==null?void 0:et.toLowerCase().includes("ac"))||((Pe=r.trainClass)==null?void 0:Pe.toLowerCase().includes("ac"));if(o==="sleeper")return((Ae=r.flightClass)==null?void 0:Ae.toLowerCase().includes("sleeper"))||((Ue=r.trainClass)==null?void 0:Ue.toLowerCase().includes("sleeper"));if(o==="3ac")return((De=r.flightClass)==null?void 0:De.toLowerCase().includes("3ac"))||(($e=r.trainClass)==null?void 0:$e.toLowerCase().includes("3ac"));if(o==="2ac")return((Be=r.flightClass)==null?void 0:Be.toLowerCase().includes("2ac"))||((Ee=r.trainClass)==null?void 0:Ee.toLowerCase().includes("2ac"));if(o==="1ac")return((Re=r.flightClass)==null?void 0:Re.toLowerCase().includes("1ac"))||((S=r.trainClass)==null?void 0:S.toLowerCase().includes("1ac"))}else if(l==="hotels"){const g=((x=r.name)==null?void 0:x.toLowerCase())||"",A=((b=r.description)==null?void 0:b.toLowerCase())||"",I=((d=r.hotelType)==null?void 0:d.toLowerCase())||"";if(o==="luxury")return g.includes("luxury")||A.includes("luxury")||I.includes("luxury");if(o==="budget")return g.includes("budget")||A.includes("budget")||I.includes("budget");if(o==="3-star")return g.includes("3 star")||A.includes("3 star")||I.includes("3");if(o==="4-star")return g.includes("4 star")||A.includes("4 star")||I.includes("4");if(o==="5-star")return g.includes("5 star")||A.includes("5 star")||I.includes("5")}else if(l==="car-rental"){const g=((y=r.name)==null?void 0:y.toLowerCase())||"",A=((u=r.description)==null?void 0:u.toLowerCase())||"",I=((O=r.carType)==null?void 0:O.toLowerCase())||"";if(o==="economy")return g.includes("economy")||A.includes("economy")||I.includes("economy");if(o==="compact")return g.includes("compact")||A.includes("compact")||I.includes("compact");if(o==="suv")return g.includes("suv")||A.includes("suv")||I.includes("suv");if(o==="luxury")return g.includes("luxury")||A.includes("luxury")||I.includes("luxury");if(o==="premium")return g.includes("premium")||A.includes("premium")||I.includes("premium")}else if(l==="tours"){const g=((V=r.name)==null?void 0:V.toLowerCase())||"",A=((fe=r.description)==null?void 0:fe.toLowerCase())||"",I=((D=r.tourType)==null?void 0:D.toLowerCase())||"";if(o==="adventure")return g.includes("adventure")||A.includes("adventure")||I.includes("adventure");if(o==="cultural")return g.includes("cultural")||A.includes("cultural")||I.includes("cultural");if(o==="wildlife")return g.includes("wildlife")||A.includes("wildlife")||I.includes("wildlife");if(o==="beach")return g.includes("beach")||A.includes("beach")||I.includes("beach");if(o==="mountain")return g.includes("mountain")||A.includes("mountain")||I.includes("mountain")}else if(l==="cruises"){const g=((W=r.name)==null?void 0:W.toLowerCase())||"",A=((c=r.description)==null?void 0:c.toLowerCase())||"",I=((T=r.cruiseType)==null?void 0:T.toLowerCase())||"";if(o==="luxury")return g.includes("luxury")||A.includes("luxury")||I.includes("luxury");if(o==="family")return g.includes("family")||A.includes("family")||I.includes("family");if(o==="expedition")return g.includes("expedition")||A.includes("expedition")||I.includes("expedition");if(o==="river")return g.includes("river")||A.includes("river")||I.includes("river");if(o==="ocean")return g.includes("ocean")||A.includes("ocean")||I.includes("ocean")}else if(l==="packages"){const g=((M=r.name)==null?void 0:M.toLowerCase())||"",A=((je=r.description)==null?void 0:je.toLowerCase())||"",I=((Ne=r.packageType)==null?void 0:Ne.toLowerCase())||"";if(o==="domestic"||o==="international")return r.routeType===o||g.includes(o)||A.includes(o)||I.includes(o);if(o==="honeymoon")return g.includes("honeymoon")||A.includes("honeymoon")||I.includes("honeymoon");if(o==="family")return g.includes("family")||A.includes("family")||I.includes("family");if(o==="adventure")return g.includes("adventure")||A.includes("adventure")||I.includes("adventure")}return!0})});const Bt=t=>{de(r=>({...r,[t]:!r[t]}))},Et=t=>{k(r=>({...r,[t]:!r[t]}))},Rt=t=>{const r=_e[t.type]||[],h=Z[t.id],w=ge[t.id],P=w?r:r.slice(0,8);return r.length===0?null:e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${t.color} flex items-center justify-center text-white`,children:e.jsx("i",{className:t.icon})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.length>8&&e.jsx("button",{onClick:()=>Et(t.id),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-colors",children:w?"Show Less":`Show All (${r.length})`}),e.jsx("button",{onClick:()=>Bt(t.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("i",{className:`fas fa-chevron-${h?"down":"up"} text-gray-500`})})]})]}),!h&&e.jsx("div",{className:`grid ${t.type==="featured"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6":t.type==="standard"?l==="cruises"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":l==="hotels"?"gap-6":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":t.type==="destinations"?l==="packages"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":t.type==="special"?"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":t.type==="cities"?"grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6":"grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6"}`,style:(()=>{if(t.type==="standard"&&l==="hotels")return{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(600px, 1fr))",gap:"1.5rem",width:"100%"}})(),children:P.map(pe=>e.jsx("div",{children:Fe(pe,t.type)},pe.id))})]},t.id)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-indigo-900/20",children:[e.jsx("div",{className:"header-widgets",children:e.jsx(qt,{page:"travel-picks",position:"header"})}),e.jsx(lt,{}),e.jsx(Ot,{}),e.jsx(Mt,{}),e.jsx(ct,{page:"travel-picks"}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsx(hr,{selectedCategory:l,onCategoryChange:H,isAdmin:J,categoryCount:ve.length})}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(Gt,{onCategoryChange:H,selectedCategory:l,selectedCurrency:me,onCurrencyChange:t=>{t!=="ALL"&&Ge(t)},onPriceRangeChange:(t,r)=>Y({min:t,max:r}),availableCategories:["flights","hotels","tours","cruises","bus","train"]}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[l.charAt(0).toUpperCase()+l.slice(1)," (",ve.length,")"]}),e.jsx("div",{className:"flex items-center gap-2",children:!J&&e.jsx(xe,{product:{id:`travel-${l}`,name:`${l.charAt(0).toUpperCase()+l.slice(1)} Travel Deals`,description:`Discover amazing ${l} deals and offers`,price:"",imageUrl:"",category:l,affiliateUrl:window.location.href},className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg transition-all duration-200",buttonText:"",showIcon:!0})}),J&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{ye(l),ce(!0)},className:"p-2 rounded-full bg-green-50 text-green-600 hover:bg-green-100 transition-colors",title:`Add ${l} content`,children:e.jsx("i",{className:"fas fa-plus text-sm"})}),e.jsx("button",{onClick:()=>a(!X),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Bulk delete options",children:e.jsx("i",{className:"fas fa-trash text-sm"})}),X&&e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border rounded-lg px-3 py-2 shadow-sm",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[L.length," selected"]}),e.jsx("button",{onClick:()=>R(!1),disabled:L.length===0,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50",children:"Delete Selected"}),e.jsxs("button",{onClick:()=>R(!0),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:["Delete All ",l]}),e.jsx("button",{onClick:()=>{s([]),a(!1)},className:"px-2 py-1 text-gray-500 hover:text-gray-700",children:e.jsx("i",{className:"fas fa-times"})})]})]})]})}),$t?e.jsxs("div",{className:"space-y-8",children:[Ce.hasFilter&&pt.length>1&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter by:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:pt.map(t=>{const r=(h,w)=>h==="all"?`All ${w.charAt(0).toUpperCase()+w.slice(1)}`:{"non-ac":"Non-AC","3ac":"3AC","2ac":"2AC","1ac":"1AC","3-star":"3 Star","4-star":"4 Star","5-star":"5 Star"}[h]||h.charAt(0).toUpperCase()+h.slice(1);return e.jsx("button",{onClick:()=>E(t),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${o===t?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300"}`,children:r(t,l)},t)})})]}),Ce.sections.map(t=>Rt(t))]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ve.length>0?ve.map(t=>Fe(t,"standard")):e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("i",{className:"fas fa-plane text-6xl text-gray-300 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-500 mb-2",children:"No travel deals found"}),e.jsx("p",{className:"text-gray-400",children:"Try selecting a different category."})]})})]})]}),e.jsx(ut,{page:"travel-picks",title:"Travel Videos"}),e.jsx(Wt,{}),e.jsx(dt,{}),e.jsx(bt,{isOpen:F,onClose:$,onConfirm:U,productName:(G==null?void 0:G.name)||"",platforms:Xe}),e.jsx(br,{isOpen:C,onClose:()=>ce(!1),category:q,onSubmit:K}),Ut&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 flex items-center space-x-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Loading travel deals..."})]})}),Dt&&e.jsx("div",{className:"fixed bottom-4 left-4 bg-red-500 text-white p-4 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("span",{children:"Failed to load travel deals"}),e.jsx("button",{onClick:()=>mt(),className:"ml-2 px-2 py-1 bg-red-600 hover:bg-red-700 rounded text-sm",children:"Retry"})]})})]})}const Ur=Object.freeze(Object.defineProperty({__proto__:null,default:vr},Symbol.toStringTag,{value:"Module"})),wr=[{id:"brands",title:"Airlines & Brand Promotions",icon:"fas fa-plane-departure",color:"from-blue-500 to-blue-600",description:"Featured airlines with exclusive offers - AirAsia, Cathay Pacific, IndiGo and more",type:"brands"},{id:"search",title:"Flight Search Results",icon:"fas fa-search",color:"from-purple-500 to-purple-600",description:"Compare flight prices, timings, and book the best deals",type:"search"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore popular destinations and cities worldwide",type:"destinations"}];function jr(){const[i,j]=p.useState(!1),[f,B]=p.useState({}),[_,v]=p.useState({}),[l,H]=p.useState("all"),{toast:o}=Le(),{addToWishlist:E,removeFromWishlist:ae,isInWishlist:Y}=Je(),oe=Qe();p.useEffect(()=>{const s=localStorage.getItem("pickntrust-admin-session");j(s==="active")},[]),p.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:ee=[]}=qe({queryKey:["travel-products"],queryFn:async()=>{const s=await fetch("/api/products/page/travel-picks");if(!s.ok)throw new Error("Failed to fetch flight deals");return s.json()},staleTime:5*60*1e3}),le=Ie({mutationFn:s=>Oe(s,void 0,"pickntrust2025"),onSuccess:()=>{Ye(oe),o({title:"Flight Deal Deleted",description:"Flight deal has been deleted successfully."})},onError:s=>{o({title:"Delete Failed",description:s.message||"Failed to delete flight deal",variant:"destructive"})}}),Q=s=>{confirm("Are you sure you want to delete this flight deal?")&&le.mutate(`travel_picks_${s}`)},Z=s=>{Y(s.id)?(ae(s.id),o({title:"Removed from wishlist",description:`${s.name} removed from your wishlist`})):(E({id:s.id,name:s.name,price:s.price,imageUrl:s.imageUrl||s.image_url||"",affiliateUrl:s.affiliateUrl||s.affiliate_url||""}),o({title:"Added to wishlist",description:`${s.name} added to your wishlist`}))},ge=ee?(s=>{const F={brands:[],search:[],destinations:[]};return s.forEach(N=>{var G,m,C,ce;if(!(l!=="all"&&(N.routeType||((G=N.route)!=null&&G.toLowerCase().includes("delhi")||(m=N.route)!=null&&m.toLowerCase().includes("mumbai")||(C=N.route)!=null&&C.toLowerCase().includes("bangalore")||(ce=N.route)!=null&&ce.toLowerCase().includes("chennai")?"domestic":"international"))!==l))if(N.flightType)F[N.flightType].push(N);else{const q=N.name.toLowerCase(),ye=(N.description||"").toLowerCase(),ue=(N.airline||"").toLowerCase();ue.includes("airasia")||ue.includes("cathay")||ue.includes("indigo")||ue.includes("emirates")||ue.includes("qatar")||q.includes("airline")||ye.includes("brand")||ye.includes("exclusive")?F.brands.push(N):N.route&&N.departure&&N.arrival?F.search.push(N):N.city||N.location||q.includes("goa")||q.includes("delhi")||q.includes("mumbai")||q.includes("dubai")||q.includes("singapore")?F.destinations.push(N):F.search.push(N)}}),F})(ee):{brands:[],search:[],destinations:[]},k=s=>{B(F=>({...F,[s]:!F[s]}))},X=s=>{v(F=>({...F,[s]:!F[s]}))},a=(s,F)=>{const N=Y(s.id);return F==="brands"?e.jsx(vt,{pageId:"flights",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:s.imageUrl||s.image_url||"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=100&h=60&fit=crop",alt:s.airline||"Flight",className:"w-12 h-8 object-cover rounded"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:s.route||s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.airline||"Multiple Airlines"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["₹",s.price]}),s.originalPrice&&e.jsxs("div",{className:"text-xs text-gray-500 line-through",children:["₹",s.originalPrice]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-3",children:[e.jsxs("span",{children:[s.departure||"06:00"," - ",s.arrival||"08:30"]}),e.jsx("span",{children:s.duration||"2h 30m"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Z(s),className:`p-1.5 rounded-full transition-colors ${N?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-xs"})}),i&&e.jsx(Te,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Flights",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},contentType:"product",className:"p-1.5 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!i&&e.jsx(xe,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Flights",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},className:"p-1.5 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),i&&e.jsx("button",{onClick:()=>Q(s.id),className:"p-1.5 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-xs"})})]}),e.jsx("button",{onClick:()=>window.open(s.affiliateUrl||s.affiliate_url,"_blank"),className:"px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Book Now"})]})]},s.id)}):F==="search"?e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.imageUrl||s.image_url||"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=400&h=200&fit=crop",alt:s.name,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:e.jsx("button",{onClick:()=>Z(s),className:`p-2 rounded-full transition-colors ${N?"bg-red-500 text-white":"bg-white/80 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-sm"})})}),s.discount&&e.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-bold",children:[s.discount,"% OFF"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:s.name}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xl font-bold text-purple-600",children:["₹",s.price]}),s.originalPrice&&e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["₹",s.originalPrice]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 mb-3",children:[e.jsxs("div",{children:[e.jsx("i",{className:"fas fa-plane mr-1"}),s.airline||"Multiple Airlines"]}),e.jsxs("div",{children:[e.jsx("i",{className:"fas fa-clock mr-1"}),s.duration||"Various"]}),e.jsxs("div",{children:[e.jsx("i",{className:"fas fa-route mr-1"}),s.route||"Multiple Routes"]}),e.jsxs("div",{children:[e.jsx("i",{className:"fas fa-calendar mr-1"}),s.validTill||"Limited Time"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[i&&e.jsx(Te,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Flights",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},contentType:"product",className:"p-2 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!i&&e.jsx(xe,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Flights",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),i&&e.jsx("button",{onClick:()=>Q(s.id),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]}),e.jsx("button",{onClick:()=>window.open(s.affiliateUrl||s.affiliate_url,"_blank"),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:"Book Flight"})]})]})]},s.id):e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-700 rounded-lg p-4 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[e.jsx("i",{className:"fas fa-fire mr-1"}),"HOT DEAL"]}),s.validTill&&e.jsxs("div",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs",children:["Valid till ",s.validTill]})]}),e.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:s.description})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["₹",s.price]}),s.originalPrice&&e.jsxs("div",{className:"text-lg text-gray-500 line-through",children:["₹",s.originalPrice]}),s.discount&&e.jsxs("div",{className:"text-sm font-bold text-green-600",children:["Save ",s.discount,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Z(s),className:`p-2 rounded-full transition-colors ${N?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-sm"})}),i&&e.jsx(Te,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Flights",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},contentType:"product",className:"p-2 rounded-full bg-green-100 text-green-600 hover:bg-green-200",buttonText:"",showIcon:!0}),!i&&e.jsx(xe,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Flights",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},className:"p-2 rounded-full bg-white text-gray-600 hover:bg-gray-100",buttonText:"",showIcon:!0}),i&&e.jsx("button",{onClick:()=>Q(s.id),className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]}),e.jsxs("button",{onClick:()=>window.open(s.affiliateUrl||s.affiliate_url,"_blank"),className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors animate-pulse",children:[e.jsx("i",{className:"fas fa-bolt mr-2"}),"Grab Deal"]})]})]},s.id)},L=s=>{const F=ge[s.type]||[];if(F.length===0)return null;const N=f[s.id]!==!1,G=_[s.id]||!1,m=6,C=G?F:F.slice(0,m),ce=F.length>m;return e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${s.color} text-white`,children:e.jsx("i",{className:`${s.icon} text-xl`})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[s.title," (",F.length,")"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.description})]})]}),e.jsx("button",{onClick:()=>k(s.id),className:"p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx("i",{className:`fas fa-chevron-${N?"up":"down"}`})})]}),N&&e.jsxs("div",{children:[e.jsx("div",{className:`grid gap-4 mb-4 ${s.type==="brands"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":s.type==="search"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"}`,children:C.map(q=>a(q,s.type))}),ce&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>X(s.id),className:`px-6 py-3 bg-gradient-to-r ${s.color} text-white rounded-lg hover:shadow-lg transition-all`,children:G?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-up mr-2"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-down mr-2"}),"Show ",F.length-m," More Flights"]})})})]})]},s.id)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(lt,{}),e.jsx(ct,{page:"flights"}),e.jsx("main",{className:"pt-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[e.jsx("i",{className:"fas fa-plane mr-3 text-blue-600"}),"Flight Deals & Bookings"]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-3xl mx-auto mb-6",children:"Discover amazing flight deals for domestic and international travel. Compare prices, find the best routes, and book your next adventure with confidence."}),e.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[e.jsxs("button",{onClick:()=>H("all"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${l==="all"?"bg-blue-600 text-white shadow-lg":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[e.jsx("i",{className:"fas fa-globe mr-2"}),"All Flights"]}),e.jsxs("button",{onClick:()=>H("domestic"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${l==="domestic"?"bg-green-600 text-white shadow-lg":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-2"}),"Domestic"]}),e.jsxs("button",{onClick:()=>H("international"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${l==="international"?"bg-purple-600 text-white shadow-lg":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[e.jsx("i",{className:"fas fa-plane-departure mr-2"}),"International"]})]})]}),e.jsx("div",{className:"space-y-8",children:wr.map(s=>L(s))}),(!ee||ee.length===0)&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl text-gray-300 dark:text-gray-600 mb-4",children:e.jsx("i",{className:"fas fa-plane"})}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No Flight Deals Available"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 mb-6",children:"Flight deals will appear here when added. Check back soon for amazing offers!"}),i&&e.jsxs(yt,{href:"/admin",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Add Flight Deals"]})]})]})}),e.jsx(ut,{page:"flights",title:"Flight Travel Videos"}),e.jsx(dt,{})]})}const Dr=Object.freeze(Object.defineProperty({__proto__:null,default:jr},Symbol.toStringTag,{value:"Module"})),Nr=[{id:"featured",title:"Featured Hotels & Premium Stays",icon:"fas fa-crown",color:"from-purple-500 to-purple-600",description:"Luxury hotels, top-rated properties, and exclusive deals with detailed information",type:"featured"},{id:"standard",title:"Quick Browse Hotels",icon:"fas fa-th-large",color:"from-blue-500 to-blue-600",description:"Compare hotels quickly with compact cards - perfect for budget and standard stays",type:"standard"},{id:"destination",title:"Browse by Destination",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore hotels by popular destinations and cities worldwide",type:"destination"}];function kr(){const[i,j]=p.useState(!1),[f,B]=p.useState({}),[_,v]=p.useState({}),{toast:l}=Le(),{addToWishlist:H,removeFromWishlist:o,isInWishlist:E}=Je(),ae=Qe();p.useEffect(()=>{const a=localStorage.getItem("pickntrust-admin-session");j(a==="active")},[]),p.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:Y=[]}=qe({queryKey:["travel-products"],queryFn:async()=>{const a=await fetch("/api/products/page/travel-picks");if(!a.ok)throw new Error("Failed to fetch hotel deals");return a.json()},staleTime:5*60*1e3}),oe=Ie({mutationFn:a=>Oe(a,void 0,"pickntrust2025"),onSuccess:()=>{Ye(ae),l({title:"Hotel Deal Deleted",description:"Hotel deal has been deleted successfully."})},onError:a=>{l({title:"Delete Failed",description:a.message||"Failed to delete hotel deal",variant:"destructive"})}}),ee=a=>{confirm("Are you sure you want to delete this hotel deal?")&&oe.mutate(`travel_picks_${a}`)},le=a=>{E(a.id)?(o(a.id),l({title:"Removed from wishlist",description:`${a.name} removed from your wishlist`})):(H({id:a.id,name:a.name,price:a.price,imageUrl:a.imageUrl||a.image_url||"",affiliateUrl:a.affiliateUrl||a.affiliate_url||""}),l({title:"Added to wishlist",description:`${a.name} added to your wishlist`}))},Z=Y?(a=>{const L={featured:[],standard:[],destination:[]};return a.forEach(s=>{if(s.hotelType)L[s.hotelType].push(s);else{const F=s.name.toLowerCase(),N=(s.description||"").toLowerCase(),G=parseFloat(s.rating||"0"),m=parseFloat(s.price||"0");s.isFeatured||G>=4.5||m>=5e3||F.includes("luxury")||F.includes("premium")||N.includes("5 star")||N.includes("resort")?L.featured.push(s):s.city||s.location||F.includes("goa")||F.includes("delhi")||F.includes("mumbai")||F.includes("bangalore")||F.includes("dubai")?L.destination.push(s):L.standard.push(s)}}),L})(Y):{featured:[],standard:[],destination:[]},de=a=>{B(L=>({...L,[a]:!L[a]}))},ge=a=>{v(L=>({...L,[a]:!L[a]}))},k=(a,L)=>{const s=E(a.id);return L==="featured"?e.jsx(vt,{pageId:"hotels",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.imageUrl||a.image_url||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=600&h=300&fit=crop",alt:a.name,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-3 right-3 flex gap-2",children:e.jsx("button",{onClick:()=>le(a),className:`p-2 rounded-full transition-colors ${s?"bg-red-500 text-white":"bg-white/90 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-sm"})})}),a.discount&&e.jsxs("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[a.discount,"% OFF"]}),a.isFeatured&&e.jsxs("div",{className:"absolute bottom-3 left-3 bg-purple-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[e.jsx("i",{className:"fas fa-crown mr-1"}),"FEATURED"]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:a.name}),e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-2",children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),a.location||a.city||"Prime Location"]}),a.rating&&e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"bg-blue-600 text-white px-2 py-1 rounded text-sm font-bold",children:a.rating}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Very Good (",a.reviewCount||"1365"," Ratings)"]})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[a.originalPrice&&e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["₹",a.originalPrice]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["₹",a.price]}),e.jsx("div",{className:"text-xs text-gray-500",children:"+ taxes & fees"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Per Night"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:a.description||"Located near prime attractions, vibrant ambiance with clean rooms, friendly staff and great food"}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx("i",{className:"fas fa-check mr-1"}),"Free Cancellation"]}),e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx("i",{className:"fas fa-check mr-1"}),"Book with ₹0 Payment"]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[i&&e.jsx(Te,{product:{id:a.id,name:a.name,description:a.description||"",price:a.price,imageUrl:a.imageUrl||a.image_url||"",category:"Hotels",affiliateUrl:a.affiliateUrl||a.affiliate_url||""},contentType:"product",className:"p-2 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!i&&e.jsx(xe,{product:{id:a.id,name:a.name,description:a.description||"",price:a.price,imageUrl:a.imageUrl||a.image_url||"",category:"Hotels",affiliateUrl:a.affiliateUrl||a.affiliate_url||""},className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),i&&e.jsx("button",{onClick:()=>ee(a.id),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]}),e.jsx("button",{onClick:()=>window.open(a.affiliateUrl||a.affiliate_url,"_blank"),className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Login to Book Now & Pay Later!"})]})]})]},a.id)}):L==="standard"?e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.imageUrl||a.image_url||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300&h=200&fit=crop",alt:a.name,className:"w-full h-32 object-cover"}),e.jsx("button",{onClick:()=>le(a),className:`absolute top-2 right-2 p-1.5 rounded-full transition-colors ${s?"bg-red-500 text-white":"bg-white/80 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-xs"})}),a.discount&&e.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-bold",children:[a.discount,"% OFF"]})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 text-sm line-clamp-1",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:a.location||a.city||"Prime Location"}),a.rating&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx("div",{className:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-xs font-bold",children:a.rating}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",a.reviewCount||"100",")"]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["₹",a.price]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Per Night"})]}),a.originalPrice&&e.jsxs("div",{className:"text-xs text-gray-500 line-through",children:["₹",a.originalPrice]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-1",children:[i&&e.jsx(Te,{product:{id:a.id,name:a.name,description:a.description||"",price:a.price,imageUrl:a.imageUrl||a.image_url||"",category:"Hotels",affiliateUrl:a.affiliateUrl||a.affiliate_url||""},contentType:"product",className:"p-1.5 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!i&&e.jsx(xe,{product:{id:a.id,name:a.name,description:a.description||"",price:a.price,imageUrl:a.imageUrl||a.image_url||"",category:"Hotels",affiliateUrl:a.affiliateUrl||a.affiliate_url||""},className:"p-1.5 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),i&&e.jsx("button",{onClick:()=>ee(a.id),className:"p-1.5 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-xs"})})]}),e.jsx("button",{onClick:()=>window.open(a.affiliateUrl||a.affiliate_url,"_blank"),className:"px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Book Now"})]})]})]},a.id):e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:a.imageUrl||a.image_url||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=80&h=80&fit=crop",alt:a.city||a.location||a.name,className:"w-16 h-16 rounded-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:a.city||a.location||a.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:a.description||`Hotels, Budget Hotels, Resorts, Best Hotels, ${a.location||"Prime Location"}`})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["₹",a.price]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Per Night"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{onClick:()=>le(a),className:`p-2 rounded-full transition-colors ${s?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-sm"})}),i&&e.jsx(Te,{product:{id:a.id,name:a.name,description:a.description||"",price:a.price,imageUrl:a.imageUrl||a.image_url||"",category:"Hotels",affiliateUrl:a.affiliateUrl||a.affiliate_url||""},contentType:"product",className:"p-2 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!i&&e.jsx(xe,{product:{id:a.id,name:a.name,description:a.description||"",price:a.price,imageUrl:a.imageUrl||a.image_url||"",category:"Hotels",affiliateUrl:a.affiliateUrl||a.affiliate_url||""},className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),i&&e.jsx("button",{onClick:()=>ee(a.id),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]})]})},a.id)},X=a=>{const L=Z[a.type]||[];if(L.length===0)return null;const s=f[a.id]!==!1,F=_[a.id]||!1,N=a.type==="featured"?3:a.type==="standard"?6:4,G=F?L:L.slice(0,N),m=L.length>N;return e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-4 rounded-xl bg-gradient-to-r ${a.color} text-white shadow-lg`,children:e.jsx("i",{className:`${a.icon} text-2xl`})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[a.title," (",L.length,")"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:a.description})]})]}),e.jsx("button",{onClick:()=>de(a.id),className:"p-3 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx("i",{className:`fas fa-chevron-${s?"up":"down"} text-lg`})})]}),s&&e.jsxs("div",{children:[e.jsx("div",{className:`grid gap-6 mb-6 ${a.type==="featured"?"grid-cols-1":a.type==="standard"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:G.map(C=>k(C,a.type))}),m&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>ge(a.id),className:`px-8 py-4 bg-gradient-to-r ${a.color} text-white rounded-xl hover:shadow-lg transition-all font-semibold`,children:F?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-up mr-2"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-down mr-2"}),"Show ",L.length-N," More Hotels"]})})})]})]},a.id)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(lt,{}),e.jsx(ct,{page:"hotels"}),e.jsx("main",{className:"pt-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-5xl font-bold text-gray-900 dark:text-white mb-6",children:[e.jsx("i",{className:"fas fa-bed mr-4 text-purple-600"}),"Hotel Deals & Bookings"]}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-4xl mx-auto",children:"Discover amazing hotel deals from luxury resorts to budget stays. Compare prices, read reviews, and book your perfect accommodation with confidence."})]}),e.jsx("div",{className:"space-y-12",children:Nr.map(a=>X(a))}),(!Y||Y.length===0)&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"text-8xl text-gray-300 dark:text-gray-600 mb-6",children:e.jsx("i",{className:"fas fa-bed"})}),e.jsx("h3",{className:"text-3xl font-semibold text-gray-600 dark:text-gray-400 mb-4",children:"No Hotel Deals Available"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 mb-8 text-lg",children:"Hotel deals will appear here when added. Check back soon for amazing accommodation offers!"}),i&&e.jsxs(yt,{href:"/admin",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors text-lg font-semibold",children:[e.jsx("i",{className:"fas fa-plus mr-3"}),"Add Hotel Deals"]})]})]})}),e.jsx(ut,{page:"hotels",title:"Hotel Travel Videos"}),e.jsx(dt,{})]})}const $r=Object.freeze(Object.defineProperty({__proto__:null,default:kr},Symbol.toStringTag,{value:"Module"}));export{z as I,se as L,rt as S,ze as T,He as a,st as b,Ke as c,Ve as d,Ar as e,Dr as f,$r as h,Ur as t};
