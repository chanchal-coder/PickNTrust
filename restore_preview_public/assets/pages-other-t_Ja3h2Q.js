const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pages-travel-BKbkABH7.js","assets/vendor-DNlhI76F.js","assets/query-D71mr71Q.js","assets/pages-main-DOjN59On.js","assets/icons-B2XESxUM.js","assets/utils-Bj7X0qp-.js","assets/radix-z-2eheXi.js","assets/pages-picks-B8mK09nr.js"])))=>i.map(i=>d[i]);
import{r as l,j as e}from"./vendor-DNlhI76F.js";import{a as oe,u as te,b as ke}from"./query-D71mr71Q.js";import{u as le,H as be,B as X,j as se,U as ie,C as Re,q as Ue,r as _e,E as xe,g as pe,c as Se,b as ce,i as Z,W as f,A as ae,P as re,d as me,s as Ce,S as Pe,l as Le,_ as Ae}from"./pages-main-DOjN59On.js";import{I as Ee,S as ye,a as we,b as ve,c as je,d as de}from"./pages-travel-BKbkABH7.js";import{p as Y,q as Te,r as Ne,G as De,s as qe,j as $e,C as Ie,i as Be,t as Me,E as Ke,T as ze}from"./icons-B2XESxUM.js";import{P as ue,u as Oe}from"./pages-picks-B8mK09nr.js";function We(){const[b,$]=l.useState(""),[x,M]=l.useState("all"),[F,O]=l.useState("all"),[k,G]=l.useState("grid"),[U,I]=l.useState(!1),{toast:S}=le(),D=oe();l.useEffect(()=>{window.scrollTo(0,0)},[]),l.useEffect(()=>{const s=localStorage.getItem("pickntrust-admin-session");I(s==="active");const m=u=>{u.key==="pickntrust-admin-session"&&I(u.newValue==="active")};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)},[]);const{data:C=[],isLoading:z,error:Q}=te({queryKey:["/api/video-content"],queryFn:async()=>{let s;try{s=await fetch("/api/video-content")}catch{console.log("Direct call failed, trying proxy..."),s=await fetch("/api/video-content")}if(!s.ok)throw new Error("Failed to fetch videos");return s.json()},retry:2,retryDelay:1e3,staleTime:5*60*1e3}),E=ke({mutationFn:async s=>{const m=await fetch(`/api/admin/video-content/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});if(!m.ok)throw new Error("Failed to delete video");return m.json()},onSuccess:()=>{S({title:"Success",description:"Video deleted successfully!"}),D.invalidateQueries({queryKey:["/api/video-content"]})},onError:s=>{S({title:"Error",description:s.message||"Failed to delete video",variant:"destructive"})}}),_=Array.from(new Set(C.map(s=>s.category))),v=Array.from(new Set(C.map(s=>s.platform))),P=C.filter(s=>{const m=s.title.toLowerCase().includes(b.toLowerCase())||s.description.toLowerCase().includes(b.toLowerCase()),u=x==="all"||s.category===x,t=F==="all"||s.platform===F;return m&&u&&t}),q=(s,m)=>{if(!s||s.trim()===""||s.startsWith("data:image/"))return null;switch(m.toLowerCase()){case"youtube":const u=/(?:youtube\.com\/shorts\/)([^"&?\/\s]{11})/,t=s.match(u);if(t)return{embedUrl:null,thumbnailUrl:`https://img.youtube.com/vi/${t[1]}/maxresdefault.jpg`,isShorts:!0,videoId:t[1]};const o=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/).*[?&]v=|youtu\.be\/)([^"&?\/\s]{11})/,i=s.match(o);if(i)return{embedUrl:`https://www.youtube.com/embed/${i[1]}`,thumbnailUrl:`https://img.youtube.com/vi/${i[1]}/maxresdefault.jpg`};break;case"vimeo":const d=/(?:vimeo\.com\/)([0-9]+)/,w=s.match(d);if(w)return{embedUrl:`https://player.vimeo.com/video/${w[1]}`,thumbnailUrl:`https://vumbnail.com/${w[1]}.jpg`};break;case"tiktok":return{embedUrl:s,thumbnailUrl:"https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=400&q=80"};default:if(s.startsWith("http://")||s.startsWith("https://"))return{embedUrl:s,thumbnailUrl:"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=400&q=80"};break}return null},h=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),W=(s,m)=>{confirm(`Are you sure you want to delete "${m}"? This action cannot be undone.`)&&E.mutate(s)},R=l.useRef(null),[j,H]=l.useState(!1),[B,y]=l.useState(!1),L=()=>{const s=R.current;if(!s)return;const m=s.scrollWidth-s.clientWidth;H(s.scrollLeft>0),y(s.scrollLeft<m-1)};l.useEffect(()=>{if(k!=="grid")return;const s=R.current;L();const m=()=>L();return window.addEventListener("resize",m),s&&s.addEventListener("scroll",L,{passive:!0}),()=>{window.removeEventListener("resize",m),s&&s.removeEventListener("scroll",L)}},[P,k]);const V=s=>{const m=R.current;if(!m)return;const u=m.firstElementChild,i=((u?u.clientWidth:320)+32)*(s==="left"?-1:1);m.scrollBy({left:i,behavior:"smooth"})};return l.useEffect(()=>{if(k!=="grid")return;const s=R.current;if(!s)return;const m=u=>{Math.abs(u.deltaX)<Math.abs(u.deltaY)&&(u.preventDefault(),s.scrollBy({left:u.deltaY,behavior:"smooth"}))};return s.addEventListener("wheel",m,{passive:!1}),()=>s.removeEventListener("wheel",m)},[k,P]),z?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(be,{}),e.jsx("div",{className:"pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-8",children:[e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-1/3"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[...Array(6)].map((s,m)=>e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"},m))})]})})})]}):Q?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(be,{}),e.jsx("div",{className:"pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Y,{className:"w-12 h-12 text-red-500"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-red-600",children:"Unable to Load Videos"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"There was an error loading the video content. Please try refreshing the page."}),e.jsx(X,{onClick:()=>{window.location.reload()},variant:"outline",children:"Refresh Page"})]})})}),e.jsx(se,{})]}):e.jsx(ie,{pageId:"videos",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 dark:from-slate-900 dark:via-blue-900/20 dark:to-purple-900/20",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-pink-400/20 to-orange-400/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500 to-pink-500 rounded-2xl shadow-lg",children:e.jsx(Y,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-5xl font-extrabold bg-gradient-to-r from-red-600 via-pink-600 to-purple-600 bg-clip-text text-transparent",children:"Video Content"})]}),e.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:[e.jsx("i",{className:"fas fa-video"})," Discover our curated collection of videos, tutorials, and reviews ",e.jsx("i",{className:"fas fa-sparkles"})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"backdrop-blur-sm bg-white/70 dark:bg-slate-800/70 rounded-3xl p-8 shadow-2xl border border-white/20 dark:border-slate-700/50",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center",children:[e.jsx("div",{className:"flex-1 w-full",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5 z-10"}),e.jsx(Ee,{placeholder:"ðŸ” Search amazing videos...",value:b,onChange:s=>$(s.target.value),className:"pl-12 pr-4 py-4 text-lg rounded-2xl border-2 border-transparent bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm focus:border-gradient-to-r focus:from-blue-500 focus:to-purple-500 transition-all duration-300 shadow-lg"})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(ye,{value:x,onValueChange:M,children:[e.jsxs(we,{className:"relative w-full sm:w-52 h-12 rounded-xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-2 border-transparent hover:border-green-500/30 transition-all duration-300 shadow-lg",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2 text-green-600"}),e.jsx(ve,{placeholder:"All Categories"})]}),e.jsxs(je,{className:"rounded-xl border-0 shadow-2xl bg-white/95 dark:bg-slate-900/95 backdrop-blur-md",children:[e.jsxs(de,{value:"all",className:"rounded-lg",children:[e.jsx("i",{className:"fas fa-bullseye mr-2 text-red-500"}),"All Categories"]}),_.map(s=>e.jsxs(de,{value:s,className:"rounded-lg",children:[e.jsx("i",{className:"fas fa-folder mr-2 text-blue-500"}),s]},s))]})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(ye,{value:F,onValueChange:O,children:[e.jsxs(we,{className:"relative w-full sm:w-52 h-12 rounded-xl bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-2 border-transparent hover:border-purple-500/30 transition-all duration-300 shadow-lg",children:[e.jsx(Y,{className:"w-4 h-4 mr-2 text-purple-600"}),e.jsx(ve,{placeholder:"All Platforms"})]}),e.jsxs(je,{className:"rounded-xl border-0 shadow-2xl bg-white/95 dark:bg-slate-900/95 backdrop-blur-md",children:[e.jsxs(de,{value:"all",className:"rounded-lg",children:[e.jsx("i",{className:"fas fa-globe"})," All Platforms"]}),v.map(s=>e.jsx(de,{value:s,className:"rounded-lg",children:e.jsxs("span",{children:[e.jsx("i",{className:s==="youtube"?"fas fa-tv":s==="vimeo"?"fas fa-video":"fas fa-film"})," ",s]})},s))]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-white/50 dark:bg-slate-900/50 rounded-2xl p-1 backdrop-blur-sm border border-white/30 dark:border-slate-700/30",children:[e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>G("grid"),className:`rounded-xl transition-all duration-300 ${k==="grid"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg transform scale-105":"hover:bg-white/50 dark:hover:bg-slate-800/50"}`,children:[e.jsx(De,{className:"w-4 h-4 mr-1"}),"Grid"]}),e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>G("list"),className:`rounded-xl transition-all duration-300 ${k==="list"?"bg-gradient-to-r from-green-500 to-teal-500 text-white shadow-lg transform scale-105":"hover:bg-white/50 dark:hover:bg-slate-800/50"}`,children:[e.jsx(qe,{className:"w-4 h-4 mr-1"}),"List"]})]})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-xl",children:e.jsx(Y,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[P.length," Amazing Videos"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:P.length===C.length?"Showing all videos":`Filtered from ${C.length} total videos`})]})]}),P.length>0&&e.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live Results"]})]})}),P.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsxs("div",{className:"relative mx-auto mb-8 w-32 h-32",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/20 to-pink-500/20 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-2 bg-gradient-to-br from-red-500/30 to-pink-500/30 rounded-full animate-pulse delay-150"}),e.jsx("div",{className:"absolute inset-4 bg-gradient-to-br from-red-500 to-pink-500 rounded-full flex items-center justify-center shadow-2xl",children:e.jsx(Y,{className:"w-12 h-12 text-white animate-bounce"})})]}),e.jsxs("h3",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent mb-4",children:[e.jsx("i",{className:"fas fa-video"})," No Videos Found"]}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-md mx-auto leading-relaxed",children:b||x!=="all"||F!=="all"?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-sparkles"})," Try adjusting your search or filters to discover amazing content!"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-rocket"})," No video content has been published yet. Stay tuned for exciting updates!"]})}),(b||x!=="all"||F!=="all")&&e.jsxs(X,{onClick:()=>{$(""),M("all"),O("all")},className:"mt-6 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white rounded-2xl px-8 py-3 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:[e.jsx("i",{className:"fas fa-sync-alt"})," Clear All Filters"]})]}):e.jsxs("div",{className:k==="grid"?"relative":"space-y-8",children:[k==="grid"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{"aria-label":"Scroll left",className:"inline-flex items-center justify-center w-9 h-9 rounded-full bg-emerald-500 text-white shadow-lg hover:bg-emerald-600 transition absolute left-2 top-1/2 -translate-y-1/2 z-20",onClick:()=>V("left"),disabled:!j,children:e.jsx($e,{className:"w-5 h-5"})}),e.jsx("button",{"aria-label":"Scroll right",className:"inline-flex items-center justify-center w-9 h-9 rounded-full bg-emerald-500 text-white shadow-lg hover:bg-emerald-600 transition absolute right-2 top-1/2 -translate-y-1/2 z-20",onClick:()=>V("right"),disabled:!B,children:e.jsx(Ie,{className:"w-5 h-5"})})]}),e.jsx("div",{ref:R,className:k==="grid"?"overflow-x-auto scrollbar-hide flex gap-8 pb-2":"space-y-8",style:k==="grid"?{scrollBehavior:"smooth",WebkitOverflowScrolling:"touch",touchAction:"pan-x"}:void 0,children:P.map((s,m)=>{const u=()=>"https://pickntrust.com",t=i=>!i||i.startsWith("http")||i.startsWith("data:")||i.startsWith("blob:")?i:i.startsWith("/")?u()+i:i,o=q(s.videoUrl,s.platform);return e.jsx("div",{className:`group animate-in fade-in-0 slide-in-from-bottom-4 duration-700 ${k==="grid"?"flex-shrink-0 w-[28rem] sm:w-[32rem]":""}`,style:{animationDelay:`${m*100}ms`},children:e.jsx(Re,{className:"overflow-hidden backdrop-blur-sm bg-white/80 dark:bg-slate-900/80 border-0 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:scale-[1.02] hover:-translate-y-2 rounded-3xl",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-3xl"}),e.jsxs("div",{className:k==="grid"?"relative":"md:flex relative",children:[e.jsx("div",{className:`relative overflow-hidden ${k==="grid"?"aspect-video rounded-t-3xl":"md:w-80 aspect-video md:aspect-square md:rounded-l-3xl md:rounded-tr-none rounded-t-3xl"}`,children:o?e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-gray-900 to-black relative cursor-pointer group/thumb overflow-hidden",onClick:()=>window.open(t(s.videoUrl),"_blank"),children:[e.jsx("img",{src:s.thumbnailUrl||(o==null?void 0:o.thumbnailUrl)||"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=400&q=80",alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover/thumb:scale-110",onError:i=>{const d=i.target;d.src="https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=400&q=80"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent group-hover/thumb:from-black/80 transition-all duration-500 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute inset-0 rounded-full blur-xl opacity-50 group-hover/thumb:opacity-75 transition-opacity duration-300 animate-pulse ${o!=null&&o.isShorts?"bg-red-500":"bg-blue-500"}`}),e.jsx("div",{className:`relative rounded-full p-5 group-hover/thumb:scale-125 transition-all duration-500 shadow-2xl ${o!=null&&o.isShorts?"bg-gradient-to-br from-red-500 to-red-600 group-hover/thumb:rotate-12":"bg-gradient-to-br from-blue-500 to-blue-600"}`,children:e.jsx(Y,{className:"w-10 h-10 text-white fill-white transform group-hover/thumb:scale-110 transition-transform duration-300"})})]})}),(o==null?void 0:o.isShorts)&&e.jsxs("div",{className:"absolute top-3 right-3 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg backdrop-blur-sm border border-white/20",children:[e.jsx("i",{className:"fas fa-bolt"})," Shorts"]}),(o==null?void 0:o.isShorts)&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 transform translate-x-[-100%] group-hover/thumb:translate-x-[100%] transition-transform duration-1000"})]}):e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 flex flex-col items-center justify-center text-center p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 animate-pulse"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-800 rounded-full mb-4 shadow-lg",children:e.jsx(Y,{className:"w-12 h-12 text-slate-500 dark:text-slate-400"})}),e.jsxs("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-1",children:[e.jsx("i",{className:"fas fa-video"})," No Video Available"]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"Please update with a valid video URL"})]})]})}),e.jsx(Ue,{className:`relative p-8 ${k==="list"?"flex-1":""}`,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("h3",{className:"font-bold text-xl leading-tight bg-gradient-to-r from-slate-800 to-slate-600 dark:from-slate-100 dark:to-slate-300 bg-clip-text text-transparent group-hover:from-blue-600 group-hover:to-purple-600 transition-all duration-500",children:s.title}),e.jsx("div",{className:"shrink-0",children:e.jsxs(_e,{className:`px-3 py-1.5 rounded-full font-semibold text-xs shadow-lg border-0 ${s.platform.toLowerCase()==="youtube"?"bg-gradient-to-r from-red-500 to-red-600 text-white":s.platform.toLowerCase()==="vimeo"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-gradient-to-r from-purple-500 to-purple-600 text-white"}`,children:[e.jsx("i",{className:s.platform.toLowerCase()==="youtube"?"fas fa-tv":s.platform.toLowerCase()==="vimeo"?"fas fa-video":"fas fa-film"})," ",s.platform]})})]}),e.jsx("p",{className:"text-muted-foreground leading-relaxed group-hover:text-foreground/80 transition-colors duration-300",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 rounded-xl border border-emerald-500/20 hover:border-emerald-500/40 transition-colors duration-300",children:[e.jsx("div",{className:"p-1 bg-emerald-500/20 rounded-lg",children:e.jsx(Ne,{className:"w-3 h-3 text-emerald-600"})}),e.jsx("span",{className:"text-xs font-medium text-emerald-700 dark:text-emerald-400",children:s.category})]}),s.duration&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 rounded-xl border border-blue-500/20 hover:border-blue-500/40 transition-colors duration-300",children:[e.jsx("div",{className:"p-1 bg-blue-500/20 rounded-lg",children:e.jsx(Be,{className:"w-3 h-3 text-blue-600"})}),e.jsx("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-400",children:s.duration})]})]}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.slice(0,3).map((i,d)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 bg-gradient-to-r from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-800 text-slate-700 dark:text-slate-300 text-xs font-medium rounded-full border border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500 transition-colors duration-200",children:["#",i]},d)),s.tags.length>3&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 bg-gradient-to-r from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 text-orange-700 dark:text-orange-400 text-xs font-medium rounded-full border border-orange-200 dark:border-orange-700",children:["+",s.tags.length-3," more"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-4 mt-4 border-t border-gradient-to-r from-slate-200/50 via-slate-300/50 to-slate-200/50 dark:from-slate-700/50 dark:via-slate-600/50 dark:to-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-xl border border-slate-200/50 dark:border-slate-700/50 w-fit",children:[e.jsx("div",{className:"p-1 bg-slate-200/50 dark:bg-slate-700/50 rounded-lg",children:e.jsx(Me,{className:"w-3 h-3 text-slate-600 dark:text-slate-400"})}),e.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:h(s.createdAt)})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-start sm:justify-end",children:[s.ctaText&&s.ctaUrl&&e.jsx(X,{size:"sm",asChild:!0,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white border-0 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:e.jsxs("a",{href:s.ctaUrl,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Ke,{className:"w-3 h-3 mr-1"}),s.ctaText]})}),U&&e.jsx(xe,{product:{id:s.id,name:s.title,description:s.description,videoUrl:s.videoUrl,category:s.category},contentType:"video",className:"bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white border-0 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 px-3 py-1.5",buttonText:"Share",showIcon:!0}),!U&&e.jsx(pe,{product:{id:s.id,name:s.title,description:s.description,imageUrl:s.thumbnailUrl,category:s.category,affiliateUrl:s.videoUrl},className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white border-0 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 px-3 py-1.5",buttonText:"Share",showIcon:!0}),U&&e.jsx(X,{size:"sm",onClick:()=>W(s.id,s.title),disabled:E.isPending,className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white border-0 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ze,{className:"w-3 h-3"})}),q(s.videoUrl,s.platform)?e.jsx(X,{size:"sm",asChild:!0,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white border-0 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:e.jsxs("a",{href:t(s.videoUrl),target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),"Watch Video"]})}):e.jsxs(X,{size:"sm",disabled:!0,className:"bg-gradient-to-r from-gray-400 to-gray-500 text-white border-0 rounded-xl opacity-50 cursor-not-allowed",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),"No Video URL"]})]})]})]})})]})]})})},s.id)})})]})]})]}),e.jsx(se,{})]})})})}const at=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"}));function Ge(){const[b,$]=l.useState({}),[x,M]=l.useState(""),[F,O]=l.useState("all"),[k,G]=l.useState(!1),[U,I]=l.useState("all"),[S,D]=l.useState(0),[C,z]=l.useState(!1),[Q,E]=l.useState(!1),[_,v]=l.useState(null),P=["Instagram","Facebook","WhatsApp","Telegram"],{toast:q}=le(),{addToWishlist:h,removeFromWishlist:W,isInWishlist:R}=Se(),j=oe(),[H]=ce(),[B,y]=l.useState("all");l.useEffect(()=>{const r=localStorage.getItem("pickntrust-admin-session");z(r==="active")},[]),l.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),l.useEffect(()=>{const g=new URLSearchParams(typeof window<"u"?window.location.search:"").get("gender");if(g){const c=g==="common"?"unisex":g.toLowerCase();y(c)}},[H]);const L=r=>{v(r),E(!0)},V=()=>{_&&(alert(`âœ… Sharing "${_.name}" to all configured platforms!`),console.log("Share confirmed for:",_.id,_.name)),E(!1),v(null)},s=()=>{E(!1),v(null)},{data:m}=te({queryKey:["/api/products/page/services",x],queryFn:async()=>{try{const r=[];try{const c=await fetch("/api/services");if(c.ok){const p=await c.json();Array.isArray(p)&&r.push(...p.map(a=>({...a,source:"manual"})))}}catch(c){console.error("Failed to fetch manual services:",c)}try{const c=x?`/api/products/page/services?category=${encodeURIComponent(x)}`:"/api/products/page/services",p=await fetch(c);if(p.ok){const a=await p.json();Array.isArray(a)&&r.push(...a.map(n=>({...n,source:"services"})))}}catch(c){console.error("Failed to fetch services from unified backend:",c)}return r.reduce((c,p)=>{const a=A=>String(A??"").trim(),n=a(p.id);if(!n)return c;const N=c.findIndex(A=>a(A.id)===n);if(N===-1)c.push(p);else{const A=c[N],T=Object.keys(p).length>Object.keys(A).length,K=p.source==="manual",Fe=A.source==="manual";(K||!Fe&&T)&&(c[N]=p)}return c},[])}catch(r){return console.error("Failed to fetch all services:",r),[]}},retry:1}),u=m||[],t=Array.from(new Set(u.map(r=>r.category).filter(Boolean))),o=l.useMemo(()=>{const r=new Set;for(const a of u){const n=Z(a);n&&r.add(n)}const g=r.has("boys"),c=r.has("girls");return(g||c)&&r.add("kids"),["all",...["men","women","kids","boys","girls","unisex"].filter(a=>r.has(a))]},[u]),d=(r=>{if(!r||r==="all")return{min:0,max:1/0};if(r.includes("-")){const[c,p]=r.split("-"),a=parseFloat(c),n=parseFloat(p);return{min:isNaN(a)?0:a,max:isNaN(n)?1/0:n}}const g=parseFloat(r);return{min:isNaN(g)?0:g,max:1/0}})(U),w=()=>{M(""),O("all"),G(!1),I("all"),D(0),y("all")},J=u.filter(r=>{const g=a=>String(a??"").trim().toLowerCase().replace(/[\s_-]+/g," ");if(x){const a=g(r.category),n=g(x);if(a!==n)return!1}if(B&&B!=="all"){const n=(Z(r)||"").toLowerCase();if(B==="kids"){if(!["boys","girls","kids"].includes(n))return!1}else if(n!==B)return!1}const c=parseFloat(String(r.price??"").toString().replace(/[^0-9.]/g,""))||0;if(c<d.min||c>d.max||(parseFloat(String(r.rating||0))||0)<S)return!1;if(F!=="all"){const a=String(r.currency??"").trim().toUpperCase();if(a&&a!==String(F).trim().toUpperCase())return!1}return!0}),ne=r=>{const g=r==="common"?"unisex":r;y(g);const c=new URLSearchParams(typeof window<"u"?window.location.search:"");g==="all"?c.delete("gender"):c.set("gender",g);const p=typeof window<"u"?window.location.pathname:"/services",a=c.toString(),n=a?`${p}?${a}`:p;typeof window<"u"&&window.history.replaceState(null,"",n)},ge=async r=>{if(confirm("Are you sure you want to delete this service?"))try{if(!(await fetch(`/api/admin/products/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})})).ok)throw new Error("Failed to delete service");q({title:"Service deleted",description:"Service has been successfully deleted"}),j.invalidateQueries({queryKey:["/api/services"]}),j.invalidateQueries({queryKey:["/api/products"]}),j.invalidateQueries({queryKey:["/api/prime-picks"]}),j.invalidateQueries({queryKey:["/api/click-picks"]}),j.invalidateQueries({queryKey:["/api/cue-picks"]}),j.invalidateQueries({queryKey:["/api/value-picks"]}),j.invalidateQueries({queryKey:["/api/loot-box"]}),j.invalidateQueries({queryKey:["/api/amazon"]}),j.invalidateQueries({queryKey:["/api/cuelinks"]}),j.invalidateQueries({queryKey:["/api/homepage/services"]}),j.invalidateQueries({queryKey:["/api/apps"]}),j.invalidateQueries({queryKey:["/api/homepage/apps"]}),j.invalidateQueries({queryKey:["/api/products/featured"]})}catch{q({title:"Error",description:"Failed to delete service. Please try again.",variant:"destructive"})}},he=r=>{window.open(r.affiliateUrl,"_blank","noopener,noreferrer")},fe=r=>{R(r.id)?(W(r.id),q({title:"Removed from wishlist",description:`${r.name} removed from your wishlist`})):(h(r),q({title:"Added to wishlist",description:`${r.name} added to your wishlist`}))},ee=r=>{const g=parseFloat(r),c=Math.floor(g),p=g%1!==0;return e.jsx("div",{className:"flex items-center text-yellow-400",children:[...Array(5)].map((a,n)=>e.jsx("i",{className:`text-xs ${n<c?"fas fa-star":n===c&&p?"fas fa-star-half-alt":"far fa-star"}`},n))})};return e.jsx(ie,{pageId:"services",children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-indigo-900/20",children:[e.jsx(f,{page:"services",position:"header-top",className:"w-full"}),e.jsx(ae,{}),e.jsx(re,{page:"services"}),e.jsx(f,{page:"services",position:"header-bottom",className:"w-full"}),e.jsxs("div",{className:"header-spacing",children:[e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(me,{showCurrency:!0,showPriceRange:!0,showGender:!0,showNetworks:!1,showCategories:!0,showRating:!0,showResultsCount:!0,showClearButton:!0,selectedCurrency:F,setSelectedCurrency:O,convertPrices:k,setConvertPrices:G,priceRange:U,setPriceRange:I,categorySelectionMode:"single",availableCategories:t,selectedCategory:x,setSelectedCategory:M,availableGenders:o,selectedGender:B,setSelectedGender:ne,minRating:S,setMinRating:D,resultsCount:J.length,onClearFilters:w}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[e.jsx("i",{className:"fas fa-cogs mr-2"}),"All Services (",J.length,")"]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",J.length," of ",u.length," services from all channels"]})]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:J.map((r,g)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:[e.jsxs("div",{className:`relative p-3 ${g%4===0?"bg-gradient-to-br from-indigo-500 to-purple-600":g%4===1?"bg-gradient-to-br from-purple-500 to-pink-600":g%4===2?"bg-gradient-to-br from-pink-500 to-red-500":"bg-gradient-to-br from-blue-500 to-indigo-600"}`,children:[e.jsx("div",{className:"w-full h-32 bg-white dark:bg-gray-800 rounded-lg overflow-hidden",children:e.jsx("img",{src:r.imageUrl||r.image_url||"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400&q=80",alt:r.name,className:"w-full h-full object-cover",onError:c=>{const p=c.target;p.src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400&q=80"}})}),e.jsx("button",{onClick:()=>fe(r),className:`absolute top-5 left-5 p-1.5 rounded-full shadow-md transition-colors ${R(r.id)?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-400 hover:text-red-500"}`,title:R(r.id)?"Remove from wishlist":"Add to wishlist",children:e.jsx("i",{className:"fas fa-heart text-xs"})})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white space-y-2 relative",children:[C&&e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:c=>{c.preventDefault(),c.stopPropagation(),L(r)},className:"bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 shadow-md transition-colors cursor-pointer z-10 relative",title:"Share to All Platforms",children:e.jsx("i",{className:"fas fa-edit text-xs pointer-events-none"})}),e.jsx(xe,{product:{id:r.id,name:r.name,description:r.description,price:r.price,imageUrl:r.imageUrl,category:r.category,affiliateUrl:r.affiliateUrl},contentType:"service",className:"bg-green-500 hover:bg-green-600 text-white rounded-full p-2 shadow-md transition-colors",buttonText:"",showIcon:!0}),e.jsx("button",{onClick:()=>ge(r.id),className:"bg-red-500 hover:bg-red-600 text-white rounded-full p-2 shadow-md transition-colors",title:"Delete service",children:e.jsx("i",{className:"fas fa-trash text-xs"})})]}),!C&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(pe,{product:{id:r.id,name:r.name,description:r.description,price:r.price,imageUrl:r.imageUrl,category:r.category,affiliateUrl:r.affiliateUrl},className:"bg-green-600 hover:bg-green-700 text-white rounded-full p-2 shadow-md transition-colors",buttonText:"",showIcon:!0})}),r.discount&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[r.discount,"% OFF"]})}),e.jsxs("div",{className:"flex items-center",children:[ee(r.rating),e.jsxs("span",{className:"text-gray-500 dark:text-gray-400 ml-1 text-xs",children:["(",r.reviewCount,")"]})]}),e.jsx("h4",{className:"font-bold text-sm text-indigo-600 dark:text-indigo-400 leading-tight pr-16",children:r.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs leading-relaxed",children:r.description}),e.jsx("div",{className:"flex justify-start",children:e.jsx("span",{className:"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 px-2 py-1 rounded-full text-xs",children:r.category})}),e.jsx("div",{className:"flex flex-col space-y-1",children:(()=>{const c={...r,currency:r.currency||"INR",originalPrice:r.originalPrice??r.original_price??null,priceDescription:r.priceDescription??r.price_description??"",monthlyPrice:r.monthlyPrice??r.monthly_price??0,yearlyPrice:r.yearlyPrice??r.yearly_price??0,pricingType:r.pricingType??r.pricing_type??void 0,isFree:r.isFree??r.is_free??!1};return e.jsx(Ce,{product:c,colorClass:"text-indigo-600 dark:text-indigo-400",originalClass:"text-gray-500 line-through text-sm",freeClass:"text-green-600 dark:text-green-400",helperClass:"text-xs text-gray-500 dark:text-gray-400"})})()}),e.jsxs("button",{onClick:()=>he(r),className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold py-3 px-4 rounded-lg hover:shadow-lg transition-all duration-300 text-sm",children:[e.jsx("i",{className:"fas fa-shopping-bag mr-2"}),"Pick Now"]}),e.jsxs("p",{className:"text-[10px] text-gray-400 text-center mt-1",children:[e.jsx("i",{className:"fas fa-link"})," Affiliate Link - We earn from sign-ups"]})]})]},r.id))})]})]}),e.jsx(ue,{page:"services",title:"Services Videos"}),e.jsx(f,{page:"services",position:"footer-top",className:"w-full"}),e.jsx(f,{page:"services",position:"footer-bottom",className:"w-full"}),e.jsx(se,{}),e.jsx(Pe,{isOpen:Q,onClose:s,onConfirm:V,productName:(_==null?void 0:_.name)||"",platforms:P})]})]})})}const rt=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));function Qe(){const{toast:b}=le(),$=oe(),{addToWishlist:x,removeFromWishlist:M,isInWishlist:F}=Se(),[O]=ce(),[k,G]=l.useState({}),[U,I]=l.useState(""),[S,D]=l.useState("all"),[C,z]=l.useState(!1),[Q,E]=l.useState("all"),[_,v]=l.useState(0),[P,q]=l.useState("featured"),[h,W]=l.useState("all"),[R,j]=l.useState(!1),[H,B]=l.useState(!1),[y,L]=l.useState(null),V=["Instagram","Facebook","WhatsApp","Telegram"];l.useEffect(()=>{localStorage.getItem("pickntrust-admin-session")==="active"&&j(!0)},[]),l.useEffect(()=>{const n=new URLSearchParams(typeof window<"u"?window.location.search:"").get("gender");if(n){const N=n==="common"?"unisex":n.toLowerCase();W(N)}},[O]),l.useEffect(()=>{const a=n=>{n.key==="pickntrust-admin-session"&&j(n.newValue==="active")};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),l.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const s=a=>{L(a),B(!0)},m=()=>{y&&(alert(`âœ… Sharing "${y.name}" to all configured platforms!`),console.log("Share confirmed for:",y.id,y.name)),B(!1),L(null)},u=()=>{B(!1),L(null)},{data:t=[],isLoading:o}=te({queryKey:["/api/products/apps"],queryFn:async()=>{try{const a=await fetch("/api/products/apps");if(!a.ok)return console.log("Apps endpoint failed"),[];const n=await a.json();return Array.isArray(n)?n:[]}catch(a){return console.log("Apps endpoint error:",a),[]}},retry:!1,refetchOnWindowFocus:!1}),i=t,d=Array.from(new Set(i.map(a=>a.category).filter(Boolean))),w=l.useMemo(()=>{const a=new Set;for(const T of i){const K=Z(T.gender||"",`${T.name||""} ${T.description||""}`);K&&a.add(K)}const n=a.has("boys"),N=a.has("girls");return(n||N)&&a.add("kids"),["all",...["men","women","kids","boys","girls","unisex"].filter(T=>a.has(T))]},[i]),ne=(a=>{if(!a||a==="all")return{min:0,max:1/0};if(a.includes("-")){const[N,A]=a.split("-"),T=parseFloat(N),K=parseFloat(A);return{min:isNaN(T)?0:T,max:isNaN(K)?1/0:K}}const n=parseFloat(a);return{min:isNaN(n)?0:n,max:1/0}})(Q),ge=()=>{I(""),D("all"),z(!1),E("all"),v(0),W("all")},he=i.filter(a=>{if(U&&a.category!==U)return!1;if(h&&h!=="all"){const T=(Z(a)||"").toLowerCase();if(h==="kids"){if(!["boys","girls","kids"].includes(T))return!1}else if(T!==h)return!1}const n=parseFloat(String(a.price||0).toString().replace(/[^0-9.]/g,""))||0;if(n<ne.min||n>ne.max||parseFloat(String(a.rating||0))<_)return!1;if(S!=="all"){const A=String(a.currency??"").trim().toUpperCase();if(A&&A!==String(S).trim().toUpperCase())return!1}return!0}),fe=a=>{const n=a==="common"?"unisex":a;W(n);const N=new URLSearchParams(typeof window<"u"?window.location.search:"");n==="all"?N.delete("gender"):N.set("gender",n);const A=typeof window<"u"?window.location.pathname:"/apps",T=N.toString(),K=T?`${A}?${T}`:A;typeof window<"u"&&window.history.replaceState(null,"",K)},ee=he.sort((a,n)=>{switch(P){case"price-low":return parseFloat(String(a.price).replace(/,/g,""))-parseFloat(String(n.price).replace(/,/g,""));case"price-high":return parseFloat(String(n.price).replace(/,/g,""))-parseFloat(String(a.price).replace(/,/g,""));case"rating":return parseFloat(n.rating)-parseFloat(a.rating);case"newest":return new Date(n.createdAt||0).getTime()-new Date(a.createdAt||0).getTime();case"featured":default:return n.isFeatured?1:-1}}),r=ke({mutationFn:async a=>{const n=await fetch(`/api/admin/products/${a}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});if(!n.ok)throw new Error("Failed to delete app");return n.json()},onSuccess:()=>{$.invalidateQueries({queryKey:["/api/apps"]}),$.invalidateQueries({queryKey:["/api/products"]}),$.invalidateQueries({queryKey:["/api/services"]}),$.invalidateQueries({queryKey:["/api/homepage/apps"]}),$.invalidateQueries({queryKey:["/api/homepage/services"]}),$.invalidateQueries({queryKey:["/api/products/featured"]}),b({title:"App Deleted",description:"The app has been successfully deleted."})},onError:()=>{b({title:"Error",description:"Failed to delete app. Please try again.",variant:"destructive"})}}),g=a=>{confirm("Are you sure you want to delete this app?")&&r.mutate(a)},c=a=>{F(a.id)?(M(a.id),b({title:"Removed from Wishlist",description:`${a.name} has been removed from your wishlist.`})):(x(a),b({title:"Added to Wishlist",description:`${a.name} has been added to your wishlist.`}))},p=({rating:a})=>{const n=parseFloat(a),N=Math.floor(n),A=n%1!==0;return e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((T,K)=>e.jsx("i",{className:`fas fa-star text-sm ${K<N||K===N&&A?"text-yellow-400":"text-gray-300"}`},K))})};return o?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-900 dark:via-green-900/20 dark:to-emerald-900/20",children:[e.jsx(f,{page:"apps",position:"header-top",className:"w-full"}),e.jsx(ae,{page:"apps"}),e.jsx(re,{page:"apps"}),e.jsx(f,{page:"apps",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing pt-20 pb-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading apps..."})]})})}),e.jsx(f,{page:"apps",position:"footer-top",className:"w-full"}),e.jsx(f,{page:"apps",position:"footer-bottom",className:"w-full"})]}):e.jsx(ie,{pageId:"apps",children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-900 dark:via-green-900/20 dark:to-emerald-900/20",children:[e.jsx(f,{page:"apps",position:"header-top",className:"w-full"}),e.jsx(ae,{page:"apps"}),e.jsx(re,{page:"apps"}),e.jsx(f,{page:"apps",position:"header-bottom",className:"w-full"}),e.jsxs("div",{className:"header-spacing flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(me,{showCurrency:!0,showPriceRange:!0,showGender:!0,showNetworks:!1,showCategories:!0,showRating:!0,showResultsCount:!0,showClearButton:!0,selectedCurrency:S,setSelectedCurrency:D,convertPrices:C,setConvertPrices:z,priceRange:Q,setPriceRange:E,categorySelectionMode:"single",availableCategories:d,selectedCategory:U,setSelectedCategory:I,availableGenders:w,selectedGender:h,setSelectedGender:fe,minRating:_,setMinRating:v,resultsCount:ee.length,onClearFilters:ge}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[e.jsx("i",{className:"fas fa-mobile-alt"})," All Apps & AI Apps (",ee.length,")"]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",ee.length," of ",i.length," apps from all channels"]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Apps aggregated from dedicated Apps channel + Prime Picks, Click Picks, Value Picks, CueLinks, Global Picks, Deals Hub, and Loot Box"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sort By:"}),e.jsxs("select",{value:P,onChange:a=>q(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"featured",children:"Featured"}),e.jsx("option",{value:"newest",children:"Newest"}),e.jsx("option",{value:"rating",children:"Highest Rated"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:ee.map((a,n)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:[e.jsxs("div",{className:`relative p-3 ${n%4===0?"bg-gradient-to-br from-green-500 to-emerald-600":n%4===1?"bg-gradient-to-br from-emerald-500 to-teal-600":n%4===2?"bg-gradient-to-br from-teal-500 to-cyan-500":"bg-gradient-to-br from-blue-500 to-green-600"}`,children:[e.jsx("div",{className:"w-full h-32 bg-white dark:bg-gray-800 rounded-lg overflow-hidden",children:e.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",onError:N=>{const A=N.target;A.src="https://images.unsplash.com/photo-1677442136019-21780ecad995?w=200&q=60"}})}),e.jsx("button",{onClick:()=>c(a),className:`absolute top-5 left-5 p-1.5 rounded-full shadow-md transition-colors ${F(a.id)?"bg-red-500 text-white hover:bg-red-600":"bg-white text-gray-400 hover:text-red-500"}`,title:F(a.id)?"Remove from wishlist":"Add to wishlist",children:e.jsx("i",{className:"fas fa-heart text-xs"})})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white space-y-3 relative",children:[e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[R&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:N=>{N.preventDefault(),N.stopPropagation(),s(a)},className:"bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 shadow-md transition-colors cursor-pointer z-10 relative",title:"Share to All Platforms",children:e.jsx("i",{className:"fas fa-edit text-xs pointer-events-none"})}),e.jsx(xe,{product:{id:a.id,name:a.name,description:a.description,price:a.price,imageUrl:a.imageUrl,category:a.category,affiliateUrl:a.affiliateUrl},contentType:"app",className:"bg-green-500 hover:bg-green-600 text-white rounded-full p-2 shadow-md transition-colors",buttonText:"",showIcon:!0})]}),!R&&e.jsx(pe,{product:{id:a.id,name:a.name,description:a.description,price:a.price,imageUrl:a.imageUrl,category:a.category,affiliateUrl:a.affiliateUrl},className:"bg-green-500 hover:bg-green-600 text-white rounded-full p-2 shadow-md transition-colors",buttonText:"",showIcon:!0}),R&&e.jsx("button",{onClick:()=>g(a.id),className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-full flex items-center justify-center shadow-md transition-all duration-300 transform hover:scale-110",title:"Delete app",children:e.jsx("i",{className:"fas fa-trash text-xs"})})]}),e.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white pr-16 leading-tight",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium",children:a.category}),a.isNew&&e.jsx("span",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"NEW"})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{rating:a.rating}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.rating," (",(a.reviewCount||0).toLocaleString(),")"]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(Ce,{product:a,colorClass:"text-green-600 dark:text-green-400",originalClass:"text-gray-500 line-through text-sm",freeClass:"text-green-600 dark:text-green-400",helperClass:"text-xs text-gray-500 dark:text-gray-400"})}),e.jsx("a",{href:a.affiliateUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105 shadow-md",children:"Get App â†’"})]})]})]},a.id))}),ee.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:e.jsx("i",{className:"fas fa-robot"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No apps found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters to see more results."})]})]})]}),e.jsx(ue,{page:"apps",title:"Apps Videos"}),e.jsx(f,{page:"apps",position:"footer-top",className:"w-full"}),e.jsx(f,{page:"apps",position:"footer-bottom",className:"w-full"}),e.jsx(se,{}),e.jsx(Pe,{isOpen:H,onClose:u,onConfirm:m,productName:(y==null?void 0:y.name)||"",platforms:V})]})})}const ot=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"}));function He(){const{toast:b}=le(),[$]=ce(),[x,M]=l.useState(""),[F,O]=l.useState({min:0,max:1/0}),[k,G]=l.useState("all"),[U,I]=l.useState(0),[S,D]=l.useState("all"),C=oe(),[z,Q]=l.useState(!1),[E,_]=l.useState(!1),[v,P]=l.useState([]);l.useEffect(()=>{const t=localStorage.getItem("pickntrust-admin-session");Q(t==="active"||window.location.hostname==="localhost"||window.location.hostname==="pickntrust.com")},[]);const q=async(t=!1)=>{const o=t?y.map(d=>d.id):v;if(o.length===0){b({title:"No Selection",description:"Please select products to delete",variant:"destructive"});return}const i=t?`Delete ALL ${y.length} products?`:`Delete ${o.length} selected products?`;if(confirm(i))try{for(const d of o)await fetch(`/api/admin/products/${d}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});Ae(async()=>{const{invalidateAllProductQueries:d}=await import("./pages-travel-BKbkABH7.js").then(w=>w.g);return{invalidateAllProductQueries:d}},__vite__mapDeps([0,1,2,3,4,5,6,7])).then(({invalidateAllProductQueries:d})=>{d(C)}),C.invalidateQueries({queryKey:["/api/products/page/loot-box"]}),C.invalidateQueries({queryKey:["/api/loot-box"]}),C.invalidateQueries({queryKey:["/api/products"]}),b({title:"Products Deleted",description:`Successfully deleted ${o.length} products`}),_(!1),P([])}catch{b({title:"Delete Failed",description:"Failed to delete products",variant:"destructive"})}};l.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:h=[],isLoading:W,error:R}=te({queryKey:["/api/products/page/loot-box",x],queryFn:async()=>{const t=x?`/api/products/page/loot-box?category=${encodeURIComponent(x)}`:"/api/products/page/loot-box",o=await fetch(t);if(!o.ok)throw new Error("Failed to fetch Loot Box products");return o.json()},staleTime:0}),{data:j=[]}=te({queryKey:["/api/categories/page/loot-box"],queryFn:async()=>{const t=await fetch("/api/categories/page/loot-box");if(!t.ok)throw new Error("Failed to fetch Loot Box categories");return t.json()},staleTime:0}),{data:H}=Oe("loot-box"),B=l.useMemo(()=>{const t=new Set;return h.forEach(d=>{const w=Z(d);w&&t.add(w)}),(t.has("boys")||t.has("girls"))&&!t.has("kids")&&t.add("kids"),["all",...["men","women","kids","boys","girls","unisex"].filter(d=>t.has(d))]},[h]),y=h.filter(t=>{if(S&&S!=="all"){const i=Z(t);if(S==="kids"){if(!(i==="boys"||i==="girls"||i==="kids"))return!1}else if(i!==S)return!1}const o=parseFloat(t.price);return!(o<F.min||o>F.max||U>0&&parseFloat(t.rating)<U)});l.useEffect(()=>{const o=(new URLSearchParams(typeof window<"u"?window.location.search:"").get("gender")||"").toLowerCase();D((o==="common"?"unisex":o)||"all")},[$]);const L=t=>{const o=t==="common"?"unisex":t;D(o);const i=new URLSearchParams(typeof window<"u"?window.location.search:"");o==="all"?i.delete("gender"):i.set("gender",o);const d=typeof window<"u"?window.location.pathname:"/loot-box",w=i.toString(),J=w?`${d}?${w}`:d;typeof window<"u"&&window.history.replaceState(null,"",J)},V=t=>{switch(t){case"0-500":return{min:0,max:500};case"500-1000":return{min:500,max:1e3};case"1000-2500":return{min:1e3,max:2500};case"2500-5000":return{min:2500,max:5e3};case"5000":return{min:5e3,max:1/0};case"all":default:return{min:0,max:1/0}}},s=t=>{G(t),O(V(t))},m=()=>{M(""),I(0),D("all"),s("all")},u=async(t,o,i)=>{try{await fetch("/api/affiliate/track-click",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:t,tableName:"loot_box_products",networkId:o||"unknown",affiliateUrl:i||""})})}catch(d){console.error("Failed to track affiliate click:",d)}};return l.useEffect(()=>{R&&b({title:"Error loading products",description:"Failed to load Loot Box products. Please try again.",variant:"destructive"})},[R,b]),e.jsx(ie,{pageId:"loot-box",children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(f,{page:"loot-box",position:"header-top",className:"w-full"}),e.jsx(ae,{}),e.jsx(re,{page:"loot-box"}),e.jsx(f,{page:"loot-box",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing",children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(me,{showCurrency:!1,showNetworks:!1,showGender:!0,showPriceRange:!0,showCategories:!0,showRating:!0,showResultsCount:!0,showClearButton:!0,priceRange:k,setPriceRange:s,categorySelectionMode:"single",availableCategories:j,selectedCategory:x,setSelectedCategory:M,availableGenders:B,selectedGender:S,setSelectedGender:L,minRating:U,setMinRating:I,resultsCount:y.length,onClearFilters:m}),e.jsxs("div",{className:"flex-1 p-6",children:[!(H&&h.length===0)&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[e.jsx("i",{className:"fas fa-gift"})," Loot Box (",y.length,")"]}),z&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>_(!E),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Bulk delete options",children:e.jsx("i",{className:"fas fa-trash text-sm"})}),E&&e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border rounded-lg px-3 py-2 shadow-sm",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.length," selected"]}),e.jsx("button",{onClick:()=>q(!1),disabled:v.length===0,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50",children:"Delete Selected"}),e.jsx("button",{onClick:()=>q(!0),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Delete All"})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",y.length," of ",h.length," DeoDap products & services"]})]})}),W?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Loading DeoDap Loot Box..."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Loading digital products, services, and courses from DeoDap."})]}):y.length===0?H&&h.length===0?null:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:e.jsx("i",{className:"fas fa-search text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:h.length===0?"No DeoDap products available":"No products found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:h.length===0?"DeoDap digital products, services, and courses will appear here when posted to Loot Box channel.":"Try adjusting your filters to see more results."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:y.map(t=>e.jsxs("div",{className:"relative",children:[E&&z&&e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("input",{type:"checkbox",checked:v.includes(`loot_box_${t.id}`),onChange:o=>{const i=`loot_box_${t.id}`;o.target.checked?P([...v,i]):P(v.filter(d=>d!==i))},className:"w-5 h-5 text-red-600 bg-white border-2 border-gray-300 rounded focus:ring-red-500 focus:ring-2"})}),e.jsx(Le,{product:{id:t.id,name:t.name||"",description:t.description||"",price:t.price||0,originalPrice:t.originalPrice,currency:t.currency||"INR",imageUrl:t.imageUrl||t.image_url||"",affiliateUrl:t.affiliateUrl||t.affiliate_url||"",original_url:t.original_url||"",affiliate_network:t.affiliate_network||"loot-box",affiliate_tag_applied:t.affiliate_tag_applied||1,category:t.category||"",rating:t.rating||0,reviewCount:t.reviewCount||0,discount:t.discount||0,isNew:t.isNew||!1,isFeatured:t.isFeatured||!1,hasLimitedOffer:t.hasLimitedOffer||!1,limitedOfferText:t.limitedOfferText||"",networkBadge:"Loot Box",source:"loot-box"},onProductClick:u},t.id)]},t.id))})]})]})}),e.jsx(ue,{page:"loot-box",title:"Loot Box Videos"}),e.jsx(f,{page:"loot-box",position:"footer-top"}),e.jsx(f,{page:"loot-box",position:"footer-bottom"}),e.jsx(se,{})]})})}const lt=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"}));function Ve(){const{toast:b}=le(),[$]=ce(),[x,M]=l.useState(""),[F,O]=l.useState({min:0,max:1/0}),[k,G]=l.useState("all"),[U,I]=l.useState(0),[S,D]=l.useState("all"),C=oe(),[z,Q]=l.useState(!1),[E,_]=l.useState(!1),[v,P]=l.useState([]);l.useEffect(()=>{const t=localStorage.getItem("pickntrust-admin-session");Q(t==="active"||window.location.hostname==="localhost"||window.location.hostname==="pickntrust.com")},[]);const q=async(t=!1)=>{const o=t?L.map(d=>d.id):v;if(o.length===0){b({title:"No Selection",description:"Please select products to delete",variant:"destructive"});return}const i=t?`Delete ALL ${L.length} products?`:`Delete ${o.length} selected products?`;if(confirm(i))try{for(const d of o)await fetch(`/api/admin/products/${d}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});Ae(async()=>{const{invalidateAllProductQueries:d}=await import("./pages-travel-BKbkABH7.js").then(w=>w.g);return{invalidateAllProductQueries:d}},__vite__mapDeps([0,1,2,3,4,5,6,7])).then(({invalidateAllProductQueries:d})=>{d(C)}),C.invalidateQueries({queryKey:["/api/products/page/deals-hub"]}),C.invalidateQueries({queryKey:["/api/deals-hub"]}),C.invalidateQueries({queryKey:["/api/products"]}),b({title:"Products Deleted",description:`Successfully deleted ${o.length} products`}),_(!1),P([])}catch{b({title:"Delete Failed",description:"Failed to delete products",variant:"destructive"})}};l.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:h=[],isLoading:W,error:R}=te({queryKey:["/api/products/page/deals-hub",x],queryFn:async()=>{const t=x?`/api/products/page/deals-hub?category=${encodeURIComponent(x)}`:"/api/products/page/deals-hub",o=await fetch(t);if(!o.ok)throw new Error("Failed to fetch Deals Hub products");return o.json()},staleTime:0}),j=Array.from(new Set(h.map(t=>t.category).filter(Boolean))),H=l.useMemo(()=>{const t=new Set;return h.forEach(d=>{const w=Z(d);w&&t.add(w)}),(t.has("boys")||t.has("girls"))&&!t.has("kids")&&t.add("kids"),["all",...["men","women","kids","boys","girls","unisex"].filter(d=>t.has(d))]},[h]),{data:B=[]}=te({queryKey:["/api/deal-types/deals-hub"],queryFn:async()=>{const t=await fetch("/api/deal-types/deals-hub");return t.ok?t.json():["flash","daily","weekly","clearance","general"]}}),y=async(t,o,i)=>{try{await fetch("/api/affiliate/track-click",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:t,tableName:"deals_hub_products",networkId:o||"unknown",affiliateUrl:i||""})})}catch(d){console.error("Failed to track affiliate click:",d)}},L=h.filter(t=>{if(S&&S!=="all"){const i=Z(t);if(S==="kids"){if(!(i==="boys"||i==="girls"||i==="kids"))return!1}else if(i!==S)return!1}const o=parseFloat(t.price);return!(o<F.min||o>F.max||U>0&&parseFloat(t.rating)<U)});l.useEffect(()=>{const o=(new URLSearchParams(typeof window<"u"?window.location.search:"").get("gender")||"").toLowerCase();D((o==="common"?"unisex":o)||"all")},[$]);const V=t=>{const o=t==="common"?"unisex":t;D(o);const i=new URLSearchParams(typeof window<"u"?window.location.search:"");o==="all"?i.delete("gender"):i.set("gender",o);const d=typeof window<"u"?window.location.pathname:"/deals-hub",w=i.toString(),J=w?`${d}?${w}`:d;typeof window<"u"&&window.history.replaceState(null,"",J)},s=t=>{switch(t){case"0-500":return{min:0,max:500};case"500-1000":return{min:500,max:1e3};case"1000-2500":return{min:1e3,max:2500};case"2500-5000":return{min:2500,max:5e3};case"5000":return{min:5e3,max:1/0};case"all":default:return{min:0,max:1/0}}},m=t=>{G(t),O(s(t))},u=()=>{M(""),I(0),D("all"),m("all")};return l.useEffect(()=>{R&&b({title:"Error loading deals",description:"Failed to load Deals Hub products. Please try again.",variant:"destructive"})},[R,b]),e.jsx(ie,{pageId:"deals-hub",enableContentOverlays:!1,enableFloatingOverlays:!1,children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(f,{page:"deals-hub",position:"header-top",className:"w-full"}),e.jsx(ae,{}),e.jsx(re,{page:"deals-hub"}),e.jsx(f,{page:"deals-hub",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing",children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(me,{showCurrency:!1,showNetworks:!1,showGender:!0,showPriceRange:!0,showCategories:!0,showRating:!0,showResultsCount:!0,showClearButton:!0,priceRange:k,setPriceRange:m,categorySelectionMode:"single",availableCategories:j,selectedCategory:x,setSelectedCategory:M,availableGenders:H,selectedGender:S,setSelectedGender:V,minRating:U,setMinRating:I,resultsCount:L.length,onClearFilters:u}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[e.jsx("i",{className:"fas fa-fire"})," Hot Deals (",L.length,")"]}),z&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>_(!E),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Bulk delete options",children:e.jsx("i",{className:"fas fa-trash text-sm"})}),E&&e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border rounded-lg px-3 py-2 shadow-sm",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.length," selected"]}),e.jsx("button",{onClick:()=>q(!1),disabled:v.length===0,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50",children:"Delete Selected"}),e.jsx("button",{onClick:()=>q(!0),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Delete All"})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",L.length," of ",h.length," exclusive deals"]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Flash deals, daily offers, and exclusive discounts - sorted by priority and discount"})]}),e.jsxs("div",{className:"relative",children:[W?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Loading Hot Deals..."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Loading flash deals, daily offers, and exclusive discounts."})]}):L.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:e.jsx("i",{className:"fas fa-fire"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:h.length===0?"No deals available":"No deals found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:h.length===0?"Flash deals and exclusive offers will appear here when posted to Deals Hub channel.":"Try adjusting your filters to see more deals."})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:L.map(t=>e.jsxs("div",{className:"relative",children:[E&&z&&e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("input",{type:"checkbox",checked:v.includes(`dealshub_${t.id}`),onChange:o=>{const i=`dealshub_${t.id}`;o.target.checked?P([...v,i]):P(v.filter(d=>d!==i))},className:"w-5 h-5 text-red-600 bg-white border-2 border-gray-300 rounded focus:ring-red-500 focus:ring-2"})}),e.jsx(Le,{product:{id:`dealshub_${t.id}`,name:t.name||"",description:t.description||"",price:t.price||"0",originalPrice:t.original_price||t.originalPrice,currency:t.currency||"INR",imageUrl:t.image_url||t.imageUrl||"",affiliateUrl:t.affiliate_url||t.affiliateUrl||"",category:t.category||"",rating:t.rating||0,reviewCount:t.review_count||t.reviewCount||0,discount:t.discount||0,isNew:t.is_new||!1,isFeatured:t.is_featured||!1,affiliate_network:t.affiliate_network||"DealsHub",networkBadge:t.deal_badge||"Hot Deal",affiliateNetwork:"DealsHub Network",sourceType:"dealshub",source:"deals-hub",displayPages:["deals-hub"]},onAffiliateClick:y},`dealshub_${t.id}`)]},t.id))}),e.jsx(f,{page:"deals-hub",position:"content-top"}),e.jsx(f,{page:"deals-hub",position:"content-middle"}),e.jsx(f,{page:"deals-hub",position:"content-bottom"}),e.jsx(f,{page:"deals-hub",position:"floating-top-left"}),e.jsx(f,{page:"deals-hub",position:"floating-top-right"}),e.jsx(f,{page:"deals-hub",position:"floating-bottom-left"}),e.jsx(f,{page:"deals-hub",position:"floating-bottom-right"})]})]})]})}),e.jsx(ue,{page:"deals-hub",title:"Deals Hub Videos"}),e.jsx(se,{})]})})}const it=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"}));export{ot as a,it as d,lt as l,rt as s,at as v};
