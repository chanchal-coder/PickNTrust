import{r as g,j as e}from"./vendor-DNlhI76F.js";import{a as Ze,u as Ae,b as Me}from"./query-D71mr71Q.js";import{k as xe,u as Ue,B as ae,D as nt,m as bt,n as lt,o as ct,p as dt,c as et,g as we,S as kt,a as Vt,H as Jt,W as ve,A as Kt,P as ut,d as yt,F as Qt,j as mt,L as Ct,U as St,E as Le}from"./pages-main-DOjN59On.js";import{S as Yt,a as Xt,b as Zt,c as er,P as pt}from"./pages-picks-B8mK09nr.js";import{h as _t,a as tr,g as rr,P as sr,l as vt,m as ar,T as ir,n as or,L as nr,o as lr,W as at,U as cr}from"./icons-B2XESxUM.js";import{x as dr,y as ur,V as mr,G as pr,z as Tt,A as gr,B as hr,E as Ft,F as fr,H as Pt,J as xr,K as br,M as Lt,N as At,Q as Ut,U as Dt}from"./radix-z-2eheXi.js";import{a as yr}from"./utils-Bj7X0qp-.js";async function Ge(l,y,f="pickntrust2025"){let D,T;typeof l=="string"&&typeof y<"u"?(T=l,D=y):(D=l,T=typeof y=="string"?y:void 0);const v=`/api/admin/products/${D}`,c={"Content-Type":"application/json"};T&&(c["X-Delete-Context"]=T);const M=await fetch(v,{method:"DELETE",headers:c,body:JSON.stringify({password:f})});if(!M.ok){let i=null;try{i=await M.json()}catch{}const F=(i==null?void 0:i.message)||`Failed to delete product ${D}`;throw new Error(F)}return M.json()}function tt(l){l.invalidateQueries({predicate:y=>(Array.isArray(y.queryKey)?y.queryKey:[y.queryKey]).some(D=>typeof D=="string"&&D.includes("/api/products"))}),l.invalidateQueries({queryKey:["/api/products"]}),l.invalidateQueries({queryKey:["/api/products/featured"]}),l.invalidateQueries({queryKey:["/api/products/services"]}),l.invalidateQueries({queryKey:["/api/admin/stats"]});try{l.removeQueries({predicate:y=>(Array.isArray(y.queryKey)?y.queryKey:[y.queryKey]).some(D=>typeof D=="string"&&D.includes("/api/products"))})}catch{}}const Mr=Object.freeze(Object.defineProperty({__proto__:null,deleteProduct:Ge,invalidateAllProductQueries:tt},Symbol.toStringTag,{value:"Module"})),X=g.forwardRef(({className:l,type:y,...f},D)=>e.jsx("input",{type:y,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",l),ref:D,...f}));X.displayName="Input";var vr="Label",$t=g.forwardRef((l,y)=>e.jsx(dr.label,{...l,ref:y,onMouseDown:f=>{var T;f.target.closest("button, input, select, textarea")||((T=l.onMouseDown)==null||T.call(l,f),!f.defaultPrevented&&f.detail>1&&f.preventDefault())}}));$t.displayName=vr;var Et=$t;const wr=yr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oe=g.forwardRef(({className:l,...y},f)=>e.jsx(Et,{ref:f,className:xe(wr(),l),...y}));oe.displayName=Et.displayName;const Ke=g.forwardRef(({className:l,...y},f)=>e.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",l),ref:f,...y}));Ke.displayName="Textarea";const it=ur,Gr=pr,ot=mr,Qe=g.forwardRef(({className:l,children:y,...f},D)=>e.jsxs(Tt,{ref:D,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",l),...f,children:[y,e.jsx(gr,{asChild:!0,children:e.jsx(_t,{className:"h-4 w-4 opacity-50"})})]}));Qe.displayName=Tt.displayName;const Bt=g.forwardRef(({className:l,...y},f)=>e.jsx(At,{ref:f,className:xe("flex cursor-default items-center justify-center py-1",l),...y,children:e.jsx(rr,{className:"h-4 w-4"})}));Bt.displayName=At.displayName;const Rt=g.forwardRef(({className:l,...y},f)=>e.jsx(Ut,{ref:f,className:xe("flex cursor-default items-center justify-center py-1",l),...y,children:e.jsx(_t,{className:"h-4 w-4"})}));Rt.displayName=Ut.displayName;const Ye=g.forwardRef(({className:l,children:y,position:f="popper",...D},T)=>e.jsx(hr,{children:e.jsxs(Ft,{ref:T,className:xe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",f==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",l),position:f,...D,children:[e.jsx(Bt,{}),e.jsx(fr,{className:xe("p-1",f==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:y}),e.jsx(Rt,{})]})}));Ye.displayName=Ft.displayName;const jr=g.forwardRef(({className:l,...y},f)=>e.jsx(Dt,{ref:f,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",l),...y}));jr.displayName=Dt.displayName;const Xe=g.forwardRef(({className:l,children:y,...f},D)=>e.jsxs(Pt,{ref:D,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),...f,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(xr,{children:e.jsx(tr,{className:"h-4 w-4"})})}),e.jsx(br,{children:y})]}));Xe.displayName=Pt.displayName;const Nr=g.forwardRef(({className:l,...y},f)=>e.jsx(Lt,{ref:f,className:xe("-mx-1 my-1 h-px bg-muted",l),...y}));Nr.displayName=Lt.displayName;function kr({onLogin:l}){const[y,f]=g.useState(""),[D,T]=g.useState(!1),{toast:v}=Ue(),c=async()=>{if(!y){v({title:"Error",description:"Please enter admin password",variant:"destructive"});return}T(!0);try{const i=await fetch("/api/admin/auth",{method:"POST",headers:{"Content-Type":"application/json","x-admin-password":y},body:JSON.stringify({password:y})}),F=await i.json();if(i.ok&&(F!=null&&F.success)){localStorage.setItem("pickntrust-admin-session","active");const V=(F==null?void 0:F.token)||`admin_${Date.now()}_${Math.random().toString(36).slice(2,10)}`;localStorage.setItem("pickntrust-admin-token",V),localStorage.setItem("pickntrust-admin-password","pickntrust2025"),v({title:"Success",description:"Admin login successful"}),l()}else v({title:"Error",description:(F==null?void 0:F.message)||"Invalid admin password",variant:"destructive"})}catch{v({title:"Login Failed",description:"Unable to connect to server. Please try again.",variant:"destructive"})}finally{T(!1),f("")}},M=i=>{i.key==="Enter"&&c()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Admin Login Required"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Enter admin password to manage travel categories"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(X,{type:"password",placeholder:"Admin password",value:y,onChange:i=>f(i.target.value),onKeyPress:M,className:"w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{onClick:c,disabled:D,className:"flex-1",children:D?"Logging in...":"Login"}),e.jsx(ae,{variant:"outline",onClick:()=>{const i=new CustomEvent("closeAdminLogin");window.dispatchEvent(i)},className:"flex-1",children:"Cancel"})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:[e.jsx("i",{className:"fas fa-lightbulb"})," Demo passwords: admin or pickntrust2025"]})]})})}const wt=[{id:1,name:"Flights",slug:"flights",icon:"fas fa-plane",color:"#2196F3",description:"Domestic and International Flight Bookings",isActive:!0,displayOrder:1},{id:2,name:"Hotels",slug:"hotels",icon:"fas fa-bed",color:"#FF9800",description:"Hotel Bookings and Accommodations",isActive:!0,displayOrder:2},{id:3,name:"Packages",slug:"packages",icon:"fas fa-suitcase",color:"#9C27B0",description:"Complete Travel Packages",isActive:!0,displayOrder:3},{id:4,name:"Tours",slug:"tours",icon:"fas fa-map-marked-alt",color:"#F44336",description:"Guided Tours and Experiences",isActive:!0,displayOrder:4},{id:5,name:"Bus",slug:"bus",icon:"fas fa-bus",color:"#FFC107",description:"Bus Ticket Bookings",isActive:!0,displayOrder:5},{id:6,name:"Train",slug:"train",icon:"fas fa-train",color:"#4CAF50",description:"Railway Ticket Bookings",isActive:!0,displayOrder:6},{id:7,name:"Car Rental",slug:"car-rental",icon:"fas fa-car",color:"#3F51B5",description:"Car Rental Services",isActive:!0,displayOrder:7},{id:8,name:"Cruises",slug:"cruises",icon:"fas fa-ship",color:"#009688",description:"Cruise Bookings",isActive:!0,displayOrder:8},{id:9,name:"Tickets",slug:"tickets",icon:"fas fa-ticket-alt",color:"#E91E63",description:"Event and Activity Tickets",isActive:!0,displayOrder:9}];function Cr({selectedCategory:l,onCategoryChange:y,isAdmin:f=!1,categoryCount:D=0}){var J;const[T,v]=g.useState(null),[c,M]=g.useState(!1),[i,F]=g.useState({}),[V,Z]=g.useState(!1),[ce,ie]=g.useState(!1);g.useEffect(()=>{const C=localStorage.getItem("pickntrust-admin-session")==="active"||f;ie(C)},[f]);const me=()=>{ie(!0),Z(!1)},{toast:ee}=Ue(),se=Ze(),{data:he=wt}=Ae({queryKey:["/api/travel-categories"],queryFn:async()=>{try{const p=await fetch("/api/travel-categories");if(p.ok){const C=await p.json();return Array.isArray(C)?C:wt}throw new Error("Failed to fetch categories")}catch(p){throw console.warn("Failed to fetch travel categories, using defaults:",p),p}},staleTime:1*60*1e3,refetchOnWindowFocus:!1}),{data:be={}}=Ae({queryKey:["/api/travel-deals/counts"],queryFn:async()=>{try{const p=await fetch("/api/travel-deals/counts");return p.ok?await p.json():{}}catch{return{}}},staleTime:2*60*1e3,refetchOnWindowFocus:!1}),k=Me({mutationFn:async p=>{const C=await fetch(`/api/travel-categories/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!C.ok)throw new Error("Failed to update category");return C.json()},onSuccess:()=>{se.invalidateQueries({queryKey:["/api/travel-categories"]}),ee({title:"Category updated successfully"}),v(null)},onError:()=>{ee({title:"Failed to update category",variant:"destructive"})}}),te=Me({mutationFn:async p=>{const C=await fetch("/api/travel-categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,displayOrder:he.length+1,isActive:!0})});if(!C.ok)throw new Error("Failed to add category");return C.json()},onSuccess:()=>{se.invalidateQueries({queryKey:["/api/travel-categories"]}),ee({title:"Category added successfully"}),M(!1),F({})},onError:()=>{ee({title:"Failed to add category",variant:"destructive"})}}),s=Me({mutationFn:async p=>{const C=await fetch(`/api/travel-categories/${p}`,{method:"DELETE"});if(!C.ok)throw new Error("Failed to delete category");return C.json()},onSuccess:()=>{se.invalidateQueries({queryKey:["/api/travel-categories"]}),ee({title:"Category deleted successfully"})},onError:()=>{ee({title:"Failed to delete category",variant:"destructive"})}}),L=()=>{T&&k.mutate(T)},r=()=>{if(!i.name||!i.slug||!i.icon){ee({title:"Error",description:"Please fill in all required fields (Name, Icon, Route Path)",variant:"destructive"});return}const p={name:i.name,slug:i.slug,icon:i.icon,color:i.color||"#3B82F6",description:i.description||""};te.mutate(p)},A=p=>{confirm("Are you sure you want to delete this category?")&&s.mutate(p)},N=he.filter(p=>p.isActive).sort((p,C)=>p.displayOrder-C.displayOrder);return e.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-lg mb-8 overflow-hidden",children:[ce&&e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Travel Categories"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Manage travel navigation"})]}),e.jsxs(nt,{open:c,onOpenChange:M,children:[e.jsx(bt,{asChild:!0,children:e.jsxs(ae,{variant:"outline",size:"sm",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),e.jsxs(lt,{className:"sm:max-w-md",children:[e.jsx(ct,{children:e.jsx(dt,{children:"Add New Travel Category"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Category Name *"}),e.jsx(X,{placeholder:"",value:i.name||"",onChange:p=>F({...i,name:p.target.value}),className:"bg-gray-600 border-gray-500 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Icon *"}),e.jsx(X,{placeholder:"fas fa-ticket-alt",value:i.icon||"",onChange:p=>F({...i,icon:p.target.value}),className:"bg-gray-600 border-gray-500 text-white"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[e.jsx("button",{type:"button",className:"px-3 py-1 bg-blue-600 text-white text-xs rounded",children:"Travel"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Stay"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Activity"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Service"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Dining"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Shopping"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Navigation"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"Weather"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded",children:"General"})]}),e.jsxs("div",{className:"grid grid-cols-8 gap-2 mt-3 p-3 bg-gray-700 rounded",children:[e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-plane"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-plane"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-plane text-white"})}),e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-bed"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-bed"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-bed text-white"})}),e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-suitcase"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-suitcase"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-suitcase text-white"})}),e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-map-marked-alt"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-map-marked-alt"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-map-marked-alt text-white"})}),e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-bus"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-bus"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-bus text-white"})}),e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-train"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-train"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-train text-white"})}),e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-car"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-car"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-car text-white"})}),e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-ship"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-ship"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-ship text-white"})}),e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-anchor"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-anchor"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-anchor text-white"})}),e.jsx("button",{type:"button",onClick:()=>F({...i,icon:"fas fa-mountain"}),className:`p-2 rounded hover:bg-gray-500 ${i.icon==="fas fa-mountain"?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-600"}`,children:e.jsx("i",{className:"fas fa-mountain text-white"})})]}),e.jsxs("p",{className:"text-xs text-yellow-400 mt-2",children:[e.jsx("i",{className:"fas fa-lightbulb"})," Tip: You can also type any Font Awesome icon class in the input field above"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Description"}),e.jsx(X,{placeholder:"",value:i.description||"",onChange:p=>F({...i,description:p.target.value}),className:"bg-gray-600 border-gray-500 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Route Path"}),e.jsx(X,{placeholder:"/category-name",value:i.slug||"",onChange:p=>F({...i,slug:p.target.value}),className:"bg-gray-600 border-gray-500 text-white"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-200",children:"Active"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ae,{onClick:r,disabled:!i.name||!i.slug||!i.icon,children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Add Category"]}),e.jsx(ae,{variant:"outline",onClick:()=>M(!1),children:"Cancel"})]})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("div",{className:"overflow-x-auto scrollbar-hide mx-12",children:e.jsx("div",{className:"flex gap-6 py-4 px-4 min-w-max",children:N.map(p=>{const C=l===p.slug;return p.slug===l||be[p.slug],e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:()=>y(p.slug),className:"flex flex-col items-center gap-2 transition-all duration-200 hover:scale-105",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white text-xl font-medium transition-all duration-200 hover:scale-105",style:{backgroundColor:p.color,boxShadow:`0 2px 8px ${p.color}40`},children:p.icon.startsWith("fas ")||p.icon.startsWith("fa ")?e.jsx("i",{className:p.icon}):e.jsx("span",{className:"text-2xl",children:p.icon})}),C&&e.jsx("div",{className:"absolute inset-0 w-16 h-16 rounded-full border-2 border-white animate-pulse"})]}),e.jsx("span",{className:"text-white text-sm font-medium text-center min-w-[80px]",children:p.name})]}),ce&&e.jsx("div",{className:"absolute -top-1 -right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(nt,{open:(T==null?void 0:T.id)===p.id,onOpenChange:W=>{W||v(null)},children:[e.jsx(bt,{asChild:!0,children:e.jsx(ae,{size:"sm",variant:"outline",className:"w-6 h-6 p-0 bg-blue-500 border-blue-500 text-white hover:bg-blue-600 rounded-full",onClick:()=>v(p),children:e.jsx(ar,{className:"w-3 h-3"})})}),e.jsxs(lt,{className:"sm:max-w-md",children:[e.jsx(ct,{children:e.jsx(dt,{children:"Edit Travel Category"})}),T&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(X,{placeholder:"Category Name",value:T.name,onChange:W=>v({...T,name:W.target.value})}),e.jsx(X,{placeholder:"Category Slug",value:T.slug,onChange:W=>v({...T,slug:W.target.value})}),e.jsx(X,{placeholder:"Icon (emoji)",value:T.icon,onChange:W=>v({...T,icon:W.target.value})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:T.color||"#3B82F6",onChange:W=>v({...T,color:W.target.value}),className:"w-12 h-10 rounded border border-gray-300 cursor-pointer"}),e.jsx(X,{placeholder:"#3B82F6",value:T.color,onChange:W=>v({...T,color:W.target.value}),className:"flex-1"})]})]}),e.jsx(X,{placeholder:"Description",value:T.description||"",onChange:W=>v({...T,description:W.target.value})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ae,{onClick:L,children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),e.jsx(ae,{variant:"outline",onClick:()=>v(null),children:"Cancel"})]})]})]})]}),e.jsx(ae,{size:"sm",variant:"outline",className:"w-6 h-6 p-0 bg-red-500 border-red-500 text-white hover:bg-red-600 rounded-full",onClick:()=>A(p.id),children:e.jsx(ir,{className:"w-3 h-3"})})]})})]},p.id)})})}),e.jsx("button",{className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-gray-700 hover:bg-gray-600 rounded-full flex items-center justify-center transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),l&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-slate-300 text-sm",children:(J=N.find(p=>p.slug===l))==null?void 0:J.description})}),V&&e.jsx(kr,{onLogin:me})]})}const Sr={flights:{fields:[{name:"airline",label:"Airline",type:"text",placeholder:"e.g., Air India, IndiGo"},{name:"departure",label:"Departure City",type:"text",placeholder:"e.g., Mumbai, Delhi"},{name:"arrival",label:"Arrival City",type:"text",placeholder:"e.g., Bangalore, Chennai"},{name:"departureTime",label:"Departure Time",type:"time"},{name:"arrivalTime",label:"Arrival Time",type:"time"},{name:"duration",label:"Flight Duration",type:"text",placeholder:"e.g., 2h 30m"},{name:"flightClass",label:"Class",type:"select",options:["Economy","Premium Economy","Business","First Class"]},{name:"stops",label:"Stops",type:"select",options:["Non-stop","1 Stop","2+ Stops"]},{name:"routeType",label:"Route Type",type:"select",options:["domestic","international"]},{name:"brandBadge",label:"Brand Badge (Optional)",type:"text",placeholder:"e.g., Premium Partner, Verified Airline"}],sections:[{value:"featured",label:"Airlines & Brand Promotions"},{value:"standard",label:"Flight Search Results"},{value:"destinations",label:"Browse by Destinations"}]},hotels:{fields:[{name:"location",label:"Location/City",type:"text",placeholder:"e.g., Goa, Mumbai"},{name:"hotelType",label:"Hotel Type",type:"select",options:["Luxury","Business","Budget","Resort","Boutique"]},{name:"roomType",label:"Room Type",type:"text",placeholder:"e.g., Deluxe Room, Suite"},{name:"amenities",label:"Amenities",type:"textarea",placeholder:"e.g., WiFi, Pool, Spa, Gym (comma separated)"},{name:"rating",label:"Star Rating",type:"select",options:["1","2","3","4","5"]},{name:"cancellation",label:"Cancellation Policy",type:"text",placeholder:"e.g., Free cancellation till 24hrs"},{name:"brandBadge",label:"Brand Badge (Optional)",type:"text",placeholder:"e.g., Premium Partner, Verified Hotel"}],sections:[{value:"featured",label:"Featured Hotels & Premium Stays"},{value:"standard",label:"Quick Browse Hotels"},{value:"destinations",label:"Browse by Destination"}]},tours:{fields:[{name:"duration",label:"Tour Duration",type:"text",placeholder:"e.g., 5 Days 4 Nights"},{name:"destinations",label:"Destinations Covered",type:"textarea",placeholder:"e.g., Delhi, Agra, Jaipur"},{name:"inclusions",label:"Inclusions",type:"textarea",placeholder:"e.g., Accommodation, Meals, Transport"},{name:"tourType",label:"Tour Type",type:"select",options:["Cultural","Adventure","Wildlife","Spiritual","Beach","Hill Station"]},{name:"groupSize",label:"Group Size",type:"text",placeholder:"e.g., 2-15 people"},{name:"difficulty",label:"Difficulty Level",type:"select",options:["Easy","Moderate","Challenging"]}],sections:[{value:"featured",label:"Featured Tour Packages & Premium Experiences"},{value:"standard",label:"Quick Browse Packages"},{value:"destinations",label:"Browse by Destination"}]},cruises:{fields:[{name:"cruiseLine",label:"Cruise Line",type:"text",placeholder:"e.g., Royal Caribbean, MSC"},{name:"route",label:"Cruise Route",type:"text",placeholder:"e.g., Mediterranean, Caribbean"},{name:"duration",label:"Cruise Duration",type:"text",placeholder:"e.g., 7 nights"},{name:"cabinType",label:"Cabin Type",type:"select",options:["Interior","Ocean View","Balcony","Suite"]},{name:"ports",label:"Ports of Call",type:"textarea",placeholder:"e.g., Barcelona, Rome, Naples"},{name:"amenities",label:"Ship Amenities",type:"textarea",placeholder:"e.g., Pool, Spa, Casino, Theater"}],sections:[{value:"featured",label:"Our Featured Cruise Lines"},{value:"standard",label:"Most-booked Cruise Destinations"},{value:"destinations",label:"Browse by Destinations"}]},bus:{fields:[{name:"operator",label:"Bus Operator",type:"text",placeholder:"e.g., Volvo, RedBus"},{name:"departure",label:"Departure City",type:"text",placeholder:"e.g., Mumbai, Delhi"},{name:"arrival",label:"Arrival City",type:"text",placeholder:"e.g., Pune, Goa"},{name:"departureTime",label:"Departure Time",type:"time"},{name:"arrivalTime",label:"Arrival Time",type:"time"},{name:"duration",label:"Journey Duration",type:"text",placeholder:"e.g., 8h 30m"},{name:"busType",label:"Bus Type",type:"select",options:["AC Sleeper","Non-AC Sleeper","AC Seater","Non-AC Seater","Volvo"]},{name:"amenities",label:"Amenities",type:"textarea",placeholder:"e.g., WiFi, Charging Point, Blanket"}],sections:[{value:"featured",label:"Bus Operators & Brand Promotions"},{value:"standard",label:"Bus Search Results"},{value:"destinations",label:"Browse by Destinations"}]},train:{fields:[{name:"trainOperator",label:"Train Operator",type:"text",placeholder:"e.g., Indian Railways, Rajdhani"},{name:"departure",label:"Departure Station",type:"text",placeholder:"e.g., Mumbai Central, New Delhi"},{name:"arrival",label:"Arrival Station",type:"text",placeholder:"e.g., Chennai Central, Bangalore"},{name:"departureTime",label:"Departure Time",type:"time"},{name:"arrivalTime",label:"Arrival Time",type:"time"},{name:"duration",label:"Journey Duration",type:"text",placeholder:"e.g., 16h 00m"},{name:"trainType",label:"Train Class",type:"select",options:["AC 1-Tier","AC 2-Tier","AC 3-Tier","Sleeper","General"]},{name:"trainNumber",label:"Train Number",type:"text",placeholder:"e.g., 12951"}],sections:[{value:"featured",label:"Train Operators & Brand Promotions"},{value:"standard",label:"Train Search Results"},{value:"destinations",label:"Browse by Destinations"}]},packages:{fields:[{name:"duration",label:"Package Duration",type:"text",placeholder:"e.g., 5 Days 4 Nights"},{name:"destinations",label:"Destinations Covered",type:"textarea",placeholder:"e.g., Goa, Mumbai, Pune"},{name:"inclusions",label:"Package Inclusions",type:"textarea",placeholder:"e.g., Flights, Hotels, Meals, Transport"},{name:"location",label:"Primary Location",type:"text",placeholder:"e.g., Goa, Kerala, Dubai"},{name:"packageType",label:"Package Type",type:"select",options:["Honeymoon","Family","Adventure","Business","Group","Solo","Luxury"]},{name:"groupSize",label:"Group Size",type:"text",placeholder:"e.g., 2-6 people"},{name:"validTill",label:"Valid Till",type:"date"},{name:"routeType",label:"Route Type",type:"select",options:["domestic","international"]},{name:"flightPrice",label:"Flight Add-on Price (Optional)",type:"text",placeholder:"e.g., 8000 (amount only, no currency symbol)"},{name:"flightRoute",label:"Flight Route (Optional)",type:"text",placeholder:"e.g., Delhi-Kochi-Delhi, Mumbai-Goa-Mumbai"},{name:"flightDetails",label:"Flight Details (Optional)",type:"text",placeholder:"e.g., Economy class, 2 nights, IndiGo"},{name:"brandBadge",label:"Brand Badge (Optional)",type:"text",placeholder:"e.g., Premium Partner, Verified Package"}],sections:[{value:"featured",label:"Best Selling Destinations"},{value:"standard",label:"International Destinations"},{value:"destinations",label:"Visa Free Destinations"},{value:"special",label:"Last Minute Deals"},{value:"cities",label:"Destination Packages"}]},"car-rental":{fields:[{name:"carType",label:"Car Type",type:"select",options:["Economy","Compact","SUV","Luxury","Premium"]},{name:"location",label:"Pickup Location",type:"text",placeholder:"e.g., Mumbai Airport, Delhi"},{name:"duration",label:"Rental Duration",type:"text",placeholder:"e.g., 3 days, 1 week"},{name:"features",label:"Car Features",type:"textarea",placeholder:"e.g., GPS, AC, Automatic"},{name:"fuelType",label:"Fuel Type",type:"select",options:["Petrol","Diesel","Electric","Hybrid"]},{name:"transmission",label:"Transmission",type:"select",options:["Manual","Automatic"]}],sections:[{value:"featured",label:"Car Rental Operators & Brand Promotions"},{value:"standard",label:"Car Rental Search Results"},{value:"destinations",label:"Browse by Destinations"}]}},_r=["INR","USD","EUR","GBP","AUD","CAD","JPY","CNY","SGD","AED","THB","MYR"],Tr=[{color:"#000000",name:"Black"},{color:"#ffffff",name:"White"},{color:"#6b7280",name:"Gray"},{color:"#374151",name:"Dark Gray"},{color:"#9ca3af",name:"Light Gray"},{color:"#ef4444",name:"Red"},{color:"#dc2626",name:"Dark Red"},{color:"#fca5a5",name:"Light Red"},{color:"#7f1d1d",name:"Maroon"},{color:"#fee2e2",name:"Pink White"},{color:"#f97316",name:"Orange"},{color:"#ea580c",name:"Dark Orange"},{color:"#fdba74",name:"Light Orange"},{color:"#c2410c",name:"Burnt Orange"},{color:"#fed7aa",name:"Peach"},{color:"#eab308",name:"Yellow"},{color:"#ca8a04",name:"Dark Yellow"},{color:"#fde047",name:"Bright Yellow"},{color:"#a16207",name:"Amber"},{color:"#fef3c7",name:"Light Yellow"},{color:"#22c55e",name:"Green"},{color:"#059669",name:"Emerald"},{color:"#16a34a",name:"Dark Green"},{color:"#84cc16",name:"Lime"},{color:"#dcfce7",name:"Light Green"},{color:"#065f46",name:"Forest Green"},{color:"#10b981",name:"Teal Green"},{color:"#3b82f6",name:"Blue"},{color:"#1d4ed8",name:"Dark Blue"},{color:"#60a5fa",name:"Light Blue"},{color:"#0ea5e9",name:"Sky Blue"},{color:"#06b6d4",name:"Cyan"},{color:"#1e40af",name:"Navy Blue"},{color:"#dbeafe",name:"Pale Blue"},{color:"#8b5cf6",name:"Purple"},{color:"#7c3aed",name:"Dark Purple"},{color:"#a78bfa",name:"Light Purple"},{color:"#6366f1",name:"Indigo"},{color:"#8b5a2b",name:"Brown"},{color:"#5b21b6",name:"Deep Purple"},{color:"#ec4899",name:"Pink"},{color:"#db2777",name:"Dark Pink"},{color:"#f472b6",name:"Light Pink"},{color:"#be185d",name:"Rose"},{color:"#fce7f3",name:"Pale Pink"},{color:"#14b8a6",name:"Teal"},{color:"#f59e0b",name:"Amber Orange"},{color:"#84cc16",name:"Lime Green"},{color:"#06b6d4",name:"Light Cyan"},{color:"#8b5a2b",name:"Saddle Brown"},{color:"#92400e",name:"Dark Brown"},{color:"#451a03",name:"Coffee Brown"},{color:"#78716c",name:"Stone"},{color:"#57534e",name:"Dark Stone"}],jt=[{gradient:"from-blue-400 to-blue-500",name:"Blue Gradient",preview:"linear-gradient(to right, #60a5fa, #3b82f6)"},{gradient:"from-red-400 to-red-500",name:"Red Gradient",preview:"linear-gradient(to right, #f87171, #ef4444)"},{gradient:"from-purple-400 to-purple-500",name:"Purple Gradient",preview:"linear-gradient(to right, #a78bfa, #8b5cf6)"},{gradient:"from-orange-400 to-orange-500",name:"Orange Gradient",preview:"linear-gradient(to right, #fb923c, #f97316)"},{gradient:"from-green-400 to-green-500",name:"Green Gradient",preview:"linear-gradient(to right, #4ade80, #22c55e)"},{gradient:"from-pink-400 to-pink-500",name:"Pink Gradient",preview:"linear-gradient(to right, #f472b6, #ec4899)"},{gradient:"from-yellow-400 to-yellow-500",name:"Yellow Gradient",preview:"linear-gradient(to right, #facc15, #eab308)"},{gradient:"from-indigo-400 to-indigo-500",name:"Indigo Gradient",preview:"linear-gradient(to right, #818cf8, #6366f1)"},{gradient:"from-teal-400 to-teal-500",name:"Teal Gradient",preview:"linear-gradient(to right, #2dd4bf, #14b8a6)"},{gradient:"from-cyan-400 to-cyan-500",name:"Cyan Gradient",preview:"linear-gradient(to right, #22d3ee, #06b6d4)"},{gradient:"from-emerald-400 to-emerald-500",name:"Emerald Gradient",preview:"linear-gradient(to right, #34d399, #10b981)"},{gradient:"from-rose-400 to-rose-500",name:"Rose Gradient",preview:"linear-gradient(to right, #fb7185, #f43f5e)"}];function Fr({isOpen:l,onClose:y,category:f,onSubmit:D}){var je,ne,De;const{toast:T}=Ue(),[v,c]=g.useState({name:"",description:"",price:"",originalPrice:"",currency:"INR",imageUrl:"",affiliateUrl:"",sectionType:"featured"}),[M,i]=g.useState({}),[F,V]=g.useState({}),[Z,ce]=g.useState("from-orange-400 to-orange-500"),[ie,me]=g.useState(!1),[ee,se]=g.useState(""),[he,be]=g.useState("#374151"),[k,te]=g.useState(""),[s,L]=g.useState(!1),[r,A]=g.useState(!1),[N,J]=g.useState("manual"),p=Sr[f],C=(o,O)=>{c(I=>({...I,[o]:O}))},W=async o=>{L(!0);try{const O=await fetch("/api/extract-travel-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:o,category:f,extractionType:"comprehensive"})});if(!O.ok)throw new Error("Failed to extract data from URL");const I=await O.json();if(I.success){const E=I.data;c(K=>({...K,name:E.name||K.name,description:E.description||K.description,price:E.price||K.price,originalPrice:E.originalPrice||K.originalPrice,currency:E.currency||K.currency,imageUrl:E.imageUrl||K.imageUrl,affiliateUrl:o,...E.categoryFields})),E.styling&&(E.styling.cardBackground&&ce(E.styling.cardBackground),E.styling.fieldColors&&i(E.styling.fieldColors),E.styling.fieldStyles&&V(E.styling.fieldStyles)),T({title:"Data Extracted Successfully!",description:`Extracted ${Object.keys(E.categoryFields||{}).length+6} fields from the URL.`}),J("url")}else throw new Error(I.error||"Failed to extract data")}catch(O){console.error("URL extraction error:",O),T({title:"Extraction Failed",description:O instanceof Error?O.message:"Could not extract data from this URL. Please fill the form manually.",variant:"destructive"})}finally{L(!1)}},de=()=>{if(!k.trim()){T({title:"URL Required",description:"Please enter a valid travel booking URL.",variant:"destructive"});return}W(k.trim())},Ce=(o,O)=>{i(I=>({...I,[o]:O}))},fe=(o,O,I)=>{V(E=>({...E,[o]:{...E[o],[O]:I}}))},We=({fieldName:o,label:O})=>{const I=M[o]||"#000000",E=F[o]||{};return e.jsxs("div",{className:"mt-2",children:[e.jsxs(oe,{className:"text-xs text-gray-600",children:[O," Styling"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{type:"button",onClick:()=>fe(o,"bold",!E.bold),className:`px-2 py-1 text-xs border rounded font-bold transition-all ${E.bold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,title:"Bold",children:"B"}),e.jsx("button",{type:"button",onClick:()=>fe(o,"italic",!E.italic),className:`px-2 py-1 text-xs border rounded italic transition-all ${E.italic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,title:"Italic",children:"I"}),e.jsx("button",{type:"button",onClick:()=>fe(o,"underline",!E.underline),className:`px-2 py-1 text-xs border rounded underline transition-all ${E.underline?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,title:"Underline",children:"U"}),e.jsx("button",{type:"button",onClick:()=>fe(o,"strikethrough",!E.strikethrough),className:`px-2 py-1 text-xs border rounded line-through transition-all ${E.strikethrough?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,title:"Strikethrough",children:"S"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Color:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Tr.map(K=>e.jsx("button",{type:"button",onClick:()=>Ce(o,K.color),className:`w-6 h-6 rounded-full border transition-all hover:scale-110 ${I===K.color?"border-gray-800 shadow-md border-2":"border-gray-300 hover:border-gray-500"}`,style:{backgroundColor:K.color},title:K.name},K.color))})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("input",{type:"color",value:I,onChange:K=>Ce(o,K.target.value),className:"w-8 h-8 rounded border border-gray-300 cursor-pointer"}),e.jsx(X,{value:I,onChange:K=>Ce(o,K.target.value),placeholder:"#000000",className:"text-xs h-8"})]})]})]})},rt=o=>{var I;const O=(I=o.target.files)==null?void 0:I[0];if(O){const E=new FileReader;E.onload=K=>{var Ve;const He=(Ve=K.target)==null?void 0:Ve.result;c(re=>({...re,imageUrl:He})),se(He)},E.readAsDataURL(O)}},ze=async()=>{const o={flights:"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=800&h=400&fit=crop",hotels:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800&h=400&fit=crop",tours:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&h=400&fit=crop",cruises:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&h=400&fit=crop",bus:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=800&h=400&fit=crop",train:"https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=800&h=400&fit=crop",packages:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&h=400&fit=crop","car-rental":"https://images.unsplash.com/photo-1502877338535-766e1452684a?w=800&h=400&fit=crop"},O=o[f]||o.flights;c(I=>({...I,imageUrl:O})),se(O)},st=o=>{o.preventDefault();const O={...v,category:f,fieldColors:M,fieldStyles:F,cardBackgroundColor:Z,id:`${f}-${Date.now()}`,createdAt:new Date().toISOString()};D(O),y(),c({name:"",description:"",price:"",originalPrice:"",currency:"INR",imageUrl:"",affiliateUrl:"",sectionType:"featured"}),i({}),V({}),ce("from-orange-400 to-orange-500"),se("")};return p?e.jsx(nt,{open:l,onOpenChange:y,children:e.jsxs(lt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ct,{children:e.jsxs(dt,{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"capitalize",children:["Add ",f," Content"]}),e.jsxs(ae,{variant:"ghost",size:"sm",onClick:()=>me(!ie),className:"ml-auto",children:[e.jsx(or,{className:"w-4 h-4 mr-2"}),ie?"Hide":"Show"," Preview"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(nr,{className:"w-5 h-5 text-blue-600"}),"Smart Data Extraction"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{type:"button",variant:N==="manual"?"default":"outline",size:"sm",onClick:()=>J("manual"),children:"Manual"}),e.jsx(ae,{type:"button",variant:N==="url"?"default":"outline",size:"sm",onClick:()=>J("url"),children:"URL Extract"})]})]}),N==="url"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Paste a travel booking URL (MakeMyTrip, Booking.com, Agoda, etc.) to automatically extract all travel details."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{placeholder:`Paste ${f} booking URL here...`,value:k,onChange:o=>te(o.target.value),className:"flex-1"}),e.jsx(ae,{type:"button",onClick:de,disabled:s||!k.trim(),className:"px-6",children:s?e.jsxs(e.Fragment,{children:[e.jsx(lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Extracting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),"Extract Data"]})})]}),N==="url"&&v.name&&e.jsx("div",{className:"mt-2 p-2 bg-green-50 dark:bg-green-900/20 rounded border border-green-200 dark:border-green-800",children:e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300 flex items-center gap-2",children:[e.jsx(at,{className:"w-4 h-4"}),"Data extracted successfully! Review and modify fields below if needed."]})})]})]}),e.jsxs("form",{onSubmit:st,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"name",children:"Name"}),e.jsx(X,{id:"name",value:v.name,onChange:o=>C("name",o.target.value),placeholder:`Enter ${f} name`}),e.jsx(We,{fieldName:"name",label:"Name"})]}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"description",children:"Description"}),e.jsx(Ke,{id:"description",value:v.description,onChange:o=>C("description",o.target.value),placeholder:`Describe this ${f}`,rows:3}),e.jsx(We,{fieldName:"description",label:"Description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"price",children:"Price"}),e.jsx(X,{id:"price",value:v.price,onChange:o=>C("price",o.target.value),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"originalPrice",children:"Original Price"}),e.jsx(X,{id:"originalPrice",value:v.originalPrice,onChange:o=>C("originalPrice",o.target.value),placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"currency",children:"Currency"}),e.jsxs(it,{value:v.currency,onValueChange:o=>C("currency",o),children:[e.jsx(Qe,{children:e.jsx(ot,{})}),e.jsx(Ye,{children:_r.map(o=>e.jsx(Xe,{value:o,children:o},o))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"taxesAmount",children:"Taxes & Fees (Optional)"}),e.jsx(X,{id:"taxesAmount",value:v.taxesAmount||"",onChange:o=>C("taxesAmount",o.target.value),placeholder:"695 (amount only)"})]}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"gstAmount",children:"GST Amount (Optional)"}),e.jsx(X,{id:"gstAmount",value:v.gstAmount||"",onChange:o=>C("gstAmount",o.target.value),placeholder:"150 (amount only)"})]})]}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"affiliateUrl",children:"Affiliate/Booking URL"}),e.jsx(X,{id:"affiliateUrl",value:v.affiliateUrl,onChange:o=>C("affiliateUrl",o.target.value),placeholder:"https://..."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:[f," Details"]}),p.fields.map(o=>{var O;return e.jsxs("div",{children:[e.jsx(oe,{htmlFor:o.name,children:o.label}),o.type==="select"?e.jsxs(it,{value:v[o.name]||"",onValueChange:I=>C(o.name,I),children:[e.jsx(Qe,{children:e.jsx(ot,{placeholder:`Select ${o.label}`})}),e.jsx(Ye,{children:(O=o.options)==null?void 0:O.map(I=>e.jsx(Xe,{value:I,children:I},I))})]}):o.type==="textarea"?e.jsx(Ke,{id:o.name,value:v[o.name]||"",onChange:I=>C(o.name,I.target.value),placeholder:o.placeholder,rows:2}):e.jsx(X,{id:o.name,type:o.type,value:v[o.name]||"",onChange:I=>C(o.name,I.target.value),placeholder:o.placeholder}),(o.type==="text"||o.type==="textarea")&&e.jsx(We,{fieldName:o.name,label:o.label})]},o.name)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Display Settings"}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"sectionType",children:"Section to Display"}),e.jsxs(it,{value:v.sectionType,onValueChange:o=>C("sectionType",o),children:[e.jsx(Qe,{children:e.jsx(ot,{})}),e.jsx(Ye,{children:p.sections.map(o=>e.jsx(Xe,{value:o.value,children:o.label},o.value))})]})]}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"customSectionTitle",children:"Custom Section Title (Optional)"}),e.jsx(X,{id:"customSectionTitle",value:v.customSectionTitle||"",onChange:o=>C("customSectionTitle",o.target.value),placeholder:"Override default section title"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Leave empty to use default: ",(je=p.sections.find(o=>o.value===v.sectionType))==null?void 0:je.label]})]}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"customSectionDescription",children:"Custom Section Description (Optional)"}),e.jsx(Ke,{id:"customSectionDescription",value:v.customSectionDescription||"",onChange:o=>C("customSectionDescription",o.target.value),placeholder:"Override default section description",rows:2}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use default description"})]}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"cardBackgroundColor",children:"Card Background Color"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Choose a gradient background for your card:"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:jt.map(o=>e.jsx("button",{type:"button",onClick:()=>ce(o.gradient),className:`h-12 rounded-lg border-2 transition-all hover:scale-105 ${Z===o.gradient?"border-gray-800 shadow-lg":"border-gray-300 hover:border-gray-500"}`,style:{background:o.preview},title:o.name},o.gradient))}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Selected: ",e.jsx("span",{className:"font-medium",children:((ne=jt.find(o=>o.gradient===Z))==null?void 0:ne.name)||"Orange Gradient"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Image"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ae,{type:"button",variant:"outline",onClick:()=>{var o;return(o=document.getElementById("imageUpload"))==null?void 0:o.click()},children:[e.jsx(cr,{className:"w-4 h-4 mr-2"}),"Upload Image"]}),e.jsxs(ae,{type:"button",variant:"outline",onClick:ze,children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),"Auto Generate"]})]}),e.jsx("input",{id:"imageUpload",type:"file",accept:"image/*",onChange:rt,className:"hidden"}),e.jsxs("div",{children:[e.jsx(oe,{htmlFor:"imageUrl",children:"Image URL"}),e.jsx(X,{id:"imageUrl",value:v.imageUrl,onChange:o=>{C("imageUrl",o.target.value),se(o.target.value)},placeholder:"https://..."})]}),ee&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:ee,alt:"Preview",className:"w-full h-32 object-cover rounded border"})})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(ae,{type:"submit",className:"flex-1",children:["Add ",f.charAt(0).toUpperCase()+f.slice(1)]}),e.jsx(ae,{type:"button",variant:"outline",onClick:y,children:"Cancel"})]})]})]}),ie&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Preview"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[v.imageUrl&&e.jsx("div",{className:"relative h-48 overflow-hidden",children:e.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:he},children:v.name||"Sample Name"}),e.jsx("p",{className:"text-gray-600 mb-4",children:v.description||"Sample description text"}),v.price&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[v.originalPrice&&e.jsxs("span",{className:"text-gray-500 line-through mr-2",children:[v.currency," ",v.originalPrice]}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[v.currency," ",v.price]})]}),e.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg",children:"Book Now"})]}),e.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Section: ",(De=p.sections.find(o=>o.value===v.sectionType))==null?void 0:De.label]})]})]})]})]})]})}):null}const ue=({deal:l,isAdmin:y,onShareToAll:f,className:D=""})=>{const{wishlist:T,addToWishlist:v,removeFromWishlist:c,isInWishlist:M}=et(),[i,F]=g.useState(!1),[V,Z]=g.useState(!1),[ce]=g.useState(["Instagram","Facebook","WhatsApp","Telegram"]),[ie,me]=g.useState(!1),ee=g.useRef(null);g.useEffect(()=>{const k=()=>{if(ee.current){const te=ee.current.closest(".group");if(te){const s=te.getBoundingClientRect(),L=window.innerWidth,r=s.width;me(r>500||s.right>L*.7)}}};return setTimeout(k,100),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const se=()=>{f?f(l):Z(!0)},he=()=>{const k=`Check out ${l.name} - ${l.description||""} Starting from ${l.price}`,te=l.affiliateUrl||l.affiliate_url||window.location.href,s={whatsapp:`https://wa.me/?text=${encodeURIComponent(k+" "+te)}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(te)}`,twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(k)}&url=${encodeURIComponent(te)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(te)}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(te)}&text=${encodeURIComponent(k)}`};Object.entries(s).forEach(([L,r])=>{setTimeout(()=>{window.open(r,"_blank","noopener,noreferrer")},100)}),Z(!1)},be=async()=>{if(window.confirm("Are you sure you want to delete this item?"))try{await Ge("travel",l.id),console.log("✅ Travel product deleted successfully:",l.id),window.location.reload()}catch(k){console.error("❌ Failed to delete travel product:",k),alert("Failed to delete item. Please try again.")}};return e.jsxs("div",{ref:ee,className:`hover-actions absolute opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out z-50 top-2 right-2 ${D}`,style:{pointerEvents:"auto",transform:"translateX(-100%) translateY(-20px)"},onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),onClick:k=>{k.preventDefault(),k.stopPropagation()},children:[e.jsxs("div",{className:"flex flex-col gap-2 bg-gray-800 rounded-lg shadow-lg border border-gray-600 p-2 min-w-[120px]",onClick:k=>{k.preventDefault(),k.stopPropagation()},children:[e.jsxs("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),M(l.id)?c(l.id):v(l)},className:"flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-gray-700 transition-colors duration-200",title:M(l.id)?"Remove from Wishlist":"Add to Wishlist",children:[e.jsx("i",{className:`fas fa-heart ${M(l.id)?"text-red-500":"text-gray-300"}`}),e.jsx("span",{className:"text-white",children:"Wishlist"})]}),y?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),se()},className:"flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-blue-600 transition-colors duration-200 text-blue-400 hover:text-white",title:"Share to All Platforms",children:[e.jsx("i",{className:"fas fa-share-alt"}),e.jsx("span",{children:"Share All"})]}),e.jsx("div",{onClick:k=>{k.preventDefault(),k.stopPropagation()},className:"hover:bg-gray-700 rounded-md",children:e.jsx(we,{product:{id:l.id,name:l.name,description:l.description,price:l.price,imageUrl:l.imageUrl||l.image_url,category:l.category,affiliateUrl:l.affiliateUrl||l.affiliate_url},className:"flex items-center gap-2 px-3 py-2 text-sm w-full text-left text-white hover:text-blue-400",buttonText:"Share",showIcon:!0})}),e.jsxs("button",{onClick:k=>{k.preventDefault(),k.stopPropagation(),be()},className:"flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-red-600 transition-colors duration-200 text-red-400 hover:text-white",title:"Delete",children:[e.jsx("i",{className:"fas fa-trash"}),e.jsx("span",{children:"Delete"})]})]}):e.jsx("div",{onClick:k=>{k.preventDefault(),k.stopPropagation()},className:"hover:bg-gray-700 rounded-md",children:e.jsx(we,{product:{id:l.id,name:l.name,description:l.description,price:l.price,imageUrl:l.imageUrl||l.image_url,category:l.category,affiliateUrl:l.affiliateUrl||l.affiliate_url},className:"flex items-center gap-2 px-3 py-2 text-sm w-full text-left text-white hover:text-blue-400",buttonText:"Share",showIcon:!0})})]}),e.jsx(kt,{isOpen:V,onClose:()=>Z(!1),onConfirm:he,productName:l.name,platforms:ce})]})},Nt={flights:{sections:[{id:"featured",title:"Airlines & Brand Promotions",icon:"fas fa-plane-departure",color:"from-blue-500 to-blue-600",description:"Featured airlines with exclusive offers",type:"featured"},{id:"standard",title:"Flight Search Results",icon:"fas fa-search",color:"from-purple-500 to-purple-600",description:"Compare flight prices and timings",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore popular destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","domestic","international"]},hotels:{sections:[{id:"featured",title:"Featured Hotels & Premium Stays",icon:"fas fa-crown",color:"from-purple-500 to-purple-600",description:"Luxury hotels and exclusive deals",type:"featured"},{id:"standard",title:"Quick Browse Hotels",icon:"fas fa-th-large",color:"from-blue-500 to-blue-600",description:"Compare hotels quickly",type:"standard"},{id:"destinations",title:"Browse by Destination",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore hotels by destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","luxury","budget","3-star","4-star","5-star"]},tours:{sections:[{id:"trending",title:"Trending Destinations",icon:"fas fa-fire",color:"from-orange-500 to-red-600",description:"Discover the most popular travel destinations worldwide",type:"destinations"},{id:"featured",title:"Featured Tour Packages & Premium Experiences",icon:"fas fa-crown",color:"from-purple-500 to-purple-600",description:"Luxury tour packages and exclusive experiences",type:"featured"},{id:"standard",title:"Quick Browse Packages",icon:"fas fa-th-large",color:"from-blue-500 to-blue-600",description:"Compare tour packages quickly",type:"standard"}],hasFilter:!0,filterOptions:["all","adventure","cultural","wildlife","beach","mountain"]},cruises:{sections:[{id:"featured",title:"Our Featured Cruise Lines",icon:"fas fa-crown",color:"from-purple-500 to-purple-600",description:"Luxury cruises and exclusive voyage deals",type:"featured"},{id:"standard",title:"Most-booked Cruise Destinations",icon:"fas fa-map-marked-alt",color:"from-blue-500 to-blue-600",description:"Popular cruise destinations worldwide",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-globe",color:"from-purple-500 to-purple-600",description:"Explore cruise destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","luxury","family","expedition","river","ocean"]},bus:{sections:[{id:"featured",title:"Bus Operators & Brand Promotions",icon:"fas fa-bus",color:"from-blue-500 to-blue-600",description:"Featured bus operators with exclusive offers",type:"featured"},{id:"standard",title:"Bus Search Results",icon:"fas fa-search",color:"from-purple-500 to-purple-600",description:"Compare bus prices and timings",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore popular bus destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","ac","non-ac","sleeper","seater"]},packages:{sections:[{id:"featured",title:"Best Selling Destinations",icon:"fas fa-map-marked-alt",color:"from-orange-500 to-red-600",description:"Mega Price Drop on Packages for Your October Long Weekend Trip. Use code: MOSTWANTED",type:"featured"},{id:"standard",title:"International Destinations",icon:"fas fa-globe-americas",color:"from-blue-500 to-indigo-600",description:"Explore amazing international destinations",type:"standard"},{id:"destinations",title:"Visa Free Destinations",icon:"fas fa-passport",color:"from-green-500 to-teal-600",description:"Up to 30% off! Limited time offer",type:"destinations"},{id:"special",title:"Last Minute Deals",icon:"fas fa-clock",color:"from-purple-500 to-pink-600",description:"Grab amazing deals before they expire",type:"special"},{id:"cities",title:"Destination Packages",icon:"fas fa-map-marker-alt",color:"from-teal-500 to-cyan-600",description:"Explore packages by popular destinations",type:"cities"}],hasFilter:!0,filterOptions:["all","domestic","international","honeymoon","family","adventure"]},train:{sections:[{id:"featured",title:"Train Operators & Brand Promotions",icon:"fas fa-train",color:"from-green-500 to-green-600",description:"Featured train operators with exclusive offers",type:"featured"},{id:"standard",title:"Train Search Results",icon:"fas fa-search",color:"from-blue-500 to-blue-600",description:"Compare train prices and timings",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-purple-500 to-purple-600",description:"Explore popular train destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","ac","sleeper","3ac","2ac","1ac"]},"car-rental":{sections:[{id:"featured",title:"Car Rental Operators & Brand Promotions",icon:"fas fa-car",color:"from-green-500 to-green-600",description:"Featured car rental operators with exclusive offers",type:"featured"},{id:"standard",title:"Car Rental Search Results",icon:"fas fa-search",color:"from-blue-500 to-blue-600",description:"Compare car rental prices and options",type:"standard"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-purple-500 to-purple-600",description:"Explore popular car rental destinations",type:"destinations"}],hasFilter:!0,filterOptions:["all","economy","compact","suv","luxury","premium"]}};function Pr(){const{toast:l}=Ue(),{wishlist:y,addToWishlist:f,removeFromWishlist:D,isInWishlist:T}=et(),v=Ze(),[c,M]=g.useState("flights"),[i,F]=g.useState("all"),[V,Z]=g.useState("all"),[ce,ie]=g.useState({}),[me,ee]=g.useState({}),[se,he]=g.useState({}),[be,k]=g.useState({}),[te,s]=g.useState(!1),[L,r]=g.useState([]),[A,N]=g.useState(!1),[J,p]=g.useState(null),[C,W]=g.useState(!1),[de,Ce]=g.useState(""),[fe,We]=g.useState([]),[rt,ze]=g.useState(!1),st=["Instagram","Facebook","WhatsApp","Telegram"],{convertPrice:je,currentCurrency:ne,setCurrency:De}=Vt(),o=t=>({USD:"$",EUR:"€",GBP:"£",INR:"₹",JPY:"¥",CAD:"C$",AUD:"A$"})[t]||t,O=(t,n,B)=>{var Fe,ge,Ee,Be,Re,Ie,Oe,qe;const a=S=>{if(!S)return 0;const b=String(S).replace(/[^0-9.]/g,""),w=parseFloat(b);return isNaN(w)?0:w},m=(S,b=ne)=>{try{const w=je(S,t.currency||"INR",ne),u=Math.round(w);return`${o(ne)}${u.toLocaleString()}`}catch{return`${o(ne)}${Math.round(S).toLocaleString()}`}},U=a(t.price),le=a(t.originalPrice||t.original_price),z=m(U),pe=le>0?m(le):null;if(y.some(S=>S.id===t.id),c==="tours"&&n==="destinations"){const b=(w=>{const u=w.toLowerCase();return u.includes("dubai")?{image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-amber-500/90 via-orange-400/70 to-transparent",textColor:"text-white",name:"Dubai"}:u.includes("paris")?{image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-600/90 via-indigo-500/70 to-transparent",textColor:"text-white",name:"Paris"}:u.includes("bali")?{image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-emerald-500/90 via-teal-400/70 to-transparent",textColor:"text-white",name:"Bali"}:u.includes("phuket")?{image:"https://images.unsplash.com/photo-1589394815804-964ed0be2eb5?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-cyan-500/90 via-blue-400/70 to-transparent",textColor:"text-white",name:"Phuket"}:u.includes("singapore")?{image:"https://images.unsplash.com/photo-1525625293386-3f8f99389edd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-purple-500/90 via-pink-400/70 to-transparent",textColor:"text-white",name:"Singapore"}:u.includes("bangkok")?{image:"https://images.unsplash.com/photo-1563492065-1a4e2e8b8c3e?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-rose-500/90 via-pink-400/70 to-transparent",textColor:"text-white",name:"Bangkok"}:u.includes("london")?{image:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-slate-600/90 via-gray-500/70 to-transparent",textColor:"text-white",name:"London"}:u.includes("kuala lumpur")?{image:"https://images.unsplash.com/photo-1596422846543-75c6fc197f07?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-500/90 via-emerald-400/70 to-transparent",textColor:"text-white",name:"Kuala Lumpur"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-indigo-400/70 to-transparent",textColor:"text-white",name:t.name||"Destination"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block w-full h-[240px] rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:scale-[1.02] hover:-translate-y-1",children:[e.jsx("img",{src:b.image,alt:b.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:w=>{const u=w.target;u.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${b.gradient}`}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("h3",{className:`text-3xl font-bold ${b.textColor} drop-shadow-lg text-center`,children:b.name})}),e.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-gray-800 font-bold py-2 px-6 rounded-full hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Pick Now"})})]}),e.jsx(ue,{deal:t,isAdmin:re})]},t.id)}if(c==="packages"&&n==="featured"){const b=(w=>{const u=w.toLowerCase();return u.includes("kerala")?{image:"https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-green-600/80 via-emerald-500/60 to-transparent",accent:"bg-emerald-500"}:u.includes("thailand")?{image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-blue-600/80 via-cyan-500/60 to-transparent",accent:"bg-cyan-500"}:u.includes("andaman")?{image:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-teal-600/80 via-turquoise-500/60 to-transparent",accent:"bg-teal-500"}:u.includes("south india")?{image:"https://images.unsplash.com/photo-1582510003544-4d00b7f74220?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-orange-600/80 via-amber-500/60 to-transparent",accent:"bg-orange-500"}:u.includes("dubai")?{image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-purple-600/80 via-pink-500/60 to-transparent",accent:"bg-purple-500"}:u.includes("goa")?{image:"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-yellow-600/80 via-orange-500/60 to-transparent",accent:"bg-yellow-500"}:u.includes("vietnam")?{image:"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-indigo-600/80 via-blue-500/60 to-transparent",accent:"bg-indigo-500"}:u.includes("europe")?{image:"https://images.unsplash.com/photo-1467269204594-9661b134dd2b?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-red-600/80 via-rose-500/60 to-transparent",accent:"bg-red-500"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=300&h=200&fit=crop&auto=format&q=80",gradient:"from-blue-600/80 via-indigo-500/60 to-transparent",accent:"bg-blue-500"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block min-w-[280px] h-[200px] rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:scale-105 hover:-translate-y-2",children:[e.jsx("img",{src:b.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:w=>{const u=w.target;u.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=300&h=200&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${b.gradient} transition-opacity duration-500 group-hover:opacity-90`}),e.jsx("div",{className:"absolute inset-0 rounded-3xl border-2 border-white/20 group-hover:border-white/40 transition-all duration-500"}),e.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-x-4 group-hover:translate-x-0",children:e.jsx("div",{className:`w-3 h-3 ${b.accent} rounded-full animate-pulse`})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2 transform transition-transform duration-500 group-hover:translate-y-[-4px]",children:t.name}),e.jsx("div",{className:"w-0 h-1 bg-white rounded-full transition-all duration-500 group-hover:w-16"}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0 mt-2",children:e.jsxs("span",{className:"text-white/90 text-sm font-medium bg-white/20 px-3 py-1 rounded-full backdrop-blur-sm",children:["Starting ₹",t.price]})})]}),e.jsx("div",{className:"absolute top-0 left-0 w-0 h-0 border-l-[40px] border-l-transparent border-t-[40px] border-t-white/10 transition-all duration-500 group-hover:border-t-white/20"})]}),e.jsx(ue,{deal:t,isAdmin:re})]},t.id)}if(c==="car-rental"&&n==="standard")return((b,w)=>{const u=["CNG/Diesel","CNG","Diesel","Petrol"],j=["bg-teal-500","bg-teal-600","bg-orange-600","bg-orange-700"],h=["4.4","4.5","4.3","4.2"];return{name:b||"Car Rental",subtitle:"or similar",rating:h[w%h.length],seats:"4 Seats • AC",fuelType:u[w%u.length],fuelColor:j[w%j.length],price:z,originalPrice:pe,discount:pe?"16% off":null,taxes:"+ taxes & charges",image:t.imageUrl||t.image_url||"https://images.unsplash.com/photo-1502877338535-766e1452684a?w=100&h=80&fit=crop&auto=format&q=80",badge:t.isNew?"NEW":null}})(t.name,Math.abs(parseInt(t.id.toString().replace(/[^0-9]/g,"")||"0"))%4),e.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-100 to-indigo-200",children:[e.jsx("img",{src:t.imageUrl||"https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?w=600&h=400&fit=crop",alt:t.name,className:"w-full h-full object-cover",onError:b=>{const w=b.target;w.src="https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?w=600&h=400&fit=crop"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm text-gray-700 text-xs font-medium px-3 py-1 rounded-full",children:"T&C'S APPLY"}),e.jsx("div",{className:"absolute inset-0 bg-blue-600/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-blue-600 font-bold py-3 px-8 rounded-full hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Pick Now"})})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-100 via-pink-50 to-blue-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.name}),e.jsx("p",{className:"text-gray-800 text-sm mb-4 leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-800 bg-white/70 px-3 py-1.5 rounded-full shadow-sm",children:[e.jsx("i",{className:"fas fa-map-marker-alt text-purple-600"}),e.jsx("span",{className:"font-medium",children:t.location})]}),t.rating&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-800 bg-white/70 px-3 py-1.5 rounded-full shadow-sm",children:[e.jsx("i",{className:"fas fa-star text-yellow-500"}),e.jsx("span",{className:"font-medium",children:t.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700",children:z}),pe&&e.jsx("div",{className:"text-sm text-gray-700 line-through",children:pe}),(t.taxes_amount||t.gst_amount)&&e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["+ ",t.taxes_amount&&`${o(t.currency||"INR")}${t.taxes_amount} taxes`,t.taxes_amount&&t.gst_amount&&" & ",t.gst_amount&&`${o(t.currency||"INR")}${t.gst_amount} GST`,(t.taxes_amount||t.gst_amount)&&" & fees"]})]}),e.jsx("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-2.5 px-6 rounded-full transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"Pick Now"})]})]}),e.jsx(ue,{deal:t,isAdmin:re})]},t.id);if(c==="tours"&&n==="standard"){const b=((w,u)=>{const j=["from-orange-600/90 via-yellow-500/80 to-red-600/90","from-purple-600/90 via-indigo-500/80 to-blue-600/90","from-pink-600/90 via-purple-500/80 to-blue-600/90","from-cyan-600/90 via-teal-500/80 to-blue-600/90"],h=["Dubai","Singapore","Paris","Phuket"];return{name:w||"Tour Package",price:z,image:t.imageUrl||t.image_url||"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=80",gradient:j[u%j.length],location:t.location||t.city||h[u%h.length]}})(t.name,Math.abs(parseInt(t.id.toString().replace(/[^0-9]/g,"")||"0"))%4);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block w-full h-[280px] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:[e.jsx("img",{src:b.image,alt:b.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:w=>{const u=w.target;u.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${b.gradient}`}),e.jsxs("div",{className:"absolute top-4 left-4 bg-black/30 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),b.location]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2 leading-tight",children:b.name}),e.jsx("p",{className:"text-white/90 text-sm font-medium",children:b.price})]}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-gray-800 font-bold py-2 px-6 rounded-full hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Pick Now"})})]}),e.jsx(ue,{deal:t,isAdmin:re})]},t.id)}if(c==="tours"&&n==="featured"){const b=((w,u)=>{const j=[{name:"The Burj Khalifa Tickets",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-600/90 via-indigo-500/80 to-purple-600/90"},{name:"Desert Safari Dubai",image:"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-orange-600/90 via-yellow-500/80 to-red-600/90"},{name:"Universal Studios Singapore",image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-purple-600/90 via-pink-500/80 to-blue-600/90"},{name:"Safari World Bangkok",image:"https://images.unsplash.com/photo-1564507592333-c60657eea523?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-600/90 via-teal-500/80 to-emerald-600/90"},{name:"Eiffel Tower Paris",image:"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-rose-600/90 via-pink-500/80 to-red-600/90"}];return{...j[u%j.length],number:u+1}})(t.name,Math.abs(parseInt(t.id.toString().replace(/[^0-9]/g,"")||"0"))%5);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block w-full h-[200px] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:[e.jsx("img",{src:b.image,alt:b.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:w=>{const u=w.target;u.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${b.gradient}`}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:e.jsx("h3",{className:"text-lg font-bold text-white mb-2 leading-tight",children:b.name})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx("button",{className:"bg-white text-gray-800 font-bold py-2 px-6 rounded-full hover:bg-gray-100 transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Pick Now"})})]},t.id),e.jsx(ue,{deal:t,isAdmin:re})]})}if(["flights","bus","train","cruises","hotels","car-rental"].includes(c)&&n==="featured"){let S={},b={};try{t.field_colors&&(S=typeof t.field_colors=="string"?JSON.parse(t.field_colors):t.field_colors),t.field_styles&&(b=typeof t.field_styles=="string"?JSON.parse(t.field_styles):t.field_styles)}catch(h){console.warn("Failed to parse field colors/styles for deal:",t.id,h)}const w=h=>{const G={};if(S[h]&&(G.color=S[h]),b[h]){const Q=b[h];typeof Q=="object"?(Q.bold&&(G.fontWeight="bold"),Q.italic&&(G.fontStyle="italic"),Q.underline&&(G.textDecoration="underline"),Q.strikethrough&&(G.textDecoration="line-through")):(Q==="bold"&&(G.fontWeight="bold"),Q==="italic"&&(G.fontStyle="italic"))}return G},j=((h,G)=>{const _=String(h||"").toLowerCase();return G==="bus"?_.includes("brs")||_.includes("travels")?{gradient:"bg-gradient-to-r from-green-600 via-blue-600 to-blue-700",icon:"fas fa-bus",tagline:"Safe. Reliable. Comfortable.",operatorName:"BRS Travels"}:_.includes("redbus")||_.includes("red bus")?{gradient:"bg-gradient-to-r from-red-500 via-red-600 to-red-700",icon:"fas fa-bus",tagline:"India's Largest Bus Network",operatorName:"RedBus"}:{gradient:"bg-gradient-to-r from-green-600 via-blue-600 to-blue-700",icon:"fas fa-bus",tagline:"Safe. Reliable. Comfortable.",operatorName:"BRS Travels"}:G==="train"?_.includes("irctc")||_.includes("indian railways")?{gradient:"bg-gradient-to-r from-orange-600 via-green-600 to-blue-600",icon:"fas fa-train",tagline:"Lifeline of the Nation",operatorName:"Indian Railways"}:_.includes("rajdhani")||_.includes("express")?{gradient:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600",icon:"fas fa-train",tagline:"Premium Express Service",operatorName:"Rajdhani Express"}:{gradient:"bg-gradient-to-r from-orange-600 via-green-600 to-blue-600",icon:"fas fa-train",tagline:"Lifeline of the Nation",operatorName:"Indian Railways"}:G==="car-rental"?_.includes("ola")||_.includes("ola cabs")?{gradient:"bg-gradient-to-r from-green-500 via-lime-500 to-green-600",icon:"fas fa-car",tagline:t.description||"Moving India Forward",operatorName:t.name||"Ola"}:_.includes("uber")?{gradient:"bg-gradient-to-r from-black via-gray-800 to-black",icon:"fas fa-car",tagline:t.description||"Move the way you want",operatorName:t.name||"Uber"}:_.includes("zoomcar")||_.includes("zoom car")?{gradient:"bg-gradient-to-r from-blue-500 via-indigo-500 to-blue-600",icon:"fas fa-car",tagline:t.description||"Self Drive Car Rental",operatorName:t.name||"Zoomcar"}:_.includes("revv")?{gradient:"bg-gradient-to-r from-orange-500 via-red-500 to-orange-600",icon:"fas fa-car",tagline:t.description||"Self Drive Made Easy",operatorName:t.name||"Revv"}:{gradient:t.card_background_color||t.cardBackgroundColor||"bg-gradient-to-r from-green-500 via-lime-500 to-green-600",icon:"fas fa-car",tagline:t.description||`Starting from ${z}`,operatorName:t.name||t.car_type||"Car Rental"}:G==="cruises"?_.includes("stardream")||_.includes("star dream")?{gradient:"bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600",icon:"fas fa-ship",tagline:`Starting from ${z}`,operatorName:"StarDream Cruises"}:_.includes("cordelia")?{gradient:"bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600",icon:"fas fa-ship",tagline:t.description||`Starting from ${z}`,operatorName:t.name||"Cordelia"}:_.includes("royal caribbean")||_.includes("royal")?{gradient:"bg-gradient-to-r from-blue-600 via-navy-600 to-blue-700",icon:"fas fa-ship",tagline:`Starting from ${z}`,operatorName:"Royal Caribbean"}:{gradient:t.card_background_color||t.cardBackgroundColor||"bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600",icon:"fas fa-ship",tagline:t.description||`Starting from ${z}`,operatorName:t.name||t.cruise_line||"Cruise Line"}:G==="hotels"?_.includes("taj")||_.includes("mahal")?{gradient:"bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600",icon:"fas fa-crown",tagline:"Luxury Redefined",operatorName:"Taj Hotels"}:_.includes("marriott")?{gradient:"bg-gradient-to-r from-red-500 via-orange-500 to-red-600",icon:"fas fa-hotel",tagline:"Wonderful Hospitality",operatorName:"Marriott"}:_.includes("hilton")?{gradient:"bg-gradient-to-r from-blue-500 via-indigo-500 to-blue-600",icon:"fas fa-hotel",tagline:"Be Hospitable",operatorName:"Hilton"}:_.includes("itc")||_.includes("grand")?{gradient:"bg-gradient-to-r from-green-500 via-teal-500 to-green-600",icon:"fas fa-crown",tagline:"Responsible Luxury",operatorName:"ITC Hotels"}:{gradient:"bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600",icon:"fas fa-hotel",tagline:"Premium Hospitality",operatorName:String(t.name||"").split(" ")[0]||"Luxury Hotels"}:_.includes("airasia")||_.includes("air asia")?{gradient:"bg-gradient-to-r from-blue-500 via-purple-500 to-purple-600",icon:"fas fa-plane",tagline:"Now Everyone Can Fly",operatorName:"AirAsia"}:_.includes("cathay")||_.includes("pacific")?{gradient:"bg-gradient-to-r from-teal-500 via-green-500 to-green-600",icon:"fas fa-plane",tagline:"Life Well Travelled",operatorName:"Cathay Pacific"}:_.includes("emirates")?{gradient:"bg-gradient-to-r from-red-500 via-red-600 to-orange-600",icon:"fas fa-plane",tagline:"Fly Better",operatorName:"Emirates"}:_.includes("indigo")?{gradient:"bg-gradient-to-r from-indigo-500 via-blue-500 to-blue-600",icon:"fas fa-plane",tagline:"On Time Performance",operatorName:"IndiGo"}:{gradient:"bg-gradient-to-r from-blue-500 via-purple-500 to-purple-600",icon:"fas fa-plane",tagline:"Discover Amazing Deals",operatorName:t.airline||String(t.name||"").split(" - ")[0]||t.name||"Airline"}})(t.name,c);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:`relative ${j.gradient} rounded-2xl p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden block`,style:{minHeight:"140px",minWidth:"350px"},children:[e.jsx("div",{className:"absolute top-0 right-0 opacity-20",children:e.jsx("i",{className:`${j.icon} text-6xl transform rotate-12 translate-x-4 -translate-y-2`})}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between h-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:`${j.icon} text-xl`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",style:w("name"),children:j.operatorName}),e.jsx("p",{className:"text-white text-opacity-90 text-sm font-medium",style:w("tagline"),children:j.tagline})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white text-opacity-80 text-xs",children:[e.jsx("i",{className:"fas fa-star text-yellow-300"}),e.jsx("span",{children:"Premium Service"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-white text-opacity-80 text-xs",children:[e.jsx("i",{className:"fas fa-shield-alt text-green-300"}),e.jsx("span",{children:"Secure Booking"})]})]}),e.jsx("button",{className:"bg-white bg-opacity-20 hover:bg-white hover:text-gray-800 text-white font-semibold py-2 px-4 rounded-full transition-all duration-300 transform hover:scale-105 backdrop-blur-sm border border-white border-opacity-30 hover:border-opacity-0 text-sm",children:"Pick Now"})]})]}),e.jsxs("div",{className:"flex flex-col items-end text-right ml-6",children:[e.jsx("div",{className:"bg-yellow-400 text-gray-900 px-3 py-1 rounded-full text-xs font-bold mb-2 animate-pulse",children:"EXCLUSIVE"}),e.jsxs("div",{className:"text-white mb-2",children:[e.jsx("div",{className:"text-lg font-bold",children:"Starting from"}),e.jsx("div",{className:"text-2xl font-black text-yellow-200",style:w("price"),children:z}),e.jsx("div",{className:"text-xs text-white text-opacity-70",children:"per person"}),pe&&e.jsx("div",{className:"text-sm text-white text-opacity-60 line-through",children:pe}),(t.taxes_amount||t.gst_amount)&&e.jsxs("div",{className:"text-xs text-white text-opacity-80 mt-1",children:["+ ",t.taxes_amount&&`${o(t.currency||"INR")}${t.taxes_amount} taxes`,t.taxes_amount&&t.gst_amount&&" & ",t.gst_amount&&`${o(t.currency||"INR")}${t.gst_amount} GST`,(t.taxes_amount||t.gst_amount)&&" & fees"]})]}),e.jsxs("div",{className:"flex flex-col gap-1 text-xs text-white text-opacity-80",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsx("span",{children:"24/7 Support"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-gift"}),e.jsx("span",{children:"Special Offers"})]})]})]})]})]}),e.jsx(ue,{deal:t,isAdmin:re})]},t.id)}if(c==="cruises"&&n==="standard"){o(t.currency||"INR"),parseFloat(t.price.replace(/,/g,""));let S={},b={};try{t.field_colors&&(S=typeof t.field_colors=="string"?JSON.parse(t.field_colors):t.field_colors),t.field_styles&&(b=typeof t.field_styles=="string"?JSON.parse(t.field_styles):t.field_styles)}catch(R){console.warn("Failed to parse field colors/styles for deal:",t.id,R)}const w=R=>{const Y={};if(S[R]&&(Y.color=S[R]),b[R]){const d=b[R];typeof d=="object"?(d.bold&&(Y.fontWeight="bold"),d.italic&&(Y.fontStyle="italic"),d.underline&&(Y.textDecoration="underline"),d.strikethrough&&(Y.textDecoration="line-through")):(d==="bold"&&(Y.fontWeight="bold"),d==="italic"&&(Y.fontStyle="italic"))}return Y},u=R=>R.toLowerCase().includes("mumbai")?"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=300&fit=crop&auto=format&q=80":R.toLowerCase().includes("australia")?"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=300&fit=crop&auto=format&q=80":R.toLowerCase().includes("singapore")?"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop&auto=format&q=80":R.toLowerCase().includes("kochi")?"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=300&fit=crop&auto=format&q=80",j=t.name||t.arrival||"Mumbai",h=u(j),G=R=>R.toLowerCase().includes("mumbai")?"bg-gradient-to-br from-orange-400 to-pink-500":R.toLowerCase().includes("australia")?"bg-gradient-to-br from-blue-400 to-purple-500":R.toLowerCase().includes("singapore")?"bg-gradient-to-br from-green-400 to-blue-500":R.toLowerCase().includes("kochi")?"bg-gradient-to-br from-teal-400 to-cyan-500":"bg-gradient-to-br from-blue-400 to-purple-500",Q=t.card_background_color||t.cardBackgroundColor||G(j),_=Q.startsWith("from-")?`bg-gradient-to-br ${Q}`:Q;return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 w-full max-w-[400px] relative block",children:[e.jsx("div",{className:"relative h-48 overflow-hidden",children:e.jsx("img",{src:h,alt:`Cruise to ${j}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:R=>{const Y=R.target;Y.src="https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=400&h=300&fit=crop&auto=format&q=80"}})}),e.jsxs("div",{className:`p-4 ${_}`,children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",style:w("name"),children:j}),e.jsxs("p",{className:"text-white/90 text-sm mb-3",style:w("price"),children:["Starting from ",z," per person"]}),e.jsx("div",{className:"h-px bg-white/30 mb-3"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:R=>{R.preventDefault(),R.stopPropagation(),window.open(t.affiliateUrl||t.affiliate_url||"#","_blank")},className:"bg-white bg-opacity-20 hover:bg-white hover:text-gray-800 text-white font-semibold py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105 backdrop-blur-sm border border-white border-opacity-30 hover:border-opacity-0 text-sm z-30 relative",children:"Pick Now"})})]})]},t.id),e.jsx(ue,{deal:t,isAdmin:re})]})}if(c==="hotels"&&n==="standard"){const S=o(t.currency||"INR"),b=parseFloat(t.price.replace(/,/g,""))||0;let w={},u={};try{t.field_colors&&(w=typeof t.field_colors=="string"?JSON.parse(t.field_colors):t.field_colors),t.field_styles&&(u=typeof t.field_styles=="string"?JSON.parse(t.field_styles):t.field_styles)}catch(d){console.warn("Failed to parse field colors/styles for deal:",t.id,d)}const j=d=>{const P={};if(w[d]&&(P.color=w[d]),u[d]){const H=u[d];typeof H=="object"?(H.bold&&(P.fontWeight="bold"),H.italic&&(P.fontStyle="italic"),H.underline&&(P.textDecoration="underline"),H.strikethrough&&(P.textDecoration="line-through")):(H==="bold"&&(P.fontWeight="bold"),H==="italic"&&(P.fontStyle="italic"))}return P},h=d=>d.toLowerCase().includes("resort")||d.toLowerCase().includes("primo")?"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=300&h=200&fit=crop&auto=format&q=80":d.toLowerCase().includes("seashell")||d.toLowerCase().includes("suites")?"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300&h=200&fit=crop&auto=format&q=80":d.toLowerCase().includes("treebo")||d.toLowerCase().includes("business")?"https://images.unsplash.com/photo-1578774204375-8f9d5e6e4e6e?w=300&h=200&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=300&h=200&fit=crop&auto=format&q=80",G=d=>d.toLowerCase().includes("resort")||d.toLowerCase().includes("primo")?"bg-gradient-to-r from-teal-400 to-blue-500":d.toLowerCase().includes("seashell")||d.toLowerCase().includes("suites")?"bg-gradient-to-r from-purple-400 to-pink-500":d.toLowerCase().includes("treebo")||d.toLowerCase().includes("business")?"bg-gradient-to-r from-blue-400 to-indigo-500":"bg-gradient-to-r from-green-400 to-blue-500",Q=t.name||"Hotel",_=t.imageUrl||t.image_url||h(Q),R=t.card_background_color||t.cardBackgroundColor||G(Q),Y=R.startsWith("from-")?`bg-gradient-to-r ${R}`:R;return e.jsxs("div",{className:"group relative",children:[e.jsx("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:`relative ${Y} rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden w-full block`,children:e.jsxs("div",{className:"flex items-center p-4",children:[e.jsxs("div",{className:"relative w-64 h-40 flex-shrink-0 rounded-xl overflow-hidden mr-6",children:[e.jsx("img",{src:_,alt:Q,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",onError:d=>{const P=d.target;P.src="https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=300&h=200&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:"View All"})]}),e.jsxs("div",{className:"flex-1 text-white",children:[t.brand_badge&&e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded mr-2",children:t.brand_badge}),e.jsx("div",{className:"flex items-center",children:e.jsx("i",{className:"fas fa-check-circle text-green-400 mr-1"})})]}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",style:j("name"),children:Q}),e.jsx("div",{className:"flex items-center text-sm text-white/90 mb-2",children:e.jsxs("div",{className:"flex items-center mr-4",children:[[1,2,3,4,5].map(d=>e.jsx("i",{className:`fas fa-star ${d<=(parseInt(String(t.rating||"3"))||3)?"text-yellow-400":"text-white/50"}`},d)),e.jsxs("span",{className:"ml-2 text-xs text-white/70",children:["(",String(t.rating||"4.1"),")"]})]})}),e.jsxs("p",{className:"text-white/90 text-sm mb-2",style:j("location"),children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),t.location||t.city||"Prime Location",t.distance_to_beach&&` | ${t.distance_to_beach}`,t.walk_time&&` | ${t.walk_time}`]}),e.jsx("div",{className:"flex items-center mb-2",children:t.amenities?(typeof t.amenities=="string"?t.amenities.split(","):t.amenities).slice(0,2).map((d,P)=>e.jsx("span",{className:"bg-white/20 text-white text-xs px-2 py-1 rounded mr-2",children:typeof d=="string"?d.trim():d},P)):e.jsx("span",{className:"bg-white/20 text-white text-xs px-2 py-1 rounded mr-2",children:t.hotel_type||"Resort"})}),e.jsxs("p",{className:"text-white/80 text-sm",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),t.description||`${t.hotel_type||"Beautiful"} location with excellent facilities and service`]})]}),e.jsxs("div",{className:"text-right text-white ml-4",children:[e.jsxs("div",{className:"flex items-center justify-end mb-2",children:[e.jsxs("div",{className:"text-right mr-2",children:[e.jsx("div",{className:"text-sm font-medium",children:(()=>{const d=parseFloat(String(t.rating||"4.1"))||4.1;return d>=4.5?"Excellent":d>=4?"Very Good":d>=3.5?"Good":d>=3?"Average":"Fair"})()}),e.jsxs("div",{className:"text-xs text-white/80",children:["(",String(t.reviewCount||t.review_count||"1240")," Ratings)"]})]}),e.jsx("div",{className:`text-white px-2 py-1 rounded text-sm font-bold ${(parseFloat(String(t.rating||"4.1"))||4.1)>=4?"bg-green-600":(parseFloat(String(t.rating||"4.1"))||4.1)>=3.5?"bg-yellow-600":"bg-orange-600"}`,children:String(t.rating||"4.1")})]}),(t.hasLimitedOffer||t.has_limited_offer||t.limitedOfferText||t.limited_offer_text)&&e.jsx("div",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded mb-2 inline-block",children:t.limitedOfferText||t.limited_offer_text||"Limited Time Offer"}),e.jsxs("div",{className:"mb-3",children:[t.original_price&&parseFloat(t.original_price.replace(/,/g,""))>b&&e.jsxs("div",{className:"text-xs text-white/70 line-through",children:[S,parseFloat(t.original_price.replace(/,/g,"")).toLocaleString()]}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[S,b.toLocaleString()]}),(t.taxes_amount||t.gst_amount)&&e.jsxs("div",{className:"text-xs text-white/80",children:["+ ",t.taxes_amount&&`${S}${t.taxes_amount} taxes`,t.taxes_amount&&t.gst_amount&&" & ",t.gst_amount&&`${S}${t.gst_amount} GST`,(t.taxes_amount||t.gst_amount)&&" & fees"]}),e.jsx("div",{className:"text-xs text-white/80",children:"Per Night"})]}),e.jsx("div",{className:"h-px bg-white/30 mb-3 mx-4"}),e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("button",{onClick:d=>{d.preventDefault(),d.stopPropagation(),window.open(t.affiliateUrl||t.affiliate_url||"#","_blank")},className:"bg-white bg-opacity-20 hover:bg-white hover:text-gray-800 text-white font-semibold py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105 backdrop-blur-sm border border-white border-opacity-30 hover:border-opacity-0 text-sm z-30 relative",children:"Pick Now"})})]})]})},t.id),e.jsx(ue,{deal:t,isAdmin:re})]})}if(c==="packages"&&n==="standard"){const S=o(t.currency||"INR"),b=parseFloat(t.price.replace(/,/g,""))||0,u=(j=>{const h=j.toLowerCase();return h.includes("thailand")?{image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-cyan-400/80 to-teal-500/90",accent:"bg-cyan-400",priceColor:"text-cyan-100",nameColor:"text-white",flag:"🇹🇭"}:h.includes("maldives")?{image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-turquoise-500/90 via-blue-400/80 to-indigo-500/90",accent:"bg-turquoise-400",priceColor:"text-turquoise-100",nameColor:"text-white",flag:"🇲🇻"}:h.includes("japan")?{image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-pink-500/90 via-rose-400/80 to-red-500/90",accent:"bg-pink-400",priceColor:"text-pink-100",nameColor:"text-white",flag:"🇯🇵"}:h.includes("bali")?{image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-500/90 via-emerald-400/80 to-teal-500/90",accent:"bg-emerald-400",priceColor:"text-emerald-100",nameColor:"text-white",flag:"🇮🇩"}:h.includes("dubai")?{image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-amber-500/90 via-orange-400/80 to-red-500/90",accent:"bg-amber-400",priceColor:"text-amber-100",nameColor:"text-white",flag:"🇦🇪"}:h.includes("vietnam")?{image:"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-indigo-500/90 via-purple-400/80 to-pink-500/90",accent:"bg-indigo-400",priceColor:"text-indigo-100",nameColor:"text-white",flag:"🇻🇳"}:h.includes("europe")?{image:"https://images.unsplash.com/photo-1467269204594-9661b134dd2b?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-violet-500/90 via-purple-400/80 to-indigo-500/90",accent:"bg-violet-400",priceColor:"text-violet-100",nameColor:"text-white",flag:"🇪🇺"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-indigo-400/80 to-purple-500/90",accent:"bg-blue-400",priceColor:"text-blue-100",nameColor:"text-white",flag:"🌍"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block min-w-[320px] h-[280px] rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-700 transform hover:scale-[1.02] hover:-translate-y-1",children:[e.jsx("img",{src:u.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110",onError:j=>{const h=j.target;h.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${u.gradient} transition-opacity duration-700 group-hover:opacity-95`}),e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-white/30 group-hover:border-white/60 transition-all duration-700"}),e.jsx("div",{className:"absolute top-4 right-4 transform transition-all duration-500 group-hover:scale-110",children:e.jsxs("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg backdrop-blur-sm border border-white/20",children:[e.jsx("i",{className:"fas fa-globe-americas mr-1"}),"INTERNATIONAL"]})}),e.jsx("div",{className:"absolute top-4 left-4 text-3xl transform transition-all duration-500 group-hover:scale-125 group-hover:rotate-12",children:u.flag}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsxs("h3",{className:`text-3xl font-black ${u.nameColor} mb-3 transform transition-all duration-500 group-hover:translate-y-[-8px] group-hover:scale-105`,children:[t.name,e.jsx("div",{className:"w-0 h-1 bg-white rounded-full transition-all duration-700 group-hover:w-24 mt-2"})]}),e.jsxs("div",{className:"transform transition-all duration-500 group-hover:translate-y-[-4px]",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("span",{className:"text-sm text-white/70 font-medium",children:"Starting at"}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsxs("span",{className:`text-4xl font-black ${u.priceColor} drop-shadow-lg`,children:[S,b.toLocaleString()]}),e.jsx("span",{className:"text-lg text-white/80 ml-1",children:"Per person"})]})]}),t.flight_price&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"text-sm text-white/80",children:["+ ",S,parseFloat(String(t.flight_price)).toLocaleString()," with ",t.flight_route||"flights"]}),e.jsxs("div",{className:"text-xs text-white/60",children:["Total: ",S,(b+parseFloat(String(t.flight_price))).toLocaleString()," with flights"]})]}),e.jsx("div",{className:`w-0 h-0.5 ${u.accent} rounded-full transition-all duration-700 group-hover:w-32`})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0 mt-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"bg-white/20 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-medium",children:[e.jsx("i",{className:"fas fa-clock mr-1"}),"Limited Time"]}),e.jsxs("span",{className:"bg-white/20 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-medium",children:[e.jsx("i",{className:"fas fa-percentage mr-1"}),"30% OFF"]})]})})]}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-10 group-hover:opacity-20 transition-opacity duration-500",children:e.jsx("div",{className:`w-full h-full ${u.accent} rounded-full blur-xl`})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0 border-l-[60px] border-l-transparent border-b-[60px] border-b-white/10 group-hover:border-b-white/20 transition-all duration-500"})]},t.id),e.jsx(ue,{deal:t,isAdmin:re})]})}if(["flights","bus","train"].includes(c)&&n==="standard"){const S=o(t.currency||"INR"),b=parseFloat(t.price.replace(/,/g,""))||0,w=t.departureTime||t.departure_time||"",u=t.arrivalTime||t.arrival_time||"",j=t.departure&&t.arrival?`${(ge=(Fe=t.departure)==null?void 0:Fe.split("(")[0])==null?void 0:ge.trim()} → ${(Be=(Ee=t.arrival)==null?void 0:Ee.split("(")[0])==null?void 0:Be.trim()}`:"",h=t.duration||"",G=d=>d!=null&&d.toLowerCase().includes("indigo")?"from-blue-400 to-blue-500":d!=null&&d.toLowerCase().includes("spicejet")?"from-red-400 to-red-500":d!=null&&d.toLowerCase().includes("vistara")?"from-purple-400 to-purple-500":d!=null&&d.toLowerCase().includes("american")?"from-red-400 to-red-500":d!=null&&d.toLowerCase().includes("delta")?"from-blue-400 to-blue-500":d!=null&&d.toLowerCase().includes("united")?"from-purple-400 to-purple-500":"from-orange-400 to-orange-500",Q=t.card_background_color||t.cardBackgroundColor||G(t.airline||t.name);let _={},R={};try{t.field_colors&&(_=typeof t.field_colors=="string"?JSON.parse(t.field_colors):t.field_colors),t.field_styles&&(R=typeof t.field_styles=="string"?JSON.parse(t.field_styles):t.field_styles)}catch(d){console.warn("Failed to parse field colors/styles for deal:",t.id,d)}const Y=d=>{const P={};if(_[d]&&(P.color=_[d]),R[d]){const H=R[d];typeof H=="object"?(H.bold&&(P.fontWeight="bold"),H.italic&&(P.fontStyle="italic"),H.underline&&(P.textDecoration="underline"),H.strikethrough&&(P.textDecoration="line-through")):(H==="bold"&&(P.fontWeight="bold"),H==="italic"&&(P.fontStyle="italic"))}return P};return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:`relative bg-gradient-to-r ${Q} rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden border border-white border-opacity-10 block`,style:{minHeight:"180px",maxWidth:"400px"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),e.jsx("div",{className:"absolute top-4 right-4 text-6xl text-white/10",children:e.jsx("i",{className:`fas ${(()=>{switch(c){case"bus":return"fa-bus";case"train":return"fa-train";default:return"fa-plane"}})()}`})}),e.jsxs("div",{className:"relative z-10 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"w-20 h-14 bg-white/10 backdrop-blur-sm rounded-lg flex items-center justify-center flex-shrink-0 border border-white/20",children:[e.jsx("img",{src:(()=>{if(c==="bus"){const d=["https://images.unsplash.com/photo-1570125909232-eb263c188f7e?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=64&h=48&fit=crop&auto=format&q=80"],P=Math.abs(t.id.toString().charCodeAt(0))%d.length;return d[P]}else if(c==="train"){const d=["https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1570125909232-eb263c188f7e?w=64&h=48&fit=crop&auto=format&q=80"],P=Math.abs(t.id.toString().charCodeAt(0))%d.length;return d[P]}else{const d=["https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1556388158-158ea5ccacbd?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=64&h=48&fit=crop&auto=format&q=80","https://images.unsplash.com/photo-1569154941061-e231b4725ef1?w=64&h=48&fit=crop&auto=format&q=80"],P=Math.abs(t.id.toString().charCodeAt(0))%d.length;return d[P]}})(),alt:(()=>{switch(c){case"bus":return"Bus";case"train":return"Train";default:return"Flight"}})(),className:"w-full h-full object-cover rounded-md",onError:d=>{const P=d.target;P.style.display="none",P.nextElementSibling.classList.remove("hidden")}}),e.jsx("i",{className:`fas ${(()=>{switch(c){case"bus":return"fa-bus";case"train":return"fa-train";default:return"fa-plane"}})()} text-xl text-white/80 hidden`})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-200",children:(()=>{switch(c){case"flights":case"bus":case"train":return w||"--:--";case"hotels":return t.rating||"--";case"cruises":return t.duration||"--";case"tours":return t.group_size||t.groupSize||"--";case"packages":return t.duration||"--";case"car-rental":return t.fuel_type||t.fuelType||"--";default:return"--"}})()}),e.jsx("div",{className:"text-xs text-white/60 uppercase tracking-wide",style:Y("departure"),children:(()=>{var d,P,H;switch(c){case"flights":case"bus":case"train":{const Se=(P=(d=t.departure)==null?void 0:d.match(/\(([^)]+)\)/))==null?void 0:P[1];if(Se)return Se;const _e=(H=t.departure)==null?void 0:H.trim();return _e?_e.substring(0,3).toUpperCase():"DEP"}case"hotels":return"RATING";case"cruises":return"DURATION";case"tours":return"GROUP";case"packages":return"DURATION";case"car-rental":return"FUEL";default:return"INFO"}})()})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("div",{className:"h-px bg-white/40 flex-1"}),e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:`fas ${(()=>{switch(c){case"bus":return"fa-bus";case"train":return"fa-train";case"hotels":return"fa-bed";case"cruises":return"fa-ship";case"tours":return"fa-map-marked-alt";case"packages":return"fa-suitcase";case"car-rental":return"fa-car";default:return"fa-plane"}})()} text-xs text-white`})}),e.jsx("div",{className:"h-px bg-white/40 flex-1"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-200",children:(()=>{switch(c){case"flights":case"bus":case"train":return u||"--:--";case"hotels":return t.cancellation?"FREE":"PAID";case"cruises":return t.ports?"MULTI":"SINGLE";case"tours":return t.inclusions?"FULL":"BASIC";case"packages":return t.inclusions?"FULL":"BASIC";case"car-rental":return t.transmission||"--";default:return"--"}})()}),e.jsx("div",{className:"text-xs text-white/60 uppercase tracking-wide",style:Y("arrival"),children:(()=>{var d,P,H;switch(c){case"flights":case"bus":case"train":{const Se=(P=(d=t.arrival)==null?void 0:d.match(/\(([^)]+)\)/))==null?void 0:P[1];if(Se)return Se;const _e=(H=t.arrival)==null?void 0:H.trim();return _e?_e.substring(0,3).toUpperCase():"ARR"}case"hotels":return"CANCEL";case"cruises":return"PORTS";case"tours":return"PACKAGE";case"packages":return"PACKAGE";case"car-rental":return"TRANS";default:return"INFO"}})()})]})]})]}),e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsxs("div",{className:"flex items-center gap-6 text-white/70",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("i",{className:`fas ${(()=>{switch(c){case"hotels":return"fa-map-marker-alt";case"cruises":return"fa-ship";case"tours":return"fa-map-marked-alt";case"packages":return"fa-suitcase";case"car-rental":return"fa-car";default:return"fa-map-marker-alt"}})()} text-xs text-blue-300`}),e.jsx("span",{className:"text-blue-200",style:Y("route"),children:(()=>{switch(c){case"flights":return j||t.name;case"hotels":return t.location||t.name;case"cruises":return t.route||t.name;case"tours":return t.destinations||t.name;case"bus":return j||t.name;case"train":return j||t.name;case"packages":return t.destinations||t.location||t.name;case"car-rental":return t.location||t.name;default:return t.name}})()})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("i",{className:`fas ${(()=>{switch(c){case"hotels":return"fa-star";case"cruises":return"fa-bed";case"tours":return"fa-users";case"packages":return"fa-calendar";case"car-rental":return"fa-cog";default:return"fa-clock"}})()} text-xs text-green-300`}),e.jsx("span",{className:"text-green-200",style:Y("duration"),children:(()=>{switch(c){case"flights":return h;case"hotels":return t.hotel_type||t.hotelType;case"cruises":return t.cabin_type||t.cabinType;case"tours":return t.tour_type||t.tourType;case"bus":return t.bus_type||t.busType;case"train":return t.train_type||t.trainType;case"packages":return t.package_type||t.packageType;case"car-rental":return t.car_type||t.carType;default:return""}})()})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm font-semibold text-white",style:Y("name"),children:(()=>{switch(c){case"flights":return t.airline||t.name;case"hotels":return t.name;case"cruises":return t.cruise_line||t.cruiseLine||t.name;case"tours":return t.name;case"bus":return t.operator||t.name;case"train":return t.train_operator||t.trainOperator||t.name;case"packages":return t.name;case"car-rental":return t.name;default:return t.name}})()}),(()=>{const d=(()=>{switch(c){case"flights":return t.flight_class;case"hotels":return t.room_type;case"cruises":return t.cabin_type;case"tours":return t.difficulty;case"bus":return t.bus_type;case"train":return t.train_type;case"packages":return t.package_type;case"car-rental":return t.car_type;default:return null}})();return d?e.jsx("div",{className:"px-2 py-1 bg-white/20 rounded-full text-xs text-white font-medium",children:d}):null})()]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-white",style:Y("price"),children:["Starting from ",S,b.toLocaleString()]}),t.flight_price&&e.jsxs("div",{className:"text-xs text-white/80 mt-1",children:["+ ",S,parseFloat(String(t.flight_price)).toLocaleString()," with ",t.flight_route||"flights"]}),t.flight_price&&e.jsxs("div",{className:"text-xs text-white/60 mt-1",children:["Total: ",S,(b+parseFloat(String(t.flight_price))).toLocaleString()," with flights"]}),e.jsx("div",{className:"text-xs text-white/70",children:"per person"})]})]}),e.jsx("div",{className:"h-px bg-white/30 mb-2"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:d=>{d.preventDefault(),d.stopPropagation(),window.open(t.affiliateUrl||t.affiliate_url||"#","_blank")},className:"bg-white bg-opacity-20 hover:bg-white hover:text-gray-800 text-white font-semibold py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105 backdrop-blur-sm border border-white border-opacity-30 hover:border-opacity-0 text-sm z-30 relative",children:"Pick Now"})})]})]},t.id),e.jsx(ue,{deal:t,isAdmin:re})]})}if(c==="packages"&&n==="destinations"){const S=o(t.currency||"INR"),b=parseFloat(t.price.replace(/,/g,""))||0,u=(j=>{const h=j.toLowerCase();return h.includes("thailand")?{image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-cyan-400/80 to-teal-500/90",accent:"bg-cyan-400",priceColor:"text-cyan-100",nameColor:"text-white",flag:"🇹🇭"}:h.includes("maldives")?{image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-turquoise-500/90 via-blue-400/80 to-indigo-500/90",accent:"bg-turquoise-400",priceColor:"text-turquoise-100",nameColor:"text-white",flag:"🇲🇻"}:h.includes("japan")?{image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-pink-500/90 via-rose-400/80 to-red-500/90",accent:"bg-pink-400",priceColor:"text-pink-100",nameColor:"text-white",flag:"🇯🇵"}:h.includes("bali")?{image:"https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-500/90 via-emerald-400/80 to-teal-500/90",accent:"bg-emerald-400",priceColor:"text-emerald-100",nameColor:"text-white",flag:"🇮🇩"}:h.includes("dubai")?{image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-amber-500/90 via-orange-400/80 to-red-500/90",accent:"bg-amber-400",priceColor:"text-amber-100",nameColor:"text-white",flag:"🇦🇪"}:h.includes("vietnam")?{image:"https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-indigo-500/90 via-purple-400/80 to-pink-500/90",accent:"bg-indigo-400",priceColor:"text-indigo-100",nameColor:"text-white",flag:"🇻🇳"}:h.includes("europe")?{image:"https://images.unsplash.com/photo-1467269204594-9661b134dd2b?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-violet-500/90 via-purple-400/80 to-indigo-500/90",accent:"bg-violet-400",priceColor:"text-violet-100",nameColor:"text-white",flag:"🇪🇺"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-500/90 via-indigo-400/80 to-purple-500/90",accent:"bg-blue-400",priceColor:"text-blue-100",nameColor:"text-white",flag:"🌍"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block min-w-[320px] h-[280px] rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-700 transform hover:scale-[1.02] hover:-translate-y-1",children:[e.jsx("img",{src:u.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110",onError:j=>{const h=j.target;h.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${u.gradient} transition-opacity duration-700 group-hover:opacity-95`}),e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-white/30 group-hover:border-white/60 transition-all duration-700"}),e.jsx("div",{className:"absolute top-4 right-4 transform transition-all duration-500 group-hover:scale-110",children:e.jsxs("div",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg backdrop-blur-sm border border-white/20",children:[e.jsx("i",{className:"fas fa-passport mr-1"}),"VISA FREE"]})}),e.jsx("div",{className:"absolute top-4 left-4 text-3xl transform transition-all duration-500 group-hover:scale-125 group-hover:rotate-12",children:u.flag}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsxs("h3",{className:`text-3xl font-black ${u.nameColor} mb-3 transform transition-all duration-500 group-hover:translate-y-[-8px] group-hover:scale-105`,children:[t.name,e.jsx("div",{className:"w-0 h-1 bg-white rounded-full transition-all duration-700 group-hover:w-24 mt-2"})]}),e.jsxs("div",{className:"transform transition-all duration-500 group-hover:translate-y-[-4px]",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsx("span",{className:"text-sm text-white/70 font-medium",children:"Starting at"}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsxs("span",{className:`text-4xl font-black ${u.priceColor} drop-shadow-lg`,children:[S,b.toLocaleString()]}),e.jsx("span",{className:"text-lg text-white/80 ml-1",children:"Per person"})]})]}),e.jsx("div",{className:`w-0 h-0.5 ${u.accent} rounded-full transition-all duration-700 group-hover:w-32`})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0 mt-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"bg-white/20 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-medium",children:[e.jsx("i",{className:"fas fa-clock mr-1"}),"Limited Time"]}),e.jsxs("span",{className:"bg-white/20 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-medium",children:[e.jsx("i",{className:"fas fa-percentage mr-1"}),"30% OFF"]})]})})]}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-10 group-hover:opacity-20 transition-opacity duration-500",children:e.jsx("div",{className:`w-full h-full ${u.accent} rounded-full blur-xl`})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0 border-l-[60px] border-l-transparent border-b-[60px] border-b-white/10 group-hover:border-b-white/20 transition-all duration-500"})]},t.id),e.jsx(ue,{deal:t,isAdmin:re})]})}if(c==="packages"&&n==="special"){const S=o(t.currency||"INR"),b=parseFloat(t.price.replace(/,/g,""))||0,u=(j=>{const h=j.toLowerCase();return h.includes("goa")?{image:"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-red-600/90 via-orange-500/80 to-yellow-500/90",accent:"bg-red-500",priceColor:"text-yellow-100",nameColor:"text-white",urgencyColor:"bg-red-500"}:h.includes("kerala")?{image:"https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-orange-600/90 via-red-500/80 to-pink-500/90",accent:"bg-orange-500",priceColor:"text-pink-100",nameColor:"text-white",urgencyColor:"bg-orange-500"}:h.includes("rajasthan")?{image:"https://images.unsplash.com/photo-1477587458883-47145ed94245?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-pink-600/90 via-purple-500/80 to-indigo-500/90",accent:"bg-pink-500",priceColor:"text-indigo-100",nameColor:"text-white",urgencyColor:"bg-pink-500"}:h.includes("himachal")?{image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-blue-600/90 via-indigo-500/80 to-purple-500/90",accent:"bg-blue-500",priceColor:"text-purple-100",nameColor:"text-white",urgencyColor:"bg-blue-500"}:h.includes("kashmir")?{image:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-green-600/90 via-teal-500/80 to-cyan-500/90",accent:"bg-green-500",priceColor:"text-cyan-100",nameColor:"text-white",urgencyColor:"bg-green-500"}:{image:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80",gradient:"from-red-600/90 via-orange-500/80 to-yellow-500/90",accent:"bg-red-500",priceColor:"text-yellow-100",nameColor:"text-white",urgencyColor:"bg-red-500"}})(t.name);return e.jsxs("div",{className:"group relative",children:[e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"relative block w-full max-w-[400px] h-[300px] rounded-2xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:scale-[1.03] hover:-translate-y-2",children:[e.jsx("img",{src:u.image,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:j=>{const h=j.target;h.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=400&h=300&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${u.gradient} transition-opacity duration-500 group-hover:opacity-95`}),e.jsx("div",{className:"absolute inset-0 rounded-2xl border-2 border-red-400/50 group-hover:border-red-300/70 transition-all duration-500"}),e.jsx("div",{className:"absolute top-4 right-4 transform transition-all duration-300 group-hover:scale-110 animate-bounce",children:e.jsxs("div",{className:`${u.urgencyColor} text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg backdrop-blur-sm border border-white/20`,children:[e.jsx("i",{className:"fas fa-clock mr-1"}),"ENDING SOON!"]})}),e.jsx("div",{className:"absolute top-4 left-4 text-3xl transform transition-all duration-300 group-hover:scale-125 animate-spin",children:"⏰"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsxs("h3",{className:`text-3xl font-black ${u.nameColor} mb-3 transform transition-all duration-500 group-hover:translate-y-[-8px] group-hover:scale-105`,children:[t.name,e.jsx("div",{className:"w-0 h-1 bg-red-400 rounded-full transition-all duration-500 group-hover:w-24 mt-2 animate-pulse"})]}),e.jsxs("div",{className:"transform transition-all duration-500 group-hover:translate-y-[-4px]",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsxs("span",{className:"text-sm text-white/70 font-medium line-through",children:["Was ₹",(b*1.4).toLocaleString()]}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsxs("span",{className:`text-4xl font-black ${u.priceColor} drop-shadow-lg animate-pulse`,children:[S,b.toLocaleString()]}),e.jsx("span",{className:"text-lg text-white/80 ml-1",children:"Per person"})]})]}),e.jsx("div",{className:`w-0 h-0.5 ${u.accent} rounded-full transition-all duration-500 group-hover:w-32 animate-pulse`})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0 mt-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"bg-red-500/80 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-bold animate-pulse",children:[e.jsx("i",{className:"fas fa-fire mr-1"}),"HOT DEAL"]}),e.jsxs("span",{className:"bg-orange-500/80 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm font-bold",children:[e.jsx("i",{className:"fas fa-percentage mr-1"}),"60% OFF"]})]})})]}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-20 group-hover:opacity-30 transition-opacity duration-500",children:e.jsx("div",{className:`w-full h-full ${u.accent} rounded-full blur-xl animate-pulse`})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0 border-l-[60px] border-l-transparent border-b-[60px] border-b-red-400/20 group-hover:border-b-red-300/30 transition-all duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-red-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"})]},t.id),e.jsx(ue,{deal:t,isAdmin:re})]})}if(c==="packages"&&n==="cities"){o(t.currency||"INR"),parseFloat(t.price.replace(/,/g,""));const b=(u=>u.toLowerCase().includes("kashmir")?"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=150&h=150&fit=crop&auto=format&q=80":u.toLowerCase().includes("thailand")?"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=150&h=150&fit=crop&auto=format&q=80":u.toLowerCase().includes("dubai")?"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=150&h=150&fit=crop&auto=format&q=80":u.toLowerCase().includes("singapore")?"https://images.unsplash.com/photo-1525625293386-3f8f99389edd?w=150&h=150&fit=crop&auto=format&q=80":u.toLowerCase().includes("paris")?"https://images.unsplash.com/photo-1502602898536-47ad22581b52?w=150&h=150&fit=crop&auto=format&q=80":u.toLowerCase().includes("london")?"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=150&h=150&fit=crop&auto=format&q=80":u.toLowerCase().includes("tokyo")?"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=150&h=150&fit=crop&auto=format&q=80":u.toLowerCase().includes("new york")?"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=150&h=150&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=150&h=150&fit=crop&auto=format&q=80")(t.name),w=t.name.replace(" Packages","");return e.jsxs("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center transition-all duration-300 transform hover:scale-105",children:[e.jsxs("div",{className:"relative mb-1",children:[e.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden shadow-lg group-hover:shadow-xl transition-shadow duration-300 ring-4 ring-teal-100 group-hover:ring-teal-200",children:e.jsx("img",{src:b,alt:w,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:u=>{const j=u.target;j.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=150&h=150&fit=crop&auto=format&q=80"}})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-teal-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("i",{className:"fas fa-map-marker-alt text-white text-xs"})}),e.jsx("button",{onClick:u=>{u.preventDefault(),u.stopPropagation(),I(t)},className:"absolute -top-1 -right-1 w-6 h-6 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-red-50 transition-colors duration-200",children:e.jsx("i",{className:`fas fa-heart text-xs ${y.some(u=>u.id===t.id)?"text-red-500":"text-gray-400"}`})}),!re&&e.jsx("div",{className:"absolute -top-1 -left-1",children:e.jsx(we,{product:{id:t.id,name:t.name,description:t.description,price:t.price,imageUrl:t.imageUrl||t.image_url,category:t.category,affiliateUrl:t.affiliateUrl||t.affiliate_url},className:"w-6 h-6 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg flex items-center justify-center transition-colors duration-200",buttonText:"",showIcon:!0})})]}),e.jsx("div",{className:"text-center",children:e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-teal-600 transition-colors duration-200",children:w})})]},t.id)}if(n==="destinations"){Math.round(je(parseFloat(((Re=t.price)==null?void 0:Re.replace(/,/g,""))||"0")||0,t.currency||"INR",ne));const b=(j=>{const h=String(j||"").toLowerCase();return c==="hotels"?h.includes("goa")?"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=200&h=200&fit=crop&auto=format&q=80":h.includes("mumbai")?"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=200&h=200&fit=crop&auto=format&q=80":h.includes("delhi")?"https://images.unsplash.com/photo-1578774204375-8f9d5e6e4e6e?w=200&h=200&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=200&h=200&fit=crop&auto=format&q=80":h.includes("goa")?"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=200&h=200&fit=crop&auto=format&q=80":h.includes("kerala")?"https://images.unsplash.com/photo-1602216056096-3b40cc0c9944?w=200&h=200&fit=crop&auto=format&q=80":h.includes("rajasthan")?"https://images.unsplash.com/photo-1477587458883-47145ed94245?w=200&h=200&fit=crop&auto=format&q=80":"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=200&h=200&fit=crop&auto=format&q=80"})(t.name||t.route||"");let w="",u="";if(c==="hotels")w=t.name||t.location||t.city||"Hotels",u=w;else{const j=((Ie=t.route)==null?void 0:Ie.split("→"))||[t.departure||"Pune",t.arrival||"Goa"],h=((Oe=j[0])==null?void 0:Oe.trim())||t.departure||"Pune",G=((qe=j[1])==null?void 0:qe.trim())||t.arrival||"Goa";w=`${h} → ${G}`,u=`${h} to ${G}`}return e.jsxs("div",{className:"group relative",children:[e.jsxs("div",{className:"text-center min-w-[280px] relative",children:[e.jsx("a",{href:t.affiliateUrl||t.affiliate_url||"#",target:"_blank",rel:"noopener noreferrer",className:"block w-32 h-32 mx-auto mb-4 relative hover:scale-105 transition-transform duration-300",children:e.jsx("div",{className:"w-full h-full rounded-full border-4 border-white overflow-hidden shadow-lg",children:e.jsx("img",{src:b,alt:u,className:"w-full h-full object-cover",onError:j=>{const h=j.target;h.src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=200&h=200&fit=crop&auto=format&q=80"}})})}),e.jsx("div",{className:"mb-4",children:c==="hotels"?e.jsx("h3",{className:"text-white text-lg font-semibold",children:w}):e.jsxs("h3",{className:"text-white text-lg font-semibold flex items-center justify-center gap-2",children:[e.jsx("span",{children:w.split(" → ")[0]}),e.jsx("i",{className:"fas fa-arrow-right text-orange-400 text-sm"}),e.jsx("span",{children:w.split(" → ")[1]})]})})]},t.id),e.jsx(ue,{deal:t,isAdmin:re})]})}return e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:t.location||t.description}),e.jsx("div",{className:"text-xl font-bold text-red-600 mb-4",children:z}),e.jsx("div",{className:"text-sm text-gray-500",children:"New UI Card Coming Soon"})]})},t.id)},I=t=>{y.some(B=>B.id===t.id)?(D(t.id),l({title:"Removed from Wishlist",description:`${t.name} has been removed from your wishlist.`})):(f({id:t.id,name:t.name,description:t.description||"",price:t.price,imageUrl:t.imageUrl||t.image_url||"",category:t.category||"Travel",affiliateUrl:t.affiliateUrl||t.affiliate_url||""}),l({title:"Added to Wishlist",description:`${t.name} has been added to your wishlist.`}))},E=async(t=!1)=>{try{const n=t?`Are you sure you want to delete ALL ${c} items? This action cannot be undone.`:`Are you sure you want to delete ${L.length} selected items? This action cannot be undone.`;if(!window.confirm(n))return;if(t){const B=await fetch("/api/admin/travel-products/bulk-delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025",category:c})});if(!B.ok){const m=await B.json().catch(()=>({message:"Unknown error"}));throw new Error(m.message||"Failed to delete all items")}const a=await B.json();l({title:"Success",description:`All ${c} deleted successfully. Removed ${a.deletedCount} items.`})}else{if(L.length===0){l({title:"Error",description:"No items selected for deletion.",variant:"destructive"});return}for(const B of L)await Ge("travel",B);l({title:"Success",description:`${L.length} items deleted successfully.`})}r([]),s(!1),await tt(v)}catch(n){console.error("Delete error:",n),l({title:"Error",description:n instanceof Error?n.message:"Failed to delete items. Please try again.",variant:"destructive"})}},K=()=>{N(!1),p(null)},He=async()=>{if(J)try{l({title:"Success",description:`${J.name} shared successfully!`})}catch{l({title:"Error",description:"Failed to share. Please try again.",variant:"destructive"})}K()},Ve=async t=>{try{const n={name:t.name,description:t.description||"",price:t.price||"0",original_price:t.originalPrice||null,currency:t.currency||"INR",image_url:t.imageUrl||"",affiliate_url:t.affiliateUrl||"",category:t.category,section_type:t.sectionType||"standard",airline:t.airline||null,departure:t.departure||null,arrival:t.arrival||null,departure_time:t.departureTime||t.departure_time||null,arrival_time:t.arrivalTime||t.arrival_time||null,duration:t.duration||null,flight_class:t.flightClass||t.flight_class||null,stops:t.stops||null,route_type:t.routeType||t.route_type||"domestic",location:t.location||null,hotel_type:t.hotelType||null,room_type:t.roomType||null,amenities:t.amenities||null,rating:t.rating||null,cancellation:t.cancellation||null,destinations:t.destinations||null,inclusions:t.inclusions||null,tour_type:t.tourType||null,group_size:t.groupSize||null,difficulty:t.difficulty||null,cruise_line:t.cruiseLine||null,route:t.route||null,cabin_type:t.cabinType||null,ports:t.ports||null,operator:t.operator||null,bus_type:t.busType||null,train_operator:t.trainOperator||null,train_type:t.trainType||null,train_number:t.trainNumber||null,package_type:t.packageType||null,valid_till:t.validTill||null,car_type:t.carType||null,features:t.features||null,fuel_type:t.fuelType||null,transmission:t.transmission||null,custom_section_title:t.customSectionTitle||null,custom_section_description:t.customSectionDescription||null,taxes_amount:t.taxesAmount||null,gst_amount:t.gstAmount||null,brand_badge:t.brandBadge||null,flight_price:t.flightPrice||null,flight_route:t.flightRoute||null,flight_details:t.flightDetails||null,card_background_color:t.cardBackgroundColor||"from-orange-400 to-orange-500",field_colors:JSON.stringify(t.fieldColors||{}),field_styles:JSON.stringify(t.fieldStyles||{}),is_featured:t.sectionType==="featured"?1:0,is_active:1,display_order:0,source:"admin_form"},B=await fetch("/api/admin/travel-products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!B.ok)throw new Error("Failed to save travel deal");const a=await B.json();gt(),l({title:"Success",description:`${t.name} added successfully to database!`}),W(!1)}catch(n){console.error("Error saving travel deal:",n),l({title:"Error",description:"Failed to save travel deal. Please try again.",variant:"destructive"})}},[re,It]=g.useState(!1);g.useEffect(()=>{const t=localStorage.getItem("pickntrust-admin-session");It(t==="active"||window.location.hostname==="localhost")},[]);const{data:Je,isLoading:Ot,error:qt,refetch:gt}=Ae({queryKey:["travel-products",c],queryFn:async()=>{const t=await fetch(`/api/travel-products/${c}`);if(!t.ok)throw new Error("Failed to fetch travel products");return t.json()},enabled:!!c,staleTime:5*60*1e3,retry:2}),{data:ht=[]}=Ae({queryKey:["/api/travel-categories"],queryFn:async()=>{const t=await fetch("/api/travel-categories");if(!t.ok)return[];const n=await t.json();return Array.isArray(n)?n:[]},staleTime:60*1e3,refetchOnWindowFocus:!1}),ft=g.useMemo(()=>ht.filter(t=>t&&t.isActive).sort((t,n)=>(t.displayOrder??0)-(n.displayOrder??0)),[ht]),Ne=g.useMemo(()=>{const t=ft.map(n=>n.slug).filter(Boolean);return t.length>0?t:Object.keys(Nt)},[ft]);g.useEffect(()=>{if(Ne.length>0&&!Ne.includes(c)){const t=Ne.includes("flights")?"flights":Ne[0];M(t)}},[Ne]);const ye=g.useMemo(()=>{if(!Je||Je.length===0)return[];let t=Je;const[n,B]=(()=>{if(!V||V==="all")return[0,1/0];if(V.includes("-")){const[m,U]=V.split("-"),le=parseFloat(m),z=parseFloat(U);return[isNaN(le)?0:le,isNaN(z)?1/0:z]}const a=parseFloat(V);return[isNaN(a)?0:a,1/0]})();return t=t.filter(a=>{const m=(()=>{const le=typeof a.price=="string"?a.price:String(a.price||"0"),z=parseFloat(le.replace(/,/g,""));return isNaN(z)?0:z})(),U=je(m,a.currency||"INR",ne);return U>=n&&U<=B}),t.map(a=>{let m={};if(a.travel_type||a.travelType)try{m=JSON.parse(a.travel_type||a.travelType||"{}")}catch{console.warn("Failed to parse travel_type data for deal:",a.id)}try{if(a.tags){const ge=typeof a.tags=="string"?JSON.parse(a.tags):a.tags;m={...m,...ge||{}}}}catch(ge){console.warn("Failed to parse tags JSON for deal:",a.id,ge)}const U={...a,...m,price:typeof a.price=="string"?a.price:a.price!=null?String(a.price):"",original_price:typeof a.original_price=="string"?a.original_price:a.original_price!=null?String(a.original_price):a.originalPrice!=null?String(a.originalPrice):"",currency:a.currency||"INR",sectionType:m.section_type||a.section_type||a.sectionType||"standard",originalPrice:a.original_price||a.originalPrice,imageUrl:a.image_url||a.imageUrl,affiliateUrl:a.affiliate_url||a.affiliateUrl,reviewCount:a.review_count||a.reviewCount,isFeatured:a.is_featured||a.isFeatured,isNew:a.is_new||a.isNew,limitedOfferText:a.limited_offer_text||a.limitedOfferText,hasLimitedOffer:a.has_limited_offer||a.hasLimitedOffer,routeType:m.route_type||a.route_type||a.routeType,travelType:a.travel_type||a.travelType,flightClass:m.flight_class||a.flight_class||a.flightClass,departureTime:m.departure_time||a.departure_time||a.departureTime,arrivalTime:m.arrival_time||a.arrival_time||a.arrivalTime,flightPrice:m.flight_price||a.flight_price||a.flightPrice,flightRoute:m.flight_route||a.flight_route||a.flightRoute,flightDetails:m.flight_details||a.flight_details||a.flightDetails,hotelType:m.hotel_type||a.hotel_type||a.hotelType,roomType:m.room_type||a.room_type||a.roomType,tourType:m.tour_type||a.tour_type||a.tourType,groupSize:m.group_size||a.group_size||a.groupSize,cruiseLine:m.cruise_line||a.cruise_line||a.cruiseLine,cabinType:m.cabin_type||a.cabin_type||a.cabinType,busType:m.bus_type||a.bus_type||a.busType,trainOperator:m.train_operator||a.train_operator||a.trainOperator,trainType:m.train_type||a.train_type||a.trainType,trainNumber:m.train_number||a.train_number||a.trainNumber,packageType:m.package_type||a.package_type||a.packageType,validTill:m.valid_till||a.valid_till||a.validTill,carType:m.car_type||a.car_type||a.carType,fuelType:m.fuel_type||a.fuel_type||a.fuelType,taxesAmount:m.taxes_amount||a.taxes_amount||a.taxesAmount,gstAmount:m.gst_amount||a.gst_amount||a.gstAmount,brandBadge:m.brand_badge||a.brand_badge||a.brandBadge,customSectionTitle:m.custom_section_title||a.custom_section_title||a.customSectionTitle,customSectionDescription:m.custom_section_description||a.custom_section_description||a.customSectionDescription,cardBackgroundColor:m.card_background_color||a.card_background_color||a.cardBackgroundColor,fieldColors:m.field_colors||a.field_colors||a.fieldColors,fieldStyles:m.field_styles||a.field_styles||a.fieldStyles,isActive:a.is_active||a.isActive,displayOrder:a.display_order||a.displayOrder,createdAt:a.created_at||a.createdAt,updatedAt:a.updated_at||a.updatedAt};let le={},z={};try{U.field_colors&&typeof U.field_colors=="string"?le=JSON.parse(U.field_colors):U.field_colors&&(le=U.field_colors),U.field_styles&&typeof U.field_styles=="string"?z=JSON.parse(U.field_styles):U.field_styles&&(z=U.field_styles)}catch(ge){console.warn("Failed to parse nested field colors/styles for deal:",U.id,ge)}const pe=typeof U.price=="string"?U.price:U.price!=null?String(U.price):"",$e=pe&&parseFloat(pe.replace(/,/g,""))||0,Te=typeof U.originalPrice=="string"?U.originalPrice:U.originalPrice!=null?String(U.originalPrice):"",Fe=Te&&parseFloat(Te.replace(/,/g,""))||0;return{...U,field_colors:le,field_styles:z,displayPrice:je($e,U.currency,ne),displayOriginalPrice:Te?je(Fe,U.currency,ne):null}})},[Je,c,ne,je,V]),ke=Nt[c]||{sections:[],hasFilter:!1},Mt=ke.sections.length>0,Gt=!1,Pe=g.useMemo(()=>{if(!ye||ye.length===0)return{trending:[],featured:[],standard:[],destinations:[],special:[],cities:[]};const t={trending:[],featured:[],standard:[],destinations:[],special:[],cities:[]};return ye.forEach(B=>{const a=B.sectionType||"standard";t[a]?t[a].push(B):t.standard.push(B)}),(ke.sections||[]).map(B=>B.type).length>0,t},[ye,ke]),xt=g.useMemo(()=>{if(!ke.hasFilter)return[];const t=Object.values(Pe).flat(),n=new Set(["all"]),B=t.length>0;return t.forEach(a=>{if(["flights","bus","train","packages"].includes(c)&&a.routeType&&n.add(a.routeType),c==="hotels"){if(a.hotelType){const m=a.hotelType.toLowerCase();["luxury","budget"].includes(m)&&n.add(m)}if(a.rating){const m=parseFloat(String(a.rating));m>=3&&m<4?n.add("3-star"):m>=4&&m<5?n.add("4-star"):m>=5&&n.add("5-star")}}if(c==="tours"&&a.tourType&&n.add(a.tourType.toLowerCase()),c==="cruises"&&a.cruiseType&&n.add(a.cruiseType.toLowerCase()),c==="bus"&&a.busType){const m=a.busType.toLowerCase();m.includes("ac")&&n.add("ac"),m.includes("non-ac")&&n.add("non-ac"),m.includes("sleeper")&&n.add("sleeper"),m.includes("seater")&&n.add("seater")}if(c==="train"&&a.trainClass){const m=a.trainClass.toLowerCase();m.includes("ac")&&n.add("ac"),m.includes("sleeper")&&n.add("sleeper"),m.includes("3ac")&&n.add("3ac"),m.includes("2ac")&&n.add("2ac"),m.includes("1ac")&&n.add("1ac")}c==="car-rental"&&a.carType&&n.add(a.carType.toLowerCase())}),n.size===1&&B&&(ke.filterOptions||[]).forEach(m=>n.add(m)),Array.from(n)},[Pe,c,ke]);ke.hasFilter&&i!=="all"&&Object.keys(Pe).forEach(t=>{c==="flights"&&t==="destinations"||c==="packages"&&(t==="destinations"||t==="cities")||(Pe[t]=Pe[t].filter(n=>{var B,a,m,U,le,z,pe,$e,Te,Fe,ge,Ee,Be,Re,Ie,Oe,qe,S,b,w,u,j,h,G,Q,_,R,Y,d,P,H,Se,_e;if(c==="flights")return n.routeType===i;if(c==="bus"){if(i==="domestic"||i==="international"){if(n.routeType)return n.routeType===i;const x=((B=n.name)==null?void 0:B.toLowerCase())||"",$=((a=n.description)==null?void 0:a.toLowerCase())||"";if(i==="domestic")return x.includes("domestic")||$.includes("domestic")||x.includes("delhi")||x.includes("mumbai")||x.includes("bangalore")||x.includes("chennai")||x.includes("kolkata")||x.includes("pune");if(i==="international")return x.includes("international")||$.includes("international")||x.includes("dubai")||x.includes("singapore")||x.includes("london")||x.includes("paris")||x.includes("tokyo")||x.includes("new york")}if(i==="ac")return(m=n.busType)==null?void 0:m.toLowerCase().includes("ac");if(i==="non-ac")return(U=n.busType)==null?void 0:U.toLowerCase().includes("non-ac");if(i==="sleeper")return(le=n.busType)==null?void 0:le.toLowerCase().includes("sleeper");if(i==="seater")return(z=n.busType)==null?void 0:z.toLowerCase().includes("seater")}else if(c==="train"){if(i==="domestic"||i==="international"){if(n.routeType)return n.routeType===i;const x=((pe=n.name)==null?void 0:pe.toLowerCase())||"",$=(($e=n.description)==null?void 0:$e.toLowerCase())||"";if(i==="domestic")return x.includes("domestic")||$.includes("domestic")||x.includes("delhi")||x.includes("mumbai")||x.includes("bangalore")||x.includes("chennai")||x.includes("kolkata")||x.includes("pune");if(i==="international")return x.includes("international")||$.includes("international")||x.includes("dubai")||x.includes("singapore")||x.includes("london")||x.includes("paris")||x.includes("tokyo")||x.includes("new york")}if(i==="ac")return((Te=n.flightClass)==null?void 0:Te.toLowerCase().includes("ac"))||((Fe=n.trainClass)==null?void 0:Fe.toLowerCase().includes("ac"));if(i==="sleeper")return((ge=n.flightClass)==null?void 0:ge.toLowerCase().includes("sleeper"))||((Ee=n.trainClass)==null?void 0:Ee.toLowerCase().includes("sleeper"));if(i==="3ac")return((Be=n.flightClass)==null?void 0:Be.toLowerCase().includes("3ac"))||((Re=n.trainClass)==null?void 0:Re.toLowerCase().includes("3ac"));if(i==="2ac")return((Ie=n.flightClass)==null?void 0:Ie.toLowerCase().includes("2ac"))||((Oe=n.trainClass)==null?void 0:Oe.toLowerCase().includes("2ac"));if(i==="1ac")return((qe=n.flightClass)==null?void 0:qe.toLowerCase().includes("1ac"))||((S=n.trainClass)==null?void 0:S.toLowerCase().includes("1ac"))}else if(c==="hotels"){const x=((b=n.name)==null?void 0:b.toLowerCase())||"",$=((w=n.description)==null?void 0:w.toLowerCase())||"",q=((u=n.hotelType)==null?void 0:u.toLowerCase())||"";if(i==="luxury")return x.includes("luxury")||$.includes("luxury")||q.includes("luxury");if(i==="budget")return x.includes("budget")||$.includes("budget")||q.includes("budget");if(i==="3-star")return x.includes("3 star")||$.includes("3 star")||q.includes("3");if(i==="4-star")return x.includes("4 star")||$.includes("4 star")||q.includes("4");if(i==="5-star")return x.includes("5 star")||$.includes("5 star")||q.includes("5")}else if(c==="car-rental"){const x=((j=n.name)==null?void 0:j.toLowerCase())||"",$=((h=n.description)==null?void 0:h.toLowerCase())||"",q=((G=n.carType)==null?void 0:G.toLowerCase())||"";if(i==="economy")return x.includes("economy")||$.includes("economy")||q.includes("economy");if(i==="compact")return x.includes("compact")||$.includes("compact")||q.includes("compact");if(i==="suv")return x.includes("suv")||$.includes("suv")||q.includes("suv");if(i==="luxury")return x.includes("luxury")||$.includes("luxury")||q.includes("luxury");if(i==="premium")return x.includes("premium")||$.includes("premium")||q.includes("premium")}else if(c==="tours"){const x=((Q=n.name)==null?void 0:Q.toLowerCase())||"",$=((_=n.description)==null?void 0:_.toLowerCase())||"",q=((R=n.tourType)==null?void 0:R.toLowerCase())||"";if(i==="adventure")return x.includes("adventure")||$.includes("adventure")||q.includes("adventure");if(i==="cultural")return x.includes("cultural")||$.includes("cultural")||q.includes("cultural");if(i==="wildlife")return x.includes("wildlife")||$.includes("wildlife")||q.includes("wildlife");if(i==="beach")return x.includes("beach")||$.includes("beach")||q.includes("beach");if(i==="mountain")return x.includes("mountain")||$.includes("mountain")||q.includes("mountain")}else if(c==="cruises"){const x=((Y=n.name)==null?void 0:Y.toLowerCase())||"",$=((d=n.description)==null?void 0:d.toLowerCase())||"",q=((P=n.cruiseType)==null?void 0:P.toLowerCase())||"";if(i==="luxury")return x.includes("luxury")||$.includes("luxury")||q.includes("luxury");if(i==="family")return x.includes("family")||$.includes("family")||q.includes("family");if(i==="expedition")return x.includes("expedition")||$.includes("expedition")||q.includes("expedition");if(i==="river")return x.includes("river")||$.includes("river")||q.includes("river");if(i==="ocean")return x.includes("ocean")||$.includes("ocean")||q.includes("ocean")}else if(c==="packages"){const x=((H=n.name)==null?void 0:H.toLowerCase())||"",$=((Se=n.description)==null?void 0:Se.toLowerCase())||"",q=((_e=n.packageType)==null?void 0:_e.toLowerCase())||"";if(i==="domestic"||i==="international")return n.routeType===i||x.includes(i)||$.includes(i)||q.includes(i);if(i==="honeymoon")return x.includes("honeymoon")||$.includes("honeymoon")||q.includes("honeymoon");if(i==="family")return x.includes("family")||$.includes("family")||q.includes("family");if(i==="adventure")return x.includes("adventure")||$.includes("adventure")||q.includes("adventure")}return!0}))});const Wt=t=>{he(n=>({...n,[t]:!n[t]}))},zt=t=>{k(n=>({...n,[t]:!n[t]}))},Ht=t=>{const n=Pe[t.type]||[],B=se[t.id],a=be[t.id],m=a?n:n.slice(0,8);return n.length===0?null:e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${t.color} flex items-center justify-center text-white`,children:e.jsx("i",{className:t.icon})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n.length>8&&e.jsx("button",{onClick:()=>zt(t.id),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-colors",children:a?"Show Less":`Show All (${n.length})`}),e.jsx("button",{onClick:()=>Wt(t.id),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("i",{className:`fas fa-chevron-${B?"down":"up"} text-gray-500`})})]})]}),!B&&e.jsx("div",{className:`grid ${t.type==="featured"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6":t.type==="standard"?c==="cruises"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":c==="hotels"?"gap-6":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":t.type==="destinations"?c==="packages"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":t.type==="special"?"grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":t.type==="cities"?"grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6":"grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6"}`,style:(()=>{if(t.type==="standard"&&c==="hotels")return{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(600px, 1fr))",gap:"1.5rem",width:"100%"}})(),children:m.map(U=>e.jsx("div",{children:O(U,t.type)},U.id))})]},t.id)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-indigo-900/20",children:[e.jsx(Jt,{}),e.jsx(ve,{page:"travel-picks",position:"header-top",className:"w-full"}),e.jsx(Kt,{}),e.jsx(ut,{page:"travel-picks"}),e.jsxs("div",{className:"md:hidden px-4 pt-3",children:[e.jsxs(ae,{onClick:()=>ze(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx("i",{className:"fas fa-sliders-h mr-2"})," Filters"]}),e.jsx(Yt,{open:rt,onOpenChange:ze,children:e.jsxs(Xt,{side:"left",className:"w-[85vw] sm:w-[22rem]",children:[e.jsx(Zt,{children:e.jsx(er,{children:"Filters"})}),e.jsx("div",{className:"mt-4",children:e.jsx(yt,{showCurrency:!0,showPriceRange:!0,showCategories:!0,categorySelectionMode:"single",availableCategories:Ne,selectedCategory:c,setSelectedCategory:t=>M(t||Ne[0]||"flights"),selectedCurrency:ne,setSelectedCurrency:t=>{t&&t!=="all"&&De(t)},priceRange:V,setPriceRange:t=>Z(t),resultsCount:ye.length})})]})})]}),e.jsx(ve,{page:"travel-picks",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsx(Cr,{selectedCategory:c,onCategoryChange:M,isAdmin:re,categoryCount:ye.length})}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(yt,{showCurrency:!0,showPriceRange:!0,showCategories:!0,categorySelectionMode:"single",availableCategories:Ne,selectedCategory:c,setSelectedCategory:t=>M(t||Ne[0]||"flights"),selectedCurrency:ne,setSelectedCurrency:t=>{t&&t!=="all"&&De(t)},priceRange:V,setPriceRange:t=>Z(t),resultsCount:ye.length})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[c.charAt(0).toUpperCase()+c.slice(1)," (",ye.length,")"]}),e.jsx("div",{className:"flex items-center gap-2",children:!re&&e.jsx(we,{product:{id:`travel-${c}`,name:`${c.charAt(0).toUpperCase()+c.slice(1)} Travel Deals`,description:`Discover amazing ${c} deals and offers`,price:"",imageUrl:"",category:c,affiliateUrl:window.location.href},className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg transition-all duration-200",buttonText:"",showIcon:!0})}),re&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{Ce(c),W(!0)},className:"p-2 rounded-full bg-green-50 text-green-600 hover:bg-green-100 transition-colors",title:`Add ${c} content`,children:e.jsx("i",{className:"fas fa-plus text-sm"})}),e.jsx("button",{onClick:()=>s(!te),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Bulk delete options",children:e.jsx("i",{className:"fas fa-trash text-sm"})}),te&&e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border rounded-lg px-3 py-2 shadow-sm",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[L.length," selected"]}),e.jsx("button",{onClick:()=>E(!1),disabled:L.length===0,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50",children:"Delete Selected"}),e.jsxs("button",{onClick:()=>E(!0),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:["Delete All ",c]}),e.jsx("button",{onClick:()=>{r([]),s(!1)},className:"px-2 py-1 text-gray-500 hover:text-gray-700",children:e.jsx("i",{className:"fas fa-times"})})]})]})]})}),Mt?e.jsxs("div",{className:"space-y-8",children:[ke.hasFilter&&xt.length>1&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter by:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:xt.map(t=>{const n=(B,a)=>B==="all"?`All ${a.charAt(0).toUpperCase()+a.slice(1)}`:{"non-ac":"Non-AC","3ac":"3AC","2ac":"2AC","1ac":"1AC","3-star":"3 Star","4-star":"4 Star","5-star":"5 Star"}[B]||B.charAt(0).toUpperCase()+B.slice(1);return e.jsx("button",{onClick:()=>F(t),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${i===t?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300"}`,children:n(t,c)},t)})})]}),ke.sections.map(t=>Ht(t))]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ye.length>0?ye.map(t=>O(t,"standard")):null})]})]}),e.jsx(pt,{page:"travel-picks",title:"Travel Videos"}),e.jsx(Qt,{}),e.jsx(mt,{}),e.jsx(kt,{isOpen:A,onClose:K,onConfirm:He,productName:(J==null?void 0:J.name)||"",platforms:st}),e.jsx(Fr,{isOpen:C,onClose:()=>W(!1),category:de,onSubmit:Ve}),Ot&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 flex items-center space-x-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:"Loading travel deals..."})]})}),qt&&e.jsx("div",{className:"fixed bottom-4 left-4 bg-red-500 text-white p-4 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("span",{children:"Failed to load travel deals"}),e.jsx("button",{onClick:()=>gt(),className:"ml-2 px-2 py-1 bg-red-600 hover:bg-red-700 rounded text-sm",children:"Retry"})]})})]})}const Wr=Object.freeze(Object.defineProperty({__proto__:null,default:Pr},Symbol.toStringTag,{value:"Module"})),Lr=[{id:"brands",title:"Airlines & Brand Promotions",icon:"fas fa-plane-departure",color:"from-blue-500 to-blue-600",description:"Featured airlines with exclusive offers - AirAsia, Cathay Pacific, IndiGo and more",type:"brands"},{id:"search",title:"Flight Search Results",icon:"fas fa-search",color:"from-purple-500 to-purple-600",description:"Compare flight prices, timings, and book the best deals",type:"search"},{id:"destinations",title:"Browse by Destinations",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore popular destinations and cities worldwide",type:"destinations"}];function Ar(){const[l,y]=g.useState(!1),[f,D]=g.useState({}),[T,v]=g.useState({}),[c,M]=g.useState("all"),{toast:i}=Ue(),{addToWishlist:F,removeFromWishlist:V,isInWishlist:Z}=et(),ce=Ze();g.useEffect(()=>{const r=localStorage.getItem("pickntrust-admin-session");y(r==="active")},[]),g.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:ie=[]}=Ae({queryKey:["travel-products"],queryFn:async()=>{const r=await fetch("/api/products/page/travel-picks");if(!r.ok)throw new Error("Failed to fetch flight deals");return r.json()},staleTime:5*60*1e3}),me=Me({mutationFn:r=>Ge(r,void 0,"pickntrust2025"),onSuccess:()=>{tt(ce),i({title:"Flight Deal Deleted",description:"Flight deal has been deleted successfully."})},onError:r=>{i({title:"Delete Failed",description:r.message||"Failed to delete flight deal",variant:"destructive"})}}),ee=r=>{confirm("Are you sure you want to delete this flight deal?")&&me.mutate(`travel_picks_${r}`)},se=r=>{Z(r.id)?(V(r.id),i({title:"Removed from wishlist",description:`${r.name} removed from your wishlist`})):(F({id:r.id,name:r.name,price:r.price,imageUrl:r.imageUrl||r.image_url||"",affiliateUrl:r.affiliateUrl||r.affiliate_url||""}),i({title:"Added to wishlist",description:`${r.name} added to your wishlist`}))},be=ie?(r=>{const A={brands:[],search:[],destinations:[]};return r.forEach(N=>{var J,p,C,W;if(!(c!=="all"&&(N.routeType||((J=N.route)!=null&&J.toLowerCase().includes("delhi")||(p=N.route)!=null&&p.toLowerCase().includes("mumbai")||(C=N.route)!=null&&C.toLowerCase().includes("bangalore")||(W=N.route)!=null&&W.toLowerCase().includes("chennai")?"domestic":"international"))!==c))if(N.flightType)A[N.flightType].push(N);else{const de=N.name.toLowerCase(),Ce=(N.description||"").toLowerCase(),fe=(N.airline||"").toLowerCase();fe.includes("airasia")||fe.includes("cathay")||fe.includes("indigo")||fe.includes("emirates")||fe.includes("qatar")||de.includes("airline")||Ce.includes("brand")||Ce.includes("exclusive")?A.brands.push(N):N.route&&N.departure&&N.arrival?A.search.push(N):N.city||N.location||de.includes("goa")||de.includes("delhi")||de.includes("mumbai")||de.includes("dubai")||de.includes("singapore")?A.destinations.push(N):A.search.push(N)}}),A})(ie):{brands:[],search:[],destinations:[]},k=r=>{D(A=>({...A,[r]:!A[r]}))},te=r=>{v(A=>({...A,[r]:!A[r]}))},s=(r,A)=>{const N=Z(r.id);return A==="brands"?e.jsx(St,{pageId:"flights",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:r.imageUrl||r.image_url||"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=100&h=60&fit=crop",alt:r.airline||"Flight",className:"w-12 h-8 object-cover rounded"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:r.route||r.name}),e.jsx("p",{className:"text-xs text-gray-500",children:r.airline||"Multiple Airlines"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["₹",r.price]}),r.originalPrice&&e.jsxs("div",{className:"text-xs text-gray-500 line-through",children:["₹",r.originalPrice]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-3",children:[e.jsxs("span",{children:[r.departure||"06:00"," - ",r.arrival||"08:30"]}),e.jsx("span",{children:r.duration||"2h 30m"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>se(r),className:`p-1.5 rounded-full transition-colors ${N?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-xs"})}),l&&e.jsx(Le,{product:{id:r.id,name:r.name,description:r.description||"",price:r.price,imageUrl:r.imageUrl||r.image_url||"",category:"Flights",affiliateUrl:r.affiliateUrl||r.affiliate_url||""},contentType:"product",className:"p-1.5 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!l&&e.jsx(we,{product:{id:r.id,name:r.name,description:r.description||"",price:r.price,imageUrl:r.imageUrl||r.image_url||"",category:"Flights",affiliateUrl:r.affiliateUrl||r.affiliate_url||""},className:"p-1.5 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),l&&e.jsx("button",{onClick:()=>ee(r.id),className:"p-1.5 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-xs"})})]}),e.jsx("button",{onClick:()=>window.open(r.affiliateUrl||r.affiliate_url,"_blank"),className:"px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Book Now"})]})]},r.id)}):A==="search"?e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.imageUrl||r.image_url||"https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=400&h=200&fit=crop",alt:r.name,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:e.jsx("button",{onClick:()=>se(r),className:`p-2 rounded-full transition-colors ${N?"bg-red-500 text-white":"bg-white/80 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-sm"})})}),r.discount&&e.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-bold",children:[r.discount,"% OFF"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:r.name}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xl font-bold text-purple-600",children:["₹",r.price]}),r.originalPrice&&e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["₹",r.originalPrice]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:r.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 mb-3",children:[e.jsxs("div",{children:[e.jsx("i",{className:"fas fa-plane mr-1"}),r.airline||"Multiple Airlines"]}),e.jsxs("div",{children:[e.jsx("i",{className:"fas fa-clock mr-1"}),r.duration||"Various"]}),e.jsxs("div",{children:[e.jsx("i",{className:"fas fa-route mr-1"}),r.route||"Multiple Routes"]}),e.jsxs("div",{children:[e.jsx("i",{className:"fas fa-calendar mr-1"}),r.validTill||"Limited Time"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[l&&e.jsx(Le,{product:{id:r.id,name:r.name,description:r.description||"",price:r.price,imageUrl:r.imageUrl||r.image_url||"",category:"Flights",affiliateUrl:r.affiliateUrl||r.affiliate_url||""},contentType:"product",className:"p-2 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!l&&e.jsx(we,{product:{id:r.id,name:r.name,description:r.description||"",price:r.price,imageUrl:r.imageUrl||r.image_url||"",category:"Flights",affiliateUrl:r.affiliateUrl||r.affiliate_url||""},className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),l&&e.jsx("button",{onClick:()=>ee(r.id),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]}),e.jsx("button",{onClick:()=>window.open(r.affiliateUrl||r.affiliate_url,"_blank"),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:"Book Flight"})]})]})]},r.id):e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-700 rounded-lg p-4 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:[e.jsx("i",{className:"fas fa-fire mr-1"}),"HOT DEAL"]}),r.validTill&&e.jsxs("div",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs",children:["Valid till ",r.validTill]})]}),e.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white mb-1",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:r.description})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["₹",r.price]}),r.originalPrice&&e.jsxs("div",{className:"text-lg text-gray-500 line-through",children:["₹",r.originalPrice]}),r.discount&&e.jsxs("div",{className:"text-sm font-bold text-green-600",children:["Save ",r.discount,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>se(r),className:`p-2 rounded-full transition-colors ${N?"bg-red-500 text-white":"bg-white text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-sm"})}),l&&e.jsx(Le,{product:{id:r.id,name:r.name,description:r.description||"",price:r.price,imageUrl:r.imageUrl||r.image_url||"",category:"Flights",affiliateUrl:r.affiliateUrl||r.affiliate_url||""},contentType:"product",className:"p-2 rounded-full bg-green-100 text-green-600 hover:bg-green-200",buttonText:"",showIcon:!0}),!l&&e.jsx(we,{product:{id:r.id,name:r.name,description:r.description||"",price:r.price,imageUrl:r.imageUrl||r.image_url||"",category:"Flights",affiliateUrl:r.affiliateUrl||r.affiliate_url||""},className:"p-2 rounded-full bg-white text-gray-600 hover:bg-gray-100",buttonText:"",showIcon:!0}),l&&e.jsx("button",{onClick:()=>ee(r.id),className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]}),e.jsxs("button",{onClick:()=>window.open(r.affiliateUrl||r.affiliate_url,"_blank"),className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors animate-pulse",children:[e.jsx("i",{className:"fas fa-bolt mr-2"}),"Grab Deal"]})]})]},r.id)},L=r=>{const A=be[r.type]||[];if(A.length===0)return null;const N=f[r.id]!==!1,J=T[r.id]||!1,p=6,C=J?A:A.slice(0,p),W=A.length>p;return e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${r.color} text-white`,children:e.jsx("i",{className:`${r.icon} text-xl`})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.title," (",A.length,")"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.description})]})]}),e.jsx("button",{onClick:()=>k(r.id),className:"p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx("i",{className:`fas fa-chevron-${N?"up":"down"}`})})]}),N&&e.jsxs("div",{children:[e.jsx("div",{className:`grid gap-4 mb-4 ${r.type==="brands"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":r.type==="search"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"}`,children:C.map(de=>s(de,r.type))}),W&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>te(r.id),className:`px-6 py-3 bg-gradient-to-r ${r.color} text-white rounded-lg hover:shadow-lg transition-all`,children:J?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-up mr-2"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-down mr-2"}),"Show ",A.length-p," More Flights"]})})})]})]},r.id)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(ve,{page:"flights",position:"header-top",className:"w-full"}),e.jsx(ut,{page:"flights"}),e.jsx(ve,{page:"flights",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing",children:e.jsx("main",{className:"pt-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[e.jsx("i",{className:"fas fa-plane mr-3 text-blue-600"}),"Flight Deals & Bookings"]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-3xl mx-auto mb-6",children:"Discover amazing flight deals for domestic and international travel. Compare prices, find the best routes, and book your next adventure with confidence."}),e.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[e.jsxs("button",{onClick:()=>M("all"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${c==="all"?"bg-blue-600 text-white shadow-lg":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[e.jsx("i",{className:"fas fa-globe mr-2"}),"All Flights"]}),e.jsxs("button",{onClick:()=>M("domestic"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${c==="domestic"?"bg-green-600 text-white shadow-lg":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-2"}),"Domestic"]}),e.jsxs("button",{onClick:()=>M("international"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${c==="international"?"bg-purple-600 text-white shadow-lg":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[e.jsx("i",{className:"fas fa-plane-departure mr-2"}),"International"]})]})]}),e.jsx("div",{className:"space-y-8",children:Lr.map(r=>L(r))}),(!ie||ie.length===0)&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl text-gray-300 dark:text-gray-600 mb-4",children:e.jsx("i",{className:"fas fa-plane"})}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"No Flight Deals Available"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 mb-6",children:"Flight deals will appear here when added. Check back soon for amazing offers!"}),l&&e.jsxs(Ct,{href:"/admin",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Add Flight Deals"]})]})]})})}),e.jsx(pt,{page:"flights",title:"Flight Travel Videos"}),e.jsx(ve,{page:"flights",position:"footer-top"}),e.jsx(ve,{page:"flights",position:"footer-bottom"}),e.jsx(mt,{})]})}const zr=Object.freeze(Object.defineProperty({__proto__:null,default:Ar},Symbol.toStringTag,{value:"Module"})),Ur=[{id:"featured",title:"Featured Hotels & Premium Stays",icon:"fas fa-crown",color:"from-purple-500 to-purple-600",description:"Luxury hotels, top-rated properties, and exclusive deals with detailed information",type:"featured"},{id:"standard",title:"Quick Browse Hotels",icon:"fas fa-th-large",color:"from-blue-500 to-blue-600",description:"Compare hotels quickly with compact cards - perfect for budget and standard stays",type:"standard"},{id:"destination",title:"Browse by Destination",icon:"fas fa-map-marked-alt",color:"from-green-500 to-green-600",description:"Explore hotels by popular destinations and cities worldwide",type:"destination"}];function Dr(){const[l,y]=g.useState(!1),[f,D]=g.useState({}),[T,v]=g.useState({}),{toast:c}=Ue(),{addToWishlist:M,removeFromWishlist:i,isInWishlist:F}=et(),V=Ze();g.useEffect(()=>{const s=localStorage.getItem("pickntrust-admin-session");y(s==="active")},[]),g.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:Z=[]}=Ae({queryKey:["travel-products"],queryFn:async()=>{const s=await fetch("/api/products/page/travel-picks");if(!s.ok)throw new Error("Failed to fetch hotel deals");return s.json()},staleTime:5*60*1e3}),ce=Me({mutationFn:s=>Ge(s,void 0,"pickntrust2025"),onSuccess:()=>{tt(V),c({title:"Hotel Deal Deleted",description:"Hotel deal has been deleted successfully."})},onError:s=>{c({title:"Delete Failed",description:s.message||"Failed to delete hotel deal",variant:"destructive"})}}),ie=s=>{confirm("Are you sure you want to delete this hotel deal?")&&ce.mutate(`travel_picks_${s}`)},me=s=>{F(s.id)?(i(s.id),c({title:"Removed from wishlist",description:`${s.name} removed from your wishlist`})):(M({id:s.id,name:s.name,price:s.price,imageUrl:s.imageUrl||s.image_url||"",affiliateUrl:s.affiliateUrl||s.affiliate_url||""}),c({title:"Added to wishlist",description:`${s.name} added to your wishlist`}))},se=Z?(s=>{const L={featured:[],standard:[],destination:[]};return s.forEach(r=>{if(r.hotelType)L[r.hotelType].push(r);else{const A=r.name.toLowerCase(),N=(r.description||"").toLowerCase(),J=parseFloat(r.rating||"0"),p=parseFloat(r.price||"0");r.isFeatured||J>=4.5||p>=5e3||A.includes("luxury")||A.includes("premium")||N.includes("5 star")||N.includes("resort")?L.featured.push(r):r.city||r.location||A.includes("goa")||A.includes("delhi")||A.includes("mumbai")||A.includes("bangalore")||A.includes("dubai")?L.destination.push(r):L.standard.push(r)}}),L})(Z):{featured:[],standard:[],destination:[]},he=s=>{D(L=>({...L,[s]:!L[s]}))},be=s=>{v(L=>({...L,[s]:!L[s]}))},k=(s,L)=>{const r=F(s.id);return L==="featured"?e.jsx(St,{pageId:"hotels",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.imageUrl||s.image_url||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=600&h=300&fit=crop",alt:s.name,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-3 right-3 flex gap-2",children:e.jsx("button",{onClick:()=>me(s),className:`p-2 rounded-full transition-colors ${r?"bg-red-500 text-white":"bg-white/90 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-sm"})})}),s.discount&&e.jsxs("div",{className:"absolute top-3 left-3 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[s.discount,"% OFF"]}),s.isFeatured&&e.jsxs("div",{className:"absolute bottom-3 left-3 bg-purple-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[e.jsx("i",{className:"fas fa-crown mr-1"}),"FEATURED"]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:s.name}),e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-2",children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),s.location||s.city||"Prime Location"]}),s.rating&&e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"bg-blue-600 text-white px-2 py-1 rounded text-sm font-bold",children:s.rating}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Very Good (",s.reviewCount||"1365"," Ratings)"]})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[s.originalPrice&&e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["₹",s.originalPrice]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["₹",s.price]}),e.jsx("div",{className:"text-xs text-gray-500",children:"+ taxes & fees"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Per Night"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:s.description||"Located near prime attractions, vibrant ambiance with clean rooms, friendly staff and great food"}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx("i",{className:"fas fa-check mr-1"}),"Free Cancellation"]}),e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx("i",{className:"fas fa-check mr-1"}),"Book with ₹0 Payment"]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[l&&e.jsx(Le,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Hotels",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},contentType:"product",className:"p-2 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!l&&e.jsx(we,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Hotels",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),l&&e.jsx("button",{onClick:()=>ie(s.id),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]}),e.jsx("button",{onClick:()=>window.open(s.affiliateUrl||s.affiliate_url,"_blank"),className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Login to Book Now & Pay Later!"})]})]})]},s.id)}):L==="standard"?e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.imageUrl||s.image_url||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300&h=200&fit=crop",alt:s.name,className:"w-full h-32 object-cover"}),e.jsx("button",{onClick:()=>me(s),className:`absolute top-2 right-2 p-1.5 rounded-full transition-colors ${r?"bg-red-500 text-white":"bg-white/80 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-xs"})}),s.discount&&e.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-bold",children:[s.discount,"% OFF"]})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 text-sm line-clamp-1",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:s.location||s.city||"Prime Location"}),s.rating&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx("div",{className:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-xs font-bold",children:s.rating}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.reviewCount||"100",")"]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["₹",s.price]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Per Night"})]}),s.originalPrice&&e.jsxs("div",{className:"text-xs text-gray-500 line-through",children:["₹",s.originalPrice]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-1",children:[l&&e.jsx(Le,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Hotels",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},contentType:"product",className:"p-1.5 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!l&&e.jsx(we,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Hotels",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},className:"p-1.5 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),l&&e.jsx("button",{onClick:()=>ie(s.id),className:"p-1.5 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-xs"})})]}),e.jsx("button",{onClick:()=>window.open(s.affiliateUrl||s.affiliate_url,"_blank"),className:"px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Book Now"})]})]})]},s.id):e.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:s.imageUrl||s.image_url||"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=80&h=80&fit=crop",alt:s.city||s.location||s.name,className:"w-16 h-16 rounded-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:s.city||s.location||s.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:s.description||`Hotels, Budget Hotels, Resorts, Best Hotels, ${s.location||"Prime Location"}`})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["₹",s.price]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Per Night"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{onClick:()=>me(s),className:`p-2 rounded-full transition-colors ${r?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-red-50 hover:text-red-500"}`,children:e.jsx("i",{className:"fas fa-heart text-sm"})}),l&&e.jsx(Le,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Hotels",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},contentType:"product",className:"p-2 rounded-full bg-green-50 text-green-600 hover:bg-green-100",buttonText:"",showIcon:!0}),!l&&e.jsx(we,{product:{id:s.id,name:s.name,description:s.description||"",price:s.price,imageUrl:s.imageUrl||s.image_url||"",category:"Hotels",affiliateUrl:s.affiliateUrl||s.affiliate_url||""},className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",buttonText:"",showIcon:!0}),l&&e.jsx("button",{onClick:()=>ie(s.id),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]})]})},s.id)},te=s=>{const L=se[s.type]||[];if(L.length===0)return null;const r=f[s.id]!==!1,A=T[s.id]||!1,N=s.type==="featured"?3:s.type==="standard"?6:4,J=A?L:L.slice(0,N),p=L.length>N;return e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-4 rounded-xl bg-gradient-to-r ${s.color} text-white shadow-lg`,children:e.jsx("i",{className:`${s.icon} text-2xl`})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[s.title," (",L.length,")"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:s.description})]})]}),e.jsx("button",{onClick:()=>he(s.id),className:"p-3 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e.jsx("i",{className:`fas fa-chevron-${r?"up":"down"} text-lg`})})]}),r&&e.jsxs("div",{children:[e.jsx("div",{className:`grid gap-6 mb-6 ${s.type==="featured"?"grid-cols-1":s.type==="standard"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:J.map(C=>k(C,s.type))}),p&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>be(s.id),className:`px-8 py-4 bg-gradient-to-r ${s.color} text-white rounded-xl hover:shadow-lg transition-all font-semibold`,children:A?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-up mr-2"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-chevron-down mr-2"}),"Show ",L.length-N," More Hotels"]})})})]})]},s.id)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(ve,{page:"hotels",position:"header-top",className:"w-full"}),e.jsx(ut,{page:"hotels"}),e.jsx(ve,{page:"hotels",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing",children:e.jsx("main",{className:"pt-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-5xl font-bold text-gray-900 dark:text-white mb-6",children:[e.jsx("i",{className:"fas fa-bed mr-4 text-purple-600"}),"Hotel Deals & Bookings"]}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-4xl mx-auto",children:"Discover amazing hotel deals from luxury resorts to budget stays. Compare prices, read reviews, and book your perfect accommodation with confidence."})]}),e.jsx("div",{className:"space-y-12",children:Ur.map(s=>te(s))}),(!Z||Z.length===0)&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"text-8xl text-gray-300 dark:text-gray-600 mb-6",children:e.jsx("i",{className:"fas fa-bed"})}),e.jsx("h3",{className:"text-3xl font-semibold text-gray-600 dark:text-gray-400 mb-4",children:"No Hotel Deals Available"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 mb-8 text-lg",children:"Hotel deals will appear here when added. Check back soon for amazing accommodation offers!"}),l&&e.jsxs(Ct,{href:"/admin",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors text-lg font-semibold",children:[e.jsx("i",{className:"fas fa-plus mr-3"}),"Add Hotel Deals"]})]})]})})}),e.jsx(pt,{page:"hotels",title:"Hotel Travel Videos"}),e.jsx(ve,{page:"hotels",position:"footer-top"}),e.jsx(ve,{page:"hotels",position:"footer-bottom"}),e.jsx(mt,{})]})}const Hr=Object.freeze(Object.defineProperty({__proto__:null,default:Dr},Symbol.toStringTag,{value:"Module"}));export{X as I,oe as L,it as S,Ke as T,Qe as a,ot as b,Ye as c,Xe as d,Gr as e,Nr as f,Mr as g,zr as h,Hr as i,Wr as t};
