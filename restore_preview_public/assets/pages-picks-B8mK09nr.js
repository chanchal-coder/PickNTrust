const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pages-travel-BKbkABH7.js","assets/vendor-DNlhI76F.js","assets/query-D71mr71Q.js","assets/pages-main-DOjN59On.js","assets/icons-B2XESxUM.js","assets/utils-Bj7X0qp-.js","assets/radix-z-2eheXi.js"])))=>i.map(i=>d[i]);
import{r as a,j as e}from"./vendor-DNlhI76F.js";import{a as te,u as J,b as Ae}from"./query-D71mr71Q.js";import{u as se,E as ve,S as Ne,a as Ie,f as qe,b as oe,c as Ue,i as H,W as c,A as Z,P as ee,U as ie,d as X,e as ae,L as Oe,g as Me,h as $e,j as ue,k as ce,l as de,_ as pe,B as ye}from"./pages-main-DOjN59On.js";import{g as Ke,i as Be,j as Se,k as Ge,l as Pe,O as Ce,D as Re}from"./radix-z-2eheXi.js";import{a as ze}from"./utils-Bj7X0qp-.js";import{X as We}from"./icons-B2XESxUM.js";function re({page:o,title:u}){const[y,x]=a.useState({}),[b,S]=a.useState(!1),[M,O]=a.useState(!1),[j,P]=a.useState(null),d=a.useRef(null),[w,v]=a.useState(!1),[N,C]=a.useState(!1),g=["Instagram","Facebook","WhatsApp","Telegram"],{toast:T}=se(),k=te();a.useEffect(()=>{const t=localStorage.getItem("pickntrust-admin-session");S(t==="active");const i=s=>{s.key==="pickntrust-admin-session"&&S(s.newValue==="active")};return window.addEventListener("storage",i),()=>window.removeEventListener("storage",i)},[]);const q=t=>{P(t),O(!0)},$=()=>{j&&(alert(`✅ Sharing "${j.title}" to all configured platforms!`),console.log("Share confirmed for:",j.id,j.title)),O(!1),P(null)},K=()=>{O(!1),P(null)},{data:m=[]}=J({queryKey:[`/api/video-content/page/${o}`],queryFn:async()=>{try{const t=await fetch("/api/video-content");return t.ok?(await t.json()).filter(s=>{const r=_=>{const z=String(_||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");switch(z){case"apps-ai-apps":case"apps-ai":case"ai-apps":return"apps";case"prime-picks":case"prime-pick":return"prime-picks";case"value-picks":case"value-pick":return"value-picks";case"top-picks":case"top-pick":return"top-picks";case"travel-picks":case"travel-pick":return"travel-picks";case"click-picks":case"click-pick":return"click-picks";case"cue-picks":case"cue-pick":return"cue-picks";case"blogs":return"blog";default:return z}};let p=[];const l=(s==null?void 0:s.pages)??(s==null?void 0:s.displayPages)??(s==null?void 0:s.display_pages)??"";if(Array.isArray(l))p=l;else if(typeof l=="string"){const _=l.trim();if(_.startsWith("["))try{const z=JSON.parse(_);Array.isArray(z)&&(p=z)}catch{}p.length===0&&(p=_.split(",").map(z=>z.trim()).filter(Boolean))}const h=p.map(r).filter(Boolean),I=r(String(o));return I==="home"&&s.showOnHomepage?!0:h.includes(I)}):[]}catch{return[]}},retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!0,staleTime:3e5}),B=Ae({mutationFn:async t=>{const i=await fetch(`/api/admin/video-content/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});if(!i.ok)throw new Error("Failed to delete video");return i.json()},onSuccess:()=>{T({title:"Success",description:"Video deleted successfully!"}),k.invalidateQueries({queryKey:[`/api/video-content/page/${o}`]}),k.invalidateQueries({queryKey:["/api/video-content"]})},onError:t=>{T({title:"Error",description:t.message||"Failed to delete video",variant:"destructive"})}}),R=()=>"https://pickntrust.com",L=t=>!t||t.startsWith("http")||t.startsWith("data:")||t.startsWith("blob:")?t:t.startsWith("/")?R()+t:t,U=t=>{t.videoUrl&&window.open(L(t.videoUrl),"_blank")},f=(t,i)=>{confirm(`Are you sure you want to delete "${i}"? This action cannot be undone.`)&&B.mutate(t)},F=()=>{if(d.current){const{scrollLeft:t,scrollWidth:i,clientWidth:s}=d.current;v(t>0),C(t<i-s-1)}},A=t=>{if(d.current){const s=t==="left"?d.current.scrollLeft-400:d.current.scrollLeft+400;d.current.scrollTo({left:s,behavior:"smooth"})}};a.useEffect(()=>{const t=d.current;if(!t)return;const i=s=>{s.preventDefault(),t.scrollLeft+=s.deltaY,F()};return t.addEventListener("wheel",i,{passive:!1}),()=>t.removeEventListener("wheel",i)},[m]),a.useEffect(()=>{F();const t=d.current;if(t){const i=()=>F();return t.addEventListener("scroll",i),()=>t.removeEventListener("scroll",i)}},[m]),a.useEffect(()=>{const t=()=>F();return window.addEventListener("resize",t),F(),()=>window.removeEventListener("resize",t)},[]);const G=(t,i)=>{if(!t||t.trim()==="")return null;switch(i.toLowerCase()){case"youtube":const s=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,r=t.match(s);if(r&&r[1])return{embedUrl:`https://www.youtube.com/embed/${r[1]}`,thumbnailUrl:`https://img.youtube.com/vi/${r[1]}/maxresdefault.jpg`};break;case"vimeo":const p=/(?:vimeo\.com\/)([0-9]+)/,l=t.match(p);if(l&&l[1])return{embedUrl:`https://player.vimeo.com/video/${l[1]}`,thumbnailUrl:`https://vumbnail.com/${l[1]}.jpg`};break;case"tiktok":return{embedUrl:t,thumbnailUrl:"https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=400&q=80"};default:return{embedUrl:t,thumbnailUrl:"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=400&q=80"}}return{embedUrl:t,thumbnailUrl:"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=400&q=80"}},V=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs("section",{className:"py-8 sm:py-12 lg:py-16 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-blue-900/20 dark:to-purple-900/20",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("div",{className:"relative inline-block",children:e.jsxs("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-4 relative leading-tight",children:[u||"Related Videos",e.jsx("div",{className:"absolute -top-1 -right-4 sm:-top-2 sm:-right-6 text-lg sm:text-xl animate-bounce",children:e.jsx("i",{className:"fas fa-film"})})]})}),e.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600 dark:text-gray-300 font-medium mt-4 sm:mt-6 px-4",children:e.jsxs("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[e.jsx("i",{className:"fas fa-sparkles"})," Watch videos related to this section ",e.jsx("i",{className:"fas fa-sparkles"})]})})]}),m.length===0&&e.jsxs("div",{className:"mt-6 sm:mt-8 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"No videos yet"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:"Check back soon — we’re adding videos for this page."}),b&&e.jsxs("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:['Tip: Add videos via the admin panel and include page "',o,'".']})]}),e.jsxs("div",{className:"hidden md:block relative bg-white/10 backdrop-blur-sm rounded-3xl p-6 border border-white/20 dark:bg-gray-800/20 dark:border-gray-700/30",children:[e.jsx("button",{onClick:()=>A("left"),disabled:!w,"aria-disabled":!w,className:`absolute left-3 top-1/2 -translate-y-1/2 z-10 p-2 bg-gradient-to-br from-blue-500 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl hidden md:flex items-center justify-center ${w?"":"opacity-50 cursor-not-allowed"}`,"aria-label":"Scroll left",children:e.jsx("i",{className:"fas fa-chevron-left"})}),e.jsx("button",{onClick:()=>A("right"),disabled:!N,"aria-disabled":!N,className:`absolute right-3 top-1/2 -translate-y-1/2 z-10 p-2 bg-gradient-to-br from-blue-500 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl hidden md:flex items-center justify-center ${N?"":"opacity-50 cursor-not-allowed"}`,"aria-label":"Scroll right",children:e.jsx("i",{className:"fas fa-chevron-right"})}),e.jsx("div",{ref:d,className:"flex gap-6 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",touchAction:"pan-x"},children:m.slice(0,6).map(t=>{const i=G(t.videoUrl,t.platform);return e.jsxs("div",{className:"flex-shrink-0 w-80 bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 cursor-pointer group",onClick:()=>U(t),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.thumbnailUrl||(i==null?void 0:i.thumbnailUrl)||"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=400&q=80",alt:t.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:s=>{const r=s.target;r.src="https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=400&q=80"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center group-hover:bg-opacity-40 transition-all duration-300",children:e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition-colors",children:e.jsx("i",{className:"fas fa-play text-white text-xl ml-1"})})}),t.duration&&e.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs font-medium",children:t.duration}),e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium",children:t.platform})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white space-y-3 relative",children:[b&&e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[e.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),q(t)},className:"bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 shadow-md transition-colors cursor-pointer z-10 relative",title:"Share to All Platforms",children:e.jsx("i",{className:"fas fa-edit text-xs pointer-events-none"})}),e.jsx(ve,{product:{id:t.id,name:t.title,description:t.description,videoUrl:t.videoUrl,category:t.category},contentType:"video",className:"bg-green-500 hover:bg-green-600 text-white rounded-full p-2 shadow-md transition-colors",buttonText:"",showIcon:!0})]}),e.jsx("div",{className:"flex justify-start mb-2",children:e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full text-xs",children:t.category})}),e.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white leading-tight mb-2 line-clamp-2 pr-8",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed line-clamp-3 mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),V(t.createdAt)]}),t.duration&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-clock"}),t.duration]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-2 border-t border-gray-100 dark:border-gray-700 w-full",children:[e.jsx("div",{className:"flex flex-wrap gap-2 min-w-0",children:t.tags.slice(0,2).map((s,r)=>e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded text-xs",children:["#",s]},r))}),e.jsxs("div",{className:"flex flex-wrap gap-2 shrink-0",children:[t.ctaText&&t.ctaUrl&&e.jsxs("button",{onClick:s=>{s.stopPropagation(),window.open(t.ctaUrl,"_blank")},className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-bold py-2 px-3 rounded-lg hover:shadow-lg transition-all duration-300 text-xs z-10 relative whitespace-nowrap",style:{minWidth:"80px"},children:[e.jsx("i",{className:"fas fa-external-link-alt mr-1"}),t.ctaText]}),b&&e.jsx("button",{onClick:s=>{s.stopPropagation(),f(t.id,t.title)},disabled:B.isPending,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-3 rounded-lg hover:shadow-lg transition-all duration-300 text-xs",title:"Delete video",children:e.jsx("i",{className:"fas fa-trash"})}),e.jsxs("button",{onClick:s=>{s.stopPropagation(),U(t)},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-2 px-4 rounded-lg hover:shadow-lg transition-all duration-300 text-xs whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-play mr-1"}),"Watch Now"]})]})]})]})]},t.id)})})]}),e.jsx("div",{className:"md:hidden flex gap-3 overflow-x-auto pb-4 px-2",children:m.slice(0,6).map(t=>{const i=G(t.videoUrl,t.platform);return e.jsxs("div",{className:"flex-shrink-0 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 cursor-pointer",onClick:()=>U(t),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.thumbnailUrl||(i==null?void 0:i.thumbnailUrl)||"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=400&q=80",alt:t.title,className:"w-full h-32 object-cover",onError:s=>{const r=s.target;r.src="https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=400&q=80"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("i",{className:"fas fa-play text-white text-sm ml-0.5"})})}),t.duration&&e.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs font-medium",children:t.duration}),e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium",children:t.platform})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"flex justify-start mb-2",children:e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full text-xs",children:t.category})}),e.jsx("h4",{className:"font-bold text-sm text-gray-900 dark:text-white leading-tight mb-2 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs leading-relaxed line-clamp-2 mb-3",children:t.description}),e.jsxs("div",{className:"space-y-2",children:[t.ctaText&&t.ctaUrl&&e.jsxs("button",{onClick:s=>{s.stopPropagation(),window.open(t.ctaUrl,"_blank")},className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-bold py-2 px-3 rounded-lg transition-all duration-300 text-xs shadow-lg",children:[e.jsx("i",{className:"fas fa-external-link-alt mr-1"}),t.ctaText]}),b&&e.jsxs("button",{onClick:s=>{s.stopPropagation(),f(t.id,t.title)},disabled:B.isPending,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-3 rounded-lg transition-all duration-300 text-xs",children:[e.jsx("i",{className:"fas fa-trash mr-1"}),"Delete Video"]}),e.jsxs("button",{onClick:s=>{s.stopPropagation(),U(t)},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-2 px-3 rounded-lg transition-all duration-300 text-xs",children:[e.jsx("i",{className:"fas fa-play mr-1"}),"Watch Now"]})]})]})]},t.id)})}),m.length>6&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"/videos",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg hover:shadow-lg transition-all duration-300",children:[e.jsx("i",{className:"fas fa-video"}),"View All Videos"]})})]}),e.jsx(Ne,{isOpen:M,onClose:K,onConfirm:$,productName:(j==null?void 0:j.title)||"",platforms:g})]})}const le=o=>{if(o==null)return 0;if(typeof o=="number")return o;if(typeof o=="string"){const u=parseFloat(o.replace(/[^\d.-]/g,""));return isNaN(u)?0:u}return 0};function Qe({product:o,colorClass:u="text-blue-600",originalClass:y="text-gray-500 line-through text-sm",freeClass:x="text-green-600",helperClass:b="text-xs text-gray-500",showTypeIndicator:S=!0,forceGlobalCurrency:M=!1}){const{currentCurrency:O,convertPrice:j,formatPrice:P}=Ie(),d=(L,U)=>{const f=le(L),F=String(U||"INR").toUpperCase();if(M){const A=j(f,F,O);return P(A,O)}return qe(f,F)},{price:w,originalPrice:v,currency:N,pricingType:C,priceDescription:g,isFree:T,monthlyPrice:k,yearlyPrice:q}=o||{},$=le(k)>0,K=le(q)>0,m=le(v)>0,B=le(w)>0;if(T||C==="free")return e.jsx("span",{className:`text-lg font-bold ${x}`,children:"FREE"});if(C==="custom"){const L=g&&g.trim()!==""?g:"Custom Pricing";return e.jsx("span",{className:`text-lg font-bold ${x}`,children:L})}if($)return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-lg font-bold ${u}`,children:[d(k,N),"/month"]}),m&&e.jsxs("span",{className:y,children:[d(v,N),"/month"]}),K&&!g&&e.jsxs("span",{className:b,children:[d(q,N),"/year available"]}),g&&e.jsx("span",{className:b,children:String(g)})]});if(K)return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-lg font-bold ${u}`,children:[d(q,N),"/year"]}),m&&e.jsxs("span",{className:y,children:[d(v,N),"/year"]}),g&&e.jsx("span",{className:b,children:String(g)})]});const R=C==="monthly"||C==="Monthly Subscription"?"/month":C==="yearly"||C==="Yearly Subscription"?"/year":"";return B?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-lg font-bold ${u}`,children:[d(w,N),R]}),m&&e.jsxs("span",{className:y,children:[d(v,N),R]}),S&&C&&!["monthly","Monthly Subscription","yearly","Yearly Subscription","one-time","One-time Payment","free","custom"].includes(String(C))&&e.jsxs("span",{className:`capitalize ${b}`,children:["(",String(C),")"]}),g&&e.jsx("span",{className:b,children:String(g)})]}):g?e.jsx("span",{className:b,children:String(g)}):null}function Ve(){const[o]=oe(),[u,y]=a.useState({}),[x,b]=a.useState(""),[S,M]=a.useState("all"),[O,j]=a.useState(!1),[P,d]=a.useState("all"),[w,v]=a.useState(0),[N,C]=a.useState("all"),g=te(),[T,k]=a.useState(!1),[q,$]=a.useState(!1),[K,m]=a.useState([]),[B,R]=a.useState(!1),[L,U]=a.useState(null),f=["Instagram","Facebook","WhatsApp","Telegram"];a.useEffect(()=>{const n=localStorage.getItem("pickntrust-admin-session");k(n==="active")},[]),a.useEffect(()=>{const E=new URLSearchParams(typeof window<"u"?window.location.search:"").get("gender");if(E){const D=E==="common"?"unisex":E.toLowerCase();C(D)}},[o]);const F=n=>{U(n),R(!0)},A=()=>{L&&(alert(`✅ Sharing "${L.name}" to all configured platforms!`),console.log("Share confirmed for:",L.id,L.name)),R(!1),U(null)},G=()=>{R(!1),U(null)},{data:V,isLoading:t,error:i}=J({queryKey:["/api/products/page/top-picks",x],queryFn:async()=>{try{const n=x?`/api/products/page/top-picks?category=${encodeURIComponent(x)}`:"/api/products/page/top-picks",E=await fetch(n);if(!E.ok)throw new Error(`HTTP error! status: ${E.status}`);const D=await E.json();return console.log("Featured products data:",D),Array.isArray(D)?D:(console.error("Expected array but got:",typeof D,D),[])}catch(n){return console.error("Error fetching featured products:",n),[]}},staleTime:5*60*1e3,gcTime:10*60*1e3}),{toast:s}=se(),{addToWishlist:r,removeFromWishlist:p,isInWishlist:l}=Ue(),h=V||[],I=Array.from(new Set(h.map(n=>n.category).filter(Boolean))),_=a.useMemo(()=>{const n=new Set;for(const W of h){const Q=H(W);Q&&n.add(Q)}const E=n.has("boys"),D=n.has("girls");return(E||D)&&n.add("kids"),["all",...["men","women","kids","boys","girls","unisex"].filter(W=>n.has(W))]},[h]),me=(n=>{if(!n||n==="all")return{min:0,max:1/0};if(n.includes("-")){const[D,Y]=n.split("-"),W=parseFloat(D),Q=parseFloat(Y);return{min:isNaN(W)?0:W,max:isNaN(Q)?1/0:Q}}const E=parseFloat(n);return{min:isNaN(E)?0:E,max:1/0}})(P),we=()=>{b(""),M("all"),j(!1),d("all"),v(0),C("all")},ne=h.filter(n=>{const E=W=>String(W??"").trim().toLowerCase().replace(/[\s_-]+/g," ");if(x){const W=E(n.category),Q=E(x);if(W!==Q)return!1}if(N&&N!=="all"){const Q=(H(n)||"").toLowerCase();if(N==="kids"){if(!["boys","girls","kids"].includes(Q))return!1}else if(Q!==N)return!1}const D=parseFloat(String(n.price??"").toString().replace(/[^0-9.]/g,""))||0;if(D<me.min||D>me.max||(parseFloat(String(n.rating||0))||0)<w)return!1;if(S!=="all"){const W=String(n.currency??"").trim().toUpperCase();if(W&&W!==String(S).trim().toUpperCase())return!1}return!0}),_e=n=>{const E=n==="common"?"unisex":n;C(E);const D=new URLSearchParams(typeof window<"u"?window.location.search:"");E==="all"?D.delete("gender"):D.set("gender",E);const Y=typeof window<"u"?window.location.pathname:"/top-picks",W=D.toString(),Q=W?`${Y}?${W}`:Y;typeof window<"u"&&window.history.replaceState(null,"",Q)},Ee=n=>{window.open(n.affiliateUrl,"_blank","noopener,noreferrer")},Te=n=>{l(n.id)?(p(n.id),s({title:"Removed from wishlist",description:`${n.name} removed from your wishlist`})):(r(n),s({title:"Added to wishlist",description:`${n.name} added to your wishlist`}))},De=async n=>{if(confirm("Are you sure you want to delete this product?"))try{if(!(await fetch(`/api/admin/products/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})})).ok)throw new Error("Failed to delete product");s({title:"Product deleted",description:"Product has been successfully deleted"}),g.invalidateQueries({queryKey:["/api/products/featured"]}),g.invalidateQueries({queryKey:["/api/products"]}),g.invalidateQueries({queryKey:["/api/services"]}),g.invalidateQueries({queryKey:["/api/prime-picks"]}),g.invalidateQueries({queryKey:["/api/click-picks"]}),g.invalidateQueries({queryKey:["/api/cue-picks"]}),g.invalidateQueries({queryKey:["/api/value-picks"]}),g.invalidateQueries({queryKey:["/api/loot-box"]}),g.invalidateQueries({queryKey:["/api/amazon"]}),g.invalidateQueries({queryKey:["/api/cuelinks"]}),g.invalidateQueries({queryKey:["/api/homepage/services"]}),g.invalidateQueries({queryKey:["/api/apps"]}),g.invalidateQueries({queryKey:["/api/homepage/apps"]})}catch{s({title:"Error",description:"Failed to delete product. Please try again.",variant:"destructive"})}},Le=n=>{const E=parseFloat(n),D=Math.floor(E),Y=E%1!==0;return e.jsx("div",{className:"flex items-center text-yellow-400",children:[...Array(5)].map((W,Q)=>e.jsx("i",{className:`${Q<D?"fas fa-star":Q===D&&Y?"fas fa-star-half-alt":"far fa-star"}`},Q))})};if(a.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),t)return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[e.jsx(c,{page:"top-picks",position:"header-top",className:"w-full"}),e.jsx(Z,{}),e.jsx(ee,{page:"top-picks"}),e.jsx(c,{page:"top-picks",position:"header-bottom",className:"w-full"}),e.jsxs("div",{className:"header-spacing",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-extrabold text-white mb-4 leading-tight",children:["Today's Top Picks ",e.jsx("i",{className:"fas fa-fire"})]}),e.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-6",children:"Loading amazing deals..."})]})})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((n,E)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden max-w-md mx-auto animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"})]})]},E))})})})]})]});const ke=(h||[]).length>0,je=(ne||[]).length>0;return e.jsx(ie,{pageId:"top-picks",enableContentOverlays:!1,enableFloatingOverlays:!1,children:e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[e.jsx(c,{page:"top-picks",position:"header-top",className:"w-full"}),e.jsx(Z,{}),e.jsx(ee,{page:"top-picks"}),e.jsx(c,{page:"top-picks",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing",children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(X,{showCurrency:!0,showPriceRange:!0,showGender:!0,showNetworks:!1,showCategories:!0,showRating:!0,showResultsCount:!0,showClearButton:!0,selectedCurrency:S,setSelectedCurrency:M,convertPrices:O,setConvertPrices:j,priceRange:P,setPriceRange:d,categorySelectionMode:"single",availableCategories:I,selectedCategory:x,setSelectedCategory:b,availableGenders:_,selectedGender:N,setSelectedGender:_e,minRating:w,setMinRating:v,resultsCount:ne.length,onClearFilters:we}),e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{page:"top-picks",position:"product-grid-top"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[e.jsx("i",{className:"fas fa-fire"})," Today's Top Picks (",ne.length,")"]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",ne.length," of ",h.length," trending products"]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Viral, trending, limited deals & new offers from dedicated Top Picks channel + all other channels"})]}),!i&&!ke&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-8 text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx("i",{className:"fas fa-box-open text-4xl text-gray-400 dark:text-gray-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Featured Products Yet"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Our team is curating the best deals. Please check back soon!"}),e.jsxs(Oe,{href:"/admin",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-full hover:bg-purple-700",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"Add Products (Admin)"]})]}),i&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 rounded-2xl p-6",children:[e.jsx("div",{className:"font-semibold mb-2",children:"Failed to load Top Picks"}),e.jsx("div",{className:"text-sm",children:"Please try again later."})]}),!i&&ke&&!je&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-8 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No picks match your filters"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Try adjusting gender, category, price, or rating."}),e.jsxs("button",{onClick:we,className:"inline-flex items-center px-4 py-2 bg-gray-900 text-white rounded-full hover:bg-gray-800",children:[e.jsx("i",{className:"fas fa-undo mr-2"}),"Clear filters"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:je&&ne.map((n,E)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:transform hover:scale-105 overflow-hidden max-w-md mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-48 object-cover",onError:D=>{const Y=D.target;Y.src=`https://picsum.photos/400/300?random=${n.id}`}}),e.jsx("button",{onClick:()=>Te(n),className:`absolute top-3 left-3 p-2 rounded-full shadow-lg transition-all duration-200 ${l(n.id)?"bg-red-500 text-white hover:bg-red-600":"bg-white/90 text-gray-600 hover:text-red-500 hover:bg-white"}`,title:l(n.id)?"Remove from wishlist":"Add to wishlist",children:e.jsx("i",{className:"fas fa-heart text-sm"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.discount?e.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:[n.discount,"% OFF"]}):n.isNew?e.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:"NEW"}):e.jsx("div",{}),e.jsxs("div",{className:"flex gap-2",children:[T&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:D=>{D.preventDefault(),D.stopPropagation(),F(n)},className:"p-2 bg-blue-500 text-white hover:bg-blue-600 rounded-full shadow-lg transition-all duration-200 cursor-pointer z-10 relative",title:"Share to All Platforms",children:e.jsx("i",{className:"fas fa-edit text-sm pointer-events-none"})}),e.jsx(ve,{product:{id:n.id,name:n.name,description:n.description,price:n.price,imageUrl:n.imageUrl,category:n.category,affiliateUrl:n.affiliateUrl},contentType:"product",className:"p-2 bg-green-500 text-white hover:bg-green-600 rounded-full shadow-lg transition-all duration-200",buttonText:"",showIcon:!0})]}),!T&&e.jsx(Me,{product:{id:n.id,name:n.name,description:n.description,price:n.price,imageUrl:n.imageUrl,category:n.category,affiliateUrl:n.affiliateUrl},className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg transition-all duration-200",buttonText:"",showIcon:!0}),T&&e.jsx("button",{onClick:()=>De(n.id),className:"p-2 bg-red-500 text-white hover:bg-red-600 rounded-full shadow-lg transition-all duration-200",title:"Delete product",children:e.jsx("i",{className:"fas fa-trash text-sm"})})]})]}),e.jsxs("div",{className:"flex items-center mb-3",children:[Le(n.rating),e.jsxs("span",{className:"text-gray-600 dark:text-gray-300 ml-2 text-sm",children:["(",n.reviewCount,")"]})]}),e.jsx("h4",{className:"font-bold text-lg text-navy dark:text-blue-400 mb-2 line-clamp-2",children:n.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2",children:n.description}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(Qe,{product:n,colorClass:"text-navy dark:text-blue-400",originalClass:"text-gray-400 dark:text-gray-500 line-through text-base",freeClass:"text-green-600 dark:text-green-400",helperClass:"text-xs text-gray-500"})})}),e.jsx("div",{className:"mb-4",children:e.jsx($e,{product:n})}),e.jsxs("button",{onClick:()=>Ee(n),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-6 rounded-xl hover:shadow-lg transition-all transform hover:scale-105",children:[e.jsx("i",{className:"fas fa-shopping-bag mr-2"}),"Pick Now"]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:[e.jsx("i",{className:"fas fa-link"})," Affiliate Link - We earn from purchases"]})]})]},n.id))}),e.jsx(ae,{page:"top-picks",position:"product-grid-bottom"}),e.jsx(c,{page:"top-picks",position:"content-top"}),e.jsx(c,{page:"top-picks",position:"content-middle"}),e.jsx(c,{page:"top-picks",position:"content-bottom"}),e.jsx(c,{page:"top-picks",position:"floating-top-left"}),e.jsx(c,{page:"top-picks",position:"floating-top-right"}),e.jsx(c,{page:"top-picks",position:"floating-bottom-left"}),e.jsx(c,{page:"top-picks",position:"floating-bottom-right"})]})})]})}),e.jsx(re,{page:"top-picks",title:"Top Picks Videos"}),e.jsx(ue,{}),e.jsx(Ne,{isOpen:B,onClose:G,onConfirm:A,productName:(L==null?void 0:L.name)||"",platforms:f})]})})}const dt=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),be=Ke,Je=Be,Fe=a.forwardRef(({className:o,...u},y)=>e.jsx(Ce,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",o),...u,ref:y}));Fe.displayName=Ce.displayName;const He=ze("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),he=a.forwardRef(({side:o="right",className:u,children:y,...x},b)=>e.jsxs(Je,{children:[e.jsx(Fe,{}),e.jsxs(Se,{ref:b,className:ce(He({side:o}),u),...x,children:[y,e.jsxs(Ge,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));he.displayName=Se.displayName;const xe=({className:o,...u})=>e.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",o),...u});xe.displayName="SheetHeader";const fe=a.forwardRef(({className:o,...u},y)=>e.jsx(Pe,{ref:y,className:ce("text-lg font-semibold text-foreground",o),...u}));fe.displayName=Pe.displayName;const Ye=a.forwardRef(({className:o,...u},y)=>e.jsx(Re,{ref:y,className:ce("text-sm text-muted-foreground",o),...u}));Ye.displayName=Re.displayName;function Xe(){return typeof window>"u"?!1:window.innerWidth<768}function ge(o){const u=Xe();return J({queryKey:["/api/widgets/page-has-active",o,u?"mobile":"desktop"],queryFn:async()=>{const y=await fetch(`/api/widgets/${o}`);if(!y.ok)return!1;const x=await y.json();return!Array.isArray(x)||x.length===0?!1:x.some(S=>{if(!!!(S.is_active??!0))return!1;const O=S.show_on_mobile===void 0?!0:!!S.show_on_mobile,j=S.show_on_desktop===void 0?!0:!!S.show_on_desktop;return u?O:j})},staleTime:5*60*1e3,refetchOnWindowFocus:!1})}function Ze(){const{toast:o}=se(),[u]=oe(),[y,x]=a.useState(""),[b,S]=a.useState({min:0,max:1/0}),[M,O]=a.useState("all"),[j,P]=a.useState(0),[d,w]=a.useState("all"),v=te(),[N,C]=a.useState(!1),[g,T]=a.useState(!1),[k,q]=a.useState([]),{data:$}=ge("global-picks");a.useEffect(()=>{const t=localStorage.getItem("pickntrust-admin-session");C(t==="active"||window.location.hostname==="localhost"||window.location.hostname==="pickntrust.com")},[]);const K=async(t=!1)=>{const i=t?f.map(r=>r.id):k;if(i.length===0){o({title:"No Selection",description:"Please select products to delete",variant:"destructive"});return}const s=t?`Delete ALL ${f.length} products?`:`Delete ${i.length} selected products?`;if(confirm(s))try{for(const r of i)await fetch(`/api/admin/products/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});pe(async()=>{const{invalidateAllProductQueries:r}=await import("./pages-travel-BKbkABH7.js").then(p=>p.g);return{invalidateAllProductQueries:r}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({invalidateAllProductQueries:r})=>{r(v)}),v.invalidateQueries({queryKey:["/api/products/page/global-picks"]}),v.invalidateQueries({queryKey:["/api/global-picks"]}),v.invalidateQueries({queryKey:["/api/products"]}),o({title:"Products Deleted",description:`Successfully deleted ${i.length} products`}),T(!1),q([])}catch{o({title:"Delete Failed",description:"Failed to delete products",variant:"destructive"})}};a.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:m=[],isLoading:B,error:R}=J({queryKey:["/api/products/page/global-picks",y],queryFn:async()=>{const t=y?`/api/products/page/global-picks?category=${encodeURIComponent(y)}`:"/api/products/page/global-picks",i=await fetch(t);if(!i.ok)throw new Error("Failed to fetch Global Picks products");return i.json()},staleTime:0}),{data:L=[]}=J({queryKey:["/api/categories/page/global-picks"],queryFn:async()=>{const t=await fetch("/api/categories/page/global-picks");if(!t.ok)throw new Error("Failed to fetch Global Picks categories");return t.json()}}),U=a.useMemo(()=>{const t=new Set;return m.forEach(r=>{const p=H(r);p&&t.add(p)}),(t.has("boys")||t.has("girls"))&&!t.has("kids")&&t.add("kids"),["all",...["men","women","kids","boys","girls","unisex"].filter(r=>t.has(r))]},[m]),f=m.filter(t=>{if(d&&d!=="all"){const s=H(t);if(d==="kids"){if(!(s==="boys"||s==="girls"||s==="kids"))return!1}else if(s!==d)return!1}const i=parseFloat(t.price);return!(i<b.min||i>b.max||j>0&&parseFloat(t.rating)<j)});a.useEffect(()=>{const i=(new URLSearchParams(typeof window<"u"?window.location.search:"").get("gender")||"").toLowerCase();w((i==="common"?"unisex":i)||"all")},[u]);const F=t=>{const i=t==="common"?"unisex":t;w(i);const s=new URLSearchParams(typeof window<"u"?window.location.search:"");i==="all"?s.delete("gender"):s.set("gender",i);const r=typeof window<"u"?window.location.pathname:"/global-picks",p=s.toString(),l=p?`${r}?${p}`:r;typeof window<"u"&&window.history.replaceState(null,"",l)},A=t=>{switch(t){case"0-500":return{min:0,max:500};case"500-1000":return{min:500,max:1e3};case"1000-2500":return{min:1e3,max:2500};case"2500-5000":return{min:2500,max:5e3};case"5000":return{min:5e3,max:1/0};case"all":default:return{min:0,max:1/0}}},G=t=>{O(t),S(A(t))},V=()=>{x(""),P(0),w("all"),G("all")};return a.useEffect(()=>{R&&o({title:"Error loading products",description:"Failed to load Global Picks products. Please try again.",variant:"destructive"})},[R,o]),e.jsxs(ie,{pageId:"global-picks",enableContentOverlays:!1,enableFloatingOverlays:!1,children:[e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(c,{page:"global-picks",position:"header-top",className:"w-full"}),e.jsx(Z,{}),e.jsx(ee,{page:"global-picks"}),e.jsx(c,{page:"global-picks",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing",children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(X,{showCurrency:!1,showNetworks:!1,showGender:!0,showPriceRange:!0,showCategories:!0,showRating:!0,showResultsCount:!0,showClearButton:!0,priceRange:M,setPriceRange:G,categorySelectionMode:"single",availableCategories:L,selectedCategory:y,setSelectedCategory:x,availableGenders:U,selectedGender:d,setSelectedGender:F,minRating:j,setMinRating:P,resultsCount:f.length,onClearFilters:V}),e.jsxs("div",{className:"flex-1 p-6",children:[!($&&m.length===0)&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Global Picks (",f.length,")"]}),N&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>T(!g),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Bulk delete options",children:e.jsx("i",{className:"fas fa-trash text-sm"})}),g&&e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border rounded-lg px-3 py-2 shadow-sm",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[k.length," selected"]}),e.jsx("button",{onClick:()=>K(!1),disabled:k.length===0,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50",children:"Delete Selected"}),e.jsx("button",{onClick:()=>K(!0),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Delete All"})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",f.length," of ",m.length," universal products"]})]})}),B?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Loading Global Picks..."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Loading universal products from any e-commerce site."})]}):f.length===0?$&&m.length===0?null:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:e.jsx("i",{className:"fas fa-globe text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:m.length===0?"No Global Picks available":"No products found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:m.length===0?"Universal products from any e-commerce site will appear here when posted to Global Picks channel.":"Try adjusting your filters to see more results."})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:f.map(t=>e.jsxs("div",{className:"relative",children:[g&&N&&e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("input",{type:"checkbox",checked:k.includes(`global_picks_${t.id}`),onChange:i=>{const s=`global_picks_${t.id}`;i.target.checked?q([...k,s]):q(k.filter(r=>r!==s))},className:"w-5 h-5 text-red-600 bg-white border-2 border-gray-300 rounded focus:ring-red-500 focus:ring-2"})}),e.jsx(de,{product:{id:t.id,name:t.name||"",price:String(t.price||0),currency:t.currency||"INR",image_url:t.image_url||t.imageUrl||t.image_url||"",affiliate_url:t.affiliate_url||t.affiliateUrl||t.affiliate_url||"",original_url:t.original_url||t.affiliateUrl||t.affiliate_url||"",affiliate_network:t.affiliate_network||t.affiliateNetworkName||"unknown",affiliate_tag_applied:t.affiliate_tag_applied||1,category:t.category||"",rating:String(t.rating||0),discount:t.discount||0,description:t.description||"",originalPrice:t.originalPrice||t.original_price||"",reviewCount:t.reviewCount||t.review_count||0,priceDescription:t.priceDescription||t.price_description||"",monthlyPrice:t.monthlyPrice||t.monthly_price||0,yearlyPrice:t.yearlyPrice||t.yearly_price||0,pricingType:t.pricingType||t.pricing_type,isFree:t.isFree||t.is_free||!1,isService:t.isService||t.is_service||!1,isAIApp:t.isAIApp||t.is_ai_app||!1}},`${t.source}-${t.id}`)]},t.id))}),e.jsx(c,{page:"global-picks",position:"content-top"}),e.jsx(c,{page:"global-picks",position:"content-middle"}),e.jsx(c,{page:"global-picks",position:"content-bottom"}),e.jsx(c,{page:"global-picks",position:"floating-top-left"}),e.jsx(c,{page:"global-picks",position:"floating-top-right"}),e.jsx(c,{page:"global-picks",position:"floating-bottom-left"}),e.jsx(c,{page:"global-picks",position:"floating-bottom-right"})]})]})]})})]}),e.jsx(re,{page:"global-picks",title:"Global Picks Videos"})]})}const pt=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));function et(){const{toast:o}=se(),u=te(),[y,x]=a.useState(""),[b,S]=a.useState({min:0,max:1/0}),[M,O]=a.useState("all"),[j,P]=a.useState(0),[d,w]=a.useState("all"),[v,N]=a.useState(!1),[C,g]=a.useState(!1),[T,k]=a.useState([]),[q,$]=a.useState(!1),{data:K}=ge("prime-picks");a.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:m=[],isLoading:B,error:R}=J({queryKey:["/api/products/page/prime-picks",y],queryFn:async()=>{const t=y?`/api/products/page/prime-picks?category=${encodeURIComponent(y)}`:"/api/products/page/prime-picks",i=await fetch(t);if(!i.ok)throw new Error("Failed to fetch Prime Picks products");return i.json()},staleTime:0,refetchInterval:!1,refetchIntervalInBackground:!0}),{data:L=[]}=J({queryKey:["/api/categories/page/prime-picks"],queryFn:async()=>{const t=await fetch("/api/categories/page/prime-picks");if(!t.ok)throw new Error("Failed to fetch Prime Picks categories");return t.json()},staleTime:0,refetchInterval:!1}),U=a.useMemo(()=>{const t=new Set;(m||[]).forEach(s=>{const r=H(s);r&&(r==="boys"||r==="girls"?(t.add("kids"),t.add(r)):["men","women","unisex","kids"].includes(r)&&t.add(r))});const i=["men","women","unisex","kids","girls","boys"];return Array.from(t).sort((s,r)=>i.indexOf(s)-i.indexOf(r))},[m]),f=m.filter(t=>{if(d&&d!=="all"){const s=H(t);if(d==="kids"){if(!(s==="boys"||s==="girls"||s==="kids"))return!1}else if(s!==d)return!1}const i=parseFloat(t.price);return!(i<b.min||i>b.max||j>0&&parseFloat(t.rating)<j)}),F=t=>{switch(t){case"0-500":return{min:0,max:500};case"500-1000":return{min:500,max:1e3};case"1000-2500":return{min:1e3,max:2500};case"2500-5000":return{min:2500,max:5e3};case"5000":return{min:5e3,max:1/0};case"all":default:return{min:0,max:1/0}}},A=t=>{O(t),S(F(t))},G=()=>{x(""),P(0),A("all"),w("all")};a.useEffect(()=>{const t=localStorage.getItem("pickntrust-admin-session");N(t==="active"||window.location.hostname==="localhost"||window.location.hostname==="pickntrust.com")},[]),a.useEffect(()=>{R&&o({title:"Error loading products",description:"Failed to load Prime Picks products. Please try again.",variant:"destructive"})},[R,o]);const V=async(t=!1)=>{const i=t?f.map(r=>r.id):T;if(i.length===0){o({title:"No Selection",description:"Please select products to delete",variant:"destructive"});return}const s=t?`Delete ALL ${f.length} products?`:`Delete ${i.length} selected products?`;if(confirm(s))try{for(const r of i)await fetch(`/api/admin/products/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});pe(async()=>{const{invalidateAllProductQueries:r}=await import("./pages-travel-BKbkABH7.js").then(p=>p.g);return{invalidateAllProductQueries:r}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({invalidateAllProductQueries:r})=>{r(u)}),u.invalidateQueries({queryKey:["/api/products/page/prime-picks"]}),u.invalidateQueries({queryKey:["/api/prime-picks"]}),u.invalidateQueries({queryKey:["/api/products"]}),o({title:"Products Deleted",description:`Successfully deleted ${i.length} products`}),g(!1),k([])}catch{o({title:"Delete Failed",description:"Failed to delete products",variant:"destructive"})}};return e.jsxs(ie,{pageId:"prime-picks",enableContentOverlays:!1,enableFloatingOverlays:!1,children:[e.jsx(c,{page:"prime-picks",position:"header-top",className:"w-full"}),e.jsx(Z,{}),e.jsxs("div",{className:"md:hidden px-4 pt-3",children:[e.jsxs(ye,{onClick:()=>$(!0),className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx("i",{className:"fas fa-sliders-h mr-2"})," Filters"]}),e.jsx(be,{open:q,onOpenChange:$,children:e.jsxs(he,{side:"left",className:"w-[85vw] sm:w-[22rem]",children:[e.jsx(xe,{children:e.jsx(fe,{children:"Filters"})}),e.jsx("div",{className:"mt-4",children:e.jsx(X,{showCurrency:!1,showNetworks:!1,showGender:!0,showPriceRange:!0,showCategories:!0,showRating:!1,showResultsCount:!0,showClearButton:!0,priceRange:M,setPriceRange:A,categorySelectionMode:"single",availableCategories:L,selectedCategory:y,setSelectedCategory:x,availableGenders:U,selectedGender:d,setSelectedGender:w,minRating:j,setMinRating:P,resultsCount:f.length,onClearFilters:G})})]})})]}),e.jsx(ee,{page:"prime-picks"}),e.jsx("div",{className:"header-spacing",children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(X,{showCurrency:!1,showNetworks:!1,showGender:!0,showPriceRange:!0,showCategories:!0,showRating:!1,showResultsCount:!0,showClearButton:!0,priceRange:M,setPriceRange:A,categorySelectionMode:"single",availableCategories:L,selectedCategory:y,setSelectedCategory:x,availableGenders:U,selectedGender:d,setSelectedGender:w,minRating:j,setMinRating:P,resultsCount:f.length,onClearFilters:G})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx(ae,{page:"prime-picks",position:"product-grid-top"}),e.jsxs("div",{className:"relative",children:[!(K&&m.length===0)&&e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Results (",f.length,")"]}),v&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(!C),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Bulk delete options",children:e.jsx("i",{className:"fas fa-trash text-sm"})}),C&&e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border rounded-lg px-3 py-2 shadow-sm",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[T.length," selected"]}),e.jsx("button",{onClick:()=>V(!1),disabled:T.length===0,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50",children:"Delete Selected"}),e.jsx("button",{onClick:()=>V(!0),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Delete All"}),e.jsx("button",{onClick:()=>{g(!1),k([])},className:"px-2 py-1 text-gray-500 hover:text-gray-700",children:e.jsx("i",{className:"fas fa-times"})})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",f.length," of ",m.length," products"]})]}),B?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Loading Prime Picks..."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Finding the best products for you."})]}):f.length===0?K&&m.length===0?null:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:e.jsx("i",{className:"fas fa-search text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:m.length===0?"No Prime Picks available":"No products found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:m.length===0?"Products will appear here when added to Prime Picks via admin panel.":"Try adjusting your filters to see more results."})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4",children:f.map(t=>e.jsxs("div",{className:"relative",children:[C&&v&&e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("input",{type:"checkbox",checked:T.includes(String(t.id)),onChange:i=>{i.target.checked?k(s=>[...s,String(t.id)]):k(s=>s.filter(r=>r!==String(t.id)))},className:"w-5 h-5 text-red-600 bg-white border-2 border-gray-300 rounded focus:ring-red-500 focus:ring-2"})}),e.jsx(de,{product:t})]},t.id))}),e.jsx(ae,{page:"prime-picks",position:"product-grid-bottom"}),e.jsx(c,{page:"prime-picks",position:"content-top"}),e.jsx(c,{page:"prime-picks",position:"content-middle"}),e.jsx(c,{page:"prime-picks",position:"content-bottom"}),e.jsx(c,{page:"prime-picks",position:"floating-top-left"}),e.jsx(c,{page:"prime-picks",position:"floating-top-right"}),e.jsx(c,{page:"prime-picks",position:"floating-bottom-left"}),e.jsx(c,{page:"prime-picks",position:"floating-bottom-right"})]})]})]})}),e.jsx(re,{page:"prime-picks",title:"Prime Picks Videos"})]})}const gt=Object.freeze(Object.defineProperty({__proto__:null,default:et},Symbol.toStringTag,{value:"Module"}));function tt(){const{toast:o}=se(),u=te(),[y]=oe(),[x,b]=a.useState(""),[S,M]=a.useState({min:0,max:1/0}),[O,j]=a.useState("all"),[P,d]=a.useState(0),[w,v]=a.useState("all"),[N,C]=a.useState(!1),[g,T]=a.useState(!1),[k,q]=a.useState([]),{data:$}=ge("cue-picks"),[K,m]=a.useState(!1);a.useEffect(()=>{const s=localStorage.getItem("pickntrust-admin-session");C(s==="active"||window.location.hostname==="localhost"||window.location.hostname==="pickntrust.com")},[]);const B=async(s=!1)=>{const r=s?A.map(l=>l.id):k;if(r.length===0){o({title:"No Selection",description:"Please select products to delete",variant:"destructive"});return}const p=s?`Delete ALL ${A.length} products?`:`Delete ${r.length} selected products?`;if(confirm(p))try{for(const l of r)await fetch(`/api/admin/products/${l}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});pe(async()=>{const{invalidateAllProductQueries:l}=await import("./pages-travel-BKbkABH7.js").then(h=>h.g);return{invalidateAllProductQueries:l}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({invalidateAllProductQueries:l})=>{l(u)}),u.invalidateQueries({queryKey:["/api/products/page/cue-picks"]}),u.invalidateQueries({queryKey:["/api/cue-picks"]}),u.invalidateQueries({queryKey:["/api/products"]}),o({title:"Products Deleted",description:`Successfully deleted ${r.length} products`}),T(!1),q([])}catch{o({title:"Delete Failed",description:"Failed to delete products",variant:"destructive"})}};a.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:R=[],isLoading:L,error:U}=J({queryKey:["/api/products/page/cue-picks",x],queryFn:async()=>{const s=x?`/api/products/page/cue-picks?category=${encodeURIComponent(x)}`:"/api/products/page/cue-picks",r=await fetch(s);if(!r.ok)throw new Error("Failed to fetch Cue Picks products");return r.json()},staleTime:5*60*1e3,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1}),{data:f=[]}=J({queryKey:["/api/categories/page/cue-picks"],queryFn:async()=>{const s=await fetch("/api/categories/page/cue-picks");if(!s.ok)throw new Error("Failed to fetch Cue Picks categories");return s.json()},staleTime:0,refetchInterval:!1,refetchOnWindowFocus:!1}),F=a.useMemo(()=>{const s=new Set;return R.forEach(l=>{const h=H(l);h&&s.add(h)}),(s.has("boys")||s.has("girls"))&&!s.has("kids")&&s.add("kids"),["all",...["men","women","kids","boys","girls","unisex"].filter(l=>s.has(l))]},[R]),A=R.filter(s=>{if(w&&w!=="all"){const p=H(s);if(w==="kids"){if(!(p==="boys"||p==="girls"||p==="kids"))return!1}else if(p!==w)return!1}const r=parseFloat(s.price);return!(r<S.min||r>S.max||P>0&&parseFloat(s.rating)<P)});a.useEffect(()=>{const r=(new URLSearchParams(typeof window<"u"?window.location.search:"").get("gender")||"").toLowerCase();v((r==="common"?"unisex":r)||"all")},[y]);const G=s=>{const r=s==="common"?"unisex":s;v(r);const p=new URLSearchParams(typeof window<"u"?window.location.search:"");r==="all"?p.delete("gender"):p.set("gender",r);const l=typeof window<"u"?window.location.pathname:"/cue-picks",h=p.toString(),I=h?`${l}?${h}`:l;typeof window<"u"&&window.history.replaceState(null,"",I)},V=s=>{switch(s){case"0-500":return{min:0,max:500};case"500-1000":return{min:500,max:1e3};case"1000-2500":return{min:1e3,max:2500};case"2500-5000":return{min:2500,max:5e3};case"5000":return{min:5e3,max:1/0};case"all":default:return{min:0,max:1/0}}},t=s=>{j(s),M(V(s))},i=()=>{b(""),d(0),v("all"),t("all")};return a.useEffect(()=>{U&&o({title:"Error loading products",description:"Failed to load Cue Picks products. Please try again.",variant:"destructive"})},[U,o]),e.jsxs(ie,{pageId:"cue-picks",enableContentOverlays:!1,enableFloatingOverlays:!1,children:[e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(c,{page:"cue-picks",position:"header-top",className:"w-full"}),e.jsx(Z,{}),e.jsxs("div",{className:"md:hidden px-4 pt-3",children:[e.jsxs(ye,{onClick:()=>m(!0),className:"bg-teal-600 hover:bg-teal-700",children:[e.jsx("i",{className:"fas fa-sliders-h mr-2"})," Filters"]}),e.jsx(be,{open:K,onOpenChange:m,children:e.jsxs(he,{side:"left",className:"w-[85vw] sm:w-[22rem]",children:[e.jsx(xe,{children:e.jsx(fe,{children:"Filters"})}),e.jsx("div",{className:"mt-4",children:e.jsx(X,{showCurrency:!1,showNetworks:!1,showGender:!0,showPriceRange:!0,showCategories:!0,showRating:!0,showResultsCount:!0,showClearButton:!0,priceRange:O,setPriceRange:t,categorySelectionMode:"single",availableCategories:f,selectedCategory:x,setSelectedCategory:b,availableGenders:F,selectedGender:w,setSelectedGender:G,minRating:P,setMinRating:d,resultsCount:A.length,onClearFilters:i})})]})})]}),e.jsx(ee,{page:"cue-picks"}),e.jsx(c,{page:"cue-picks",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing",children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(X,{showCurrency:!1,showNetworks:!1,showGender:!0,showPriceRange:!0,showCategories:!0,showRating:!0,showResultsCount:!0,showClearButton:!0,priceRange:O,setPriceRange:t,categorySelectionMode:"single",availableCategories:f,selectedCategory:x,setSelectedCategory:b,availableGenders:F,selectedGender:w,setSelectedGender:G,minRating:P,setMinRating:d,resultsCount:A.length,onClearFilters:i})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("div",{className:"relative",children:$&&R.length===0?null:e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Results (",A.length,")"]}),N&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>T(!g),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Bulk delete options",children:e.jsx("i",{className:"fas fa-trash text-sm"})}),g&&e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border rounded-lg px-3 py-2 shadow-sm",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[k.length," selected"]}),e.jsx("button",{onClick:()=>B(!1),disabled:k.length===0,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50",children:"Delete Selected"}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Delete All"}),e.jsx("button",{onClick:()=>{T(!1),q([])},className:"px-2 py-1 text-gray-500 hover:text-gray-700",children:e.jsx("i",{className:"fas fa-times"})})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",A.length," of ",R.length," products"]})]})})}),L?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Loading Cue Picks..."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Finding the smartest selections for you."})]}):A.length===0?$&&R.length===0?null:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4 text-red-500",children:e.jsx("i",{className:"fas fa-bullseye"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-600 mb-4",children:"No Cue Picks Found"}),e.jsx("p",{className:"text-gray-500",children:"We're working on adding more CueLinks products to this collection."})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4",children:A.map(s=>e.jsxs("div",{className:"relative",children:[g&&N&&e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("input",{type:"checkbox",checked:k.includes(String(s.id)),onChange:r=>{r.target.checked?q(p=>[...p,String(s.id)]):q(p=>p.filter(l=>l!==String(s.id)))},className:"w-5 h-5 text-red-600 bg-white border-2 border-gray-300 rounded focus:ring-red-500 focus:ring-2"})}),e.jsx(de,{product:s})]},s.id))}),e.jsx(c,{page:"cue-picks",position:"content-top"}),e.jsx(c,{page:"cue-picks",position:"content-middle"}),e.jsx(c,{page:"cue-picks",position:"content-bottom"}),e.jsx(c,{page:"cue-picks",position:"floating-top-left"}),e.jsx(c,{page:"cue-picks",position:"floating-top-right"}),e.jsx(c,{page:"cue-picks",position:"floating-bottom-left"}),e.jsx(c,{page:"cue-picks",position:"floating-bottom-right"})]})]})]})})]}),e.jsx(re,{page:"cue-picks",title:"Cue Picks Videos"}),e.jsx(ue,{})]})}const mt=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"}));function st(){const{toast:o}=se(),u=te(),[y]=oe(),[x,b]=a.useState(""),[S,M]=a.useState("all"),[O,j]=a.useState({min:0,max:1/0}),[P,d]=a.useState(0),[w,v]=a.useState("all"),[N,C]=a.useState(!1),[g,T]=a.useState(!1),[k,q]=a.useState(!1),[$,K]=a.useState([]),{data:m}=ge("value-picks"),[B,R]=a.useState("all"),[L,U]=a.useState(!1);a.useEffect(()=>{const l=localStorage.getItem("pickntrust-admin-session");T(l==="active"||window.location.hostname==="localhost")},[]);const f=async(l=!1)=>{const h=l?i.map(_=>_.id):$;if(h.length===0){o({title:"No Selection",description:"Please select products to delete",variant:"destructive"});return}const I=l?`Delete ALL ${i.length} products?`:`Delete ${h.length} selected products?`;if(confirm(I))try{for(const _ of h)await fetch(`/api/admin/products/${_}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});pe(async()=>{const{invalidateAllProductQueries:_}=await import("./pages-travel-BKbkABH7.js").then(z=>z.g);return{invalidateAllProductQueries:_}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({invalidateAllProductQueries:_})=>{_(u)}),u.invalidateQueries({queryKey:["/api/products/page/value-picks"]}),u.invalidateQueries({queryKey:["/api/value-picks"]}),u.invalidateQueries({queryKey:["/api/products"]}),o({title:"Products Deleted",description:`Successfully deleted ${h.length} products`}),q(!1),K([])}catch{o({title:"Delete Failed",description:"Failed to delete products",variant:"destructive"})}};a.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:F=[],isLoading:A,error:G}=J({queryKey:["/api/products/page/value-picks",x],queryFn:async()=>{const l=x?`/api/products/page/value-picks?category=${encodeURIComponent(x)}`:"/api/products/page/value-picks",h=await fetch(l);if(!h.ok)throw new Error("Failed to fetch Value Picks products");return h.json()},staleTime:0}),{data:V=[]}=J({queryKey:["/api/categories/page/value-picks"],queryFn:async()=>{const l=await fetch("/api/categories/page/value-picks");if(!l.ok)throw new Error("Failed to fetch Value Picks categories");return l.json()},staleTime:0}),t=(()=>{const l=new Set;return F.forEach(_=>{const z=H(_);z&&l.add(z)}),(l.has("boys")||l.has("girls"))&&!l.has("kids")&&l.add("kids"),["all",...["men","women","kids","boys","girls","unisex"].filter(_=>l.has(_))]})(),i=F.filter(l=>{const h=parseFloat(l.price);if(h<O.min||h>O.max||P>0&&parseFloat(l.rating)<P)return!1;if(w&&w!=="all"){const I=H(l);if(w==="kids"){if(!(I==="boys"||I==="girls"||I==="kids"))return!1}else if(I!==w)return!1}return!0}),s=l=>{if(!l||l==="all")return{min:0,max:1/0};if(/^\d+-\d+$/.test(l)){const[I,_]=l.split("-").map(z=>parseFloat(z));return{min:I,max:_}}const h=parseFloat(l);return{min:isNaN(h)?0:h,max:1/0}},r=l=>{d(l)};a.useEffect(()=>{const l=s(S);j(l)},[S]),a.useEffect(()=>{const h=(new URLSearchParams(typeof window<"u"?window.location.search:"").get("gender")||"").toLowerCase();v((h==="common"?"unisex":h)||"all")},[y]);const p=l=>{const h=l==="common"?"unisex":l;v(h);const I=new URLSearchParams(typeof window<"u"?window.location.search:"");h==="all"?I.delete("gender"):I.set("gender",h);const _=typeof window<"u"?window.location.pathname:"/value-picks",z=I.toString(),me=z?`${_}?${z}`:_;typeof window<"u"&&window.history.replaceState(null,"",me)};return a.useEffect(()=>{G&&o({title:"Error loading products",description:"Failed to load Value Picks products. Please try again.",variant:"destructive"})},[G,o]),e.jsxs(ie,{pageId:"value-picks",children:[e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(c,{page:"value-picks",position:"header-top",className:"w-full"}),e.jsx(Z,{}),e.jsx(ee,{page:"value-picks"}),e.jsxs("div",{className:"md:hidden px-4 pt-3",children:[e.jsxs(ye,{onClick:()=>C(!0),className:"bg-orange-600 hover:bg-orange-700",children:[e.jsx("i",{className:"fas fa-sliders-h mr-2"})," Filters"]}),e.jsx(be,{open:N,onOpenChange:C,children:e.jsxs(he,{side:"left",className:"w-[85vw] sm:w-[22rem]",children:[e.jsx(xe,{children:e.jsx(fe,{children:"Filters"})}),e.jsx("div",{className:"mt-4",children:e.jsx(X,{showNetworks:!1,showCurrency:!1,categorySelectionMode:"single",selectedCurrency:B,setSelectedCurrency:R,convertPrices:L,setConvertPrices:U,priceRange:S,setPriceRange:M,availableCategories:V,selectedCategory:x,setSelectedCategory:b,availableGenders:t,selectedGender:w,setSelectedGender:p,minRating:P,setMinRating:r,resultsCount:i.length,onClearFilters:()=>{b(""),M("all"),v("all"),d(0)}})})]})})]}),e.jsx(c,{page:"value-picks",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing",children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(X,{showNetworks:!1,showCurrency:!1,categorySelectionMode:"single",selectedCurrency:B,setSelectedCurrency:R,convertPrices:L,setConvertPrices:U,priceRange:S,setPriceRange:M,availableCategories:V,selectedCategory:x,setSelectedCategory:b,availableGenders:t,selectedGender:w,setSelectedGender:p,minRating:P,setMinRating:r,resultsCount:i.length,onClearFilters:()=>{b(""),M("all"),v("all"),d(0)}})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx(ae,{page:"value-picks",position:"product-grid-top"}),m&&F.length===0?null:e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Results (",i.length,")"]}),g&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>q(!k),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Bulk delete options",children:e.jsx("i",{className:"fas fa-trash text-sm"})}),k&&e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border rounded-lg px-3 py-2 shadow-sm",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[$.length," selected"]}),e.jsx("button",{onClick:()=>f(!1),disabled:$.length===0,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50",children:"Delete Selected"}),e.jsx("button",{onClick:()=>f(!0),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Delete All"}),e.jsx("button",{onClick:()=>{q(!1),K([])},className:"px-2 py-1 text-gray-500 hover:text-gray-700",children:e.jsx("i",{className:"fas fa-times"})})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",i.length," of ",F.length," products"]})]})}),A?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Loading Value Picks..."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Finding the best value products for you."})]}):i.length===0?m&&F.length===0?null:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:e.jsx("i",{className:"fas fa-search text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:F.length===0?"No Value Picks available":"No products found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:F.length===0?"Products will appear here when added to Value Picks via admin panel.":"Try adjusting your filters to see more results."})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4",children:i.map(l=>e.jsxs("div",{className:"relative",children:[k&&g&&e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("input",{type:"checkbox",checked:$.includes(String(l.id)),onChange:h=>{h.target.checked?K(I=>[...I,String(l.id)]):K(I=>I.filter(_=>_!==String(l.id)))},className:"w-5 h-5 text-red-600 bg-white border-2 border-gray-300 rounded focus:ring-red-500 focus:ring-2"})}),e.jsx(de,{product:l})]},l.id))}),e.jsx(ae,{page:"value-picks",position:"product-grid-bottom"}),e.jsx(c,{page:"value-picks",position:"content-top"}),e.jsx(c,{page:"value-picks",position:"content-middle"}),e.jsx(c,{page:"value-picks",position:"content-bottom"}),e.jsx(c,{page:"value-picks",position:"floating-top-left"}),e.jsx(c,{page:"value-picks",position:"floating-top-right"}),e.jsx(c,{page:"value-picks",position:"floating-bottom-left"}),e.jsx(c,{page:"value-picks",position:"floating-bottom-right"})]})]})]})})]}),e.jsx(re,{page:"value-picks",title:"Value Picks Videos"}),e.jsx(ue,{})]})}const ut=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"}));function at(){const{toast:o}=se(),[u]=oe(),[y,x]=a.useState(""),[b,S]=a.useState({min:0,max:1/0}),[M,O]=a.useState("all"),[j,P]=a.useState(0),[d,w]=a.useState("all"),v=te(),[N,C]=a.useState(!1),[g,T]=a.useState(!1),[k,q]=a.useState([]),{data:$}=ge("click-picks");a.useEffect(()=>{const t=localStorage.getItem("pickntrust-admin-session");C(t==="active"||window.location.hostname==="localhost"||window.location.hostname==="pickntrust.com")},[]);const K=async(t=!1)=>{const i=t?f.map(r=>r.id):k;if(i.length===0){o({title:"No Selection",description:"Please select products to delete",variant:"destructive"});return}const s=t?`Delete ALL ${f.length} products?`:`Delete ${i.length} selected products?`;if(confirm(s))try{for(const r of i)await fetch(`/api/admin/products/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:"pickntrust2025"})});pe(async()=>{const{invalidateAllProductQueries:r}=await import("./pages-travel-BKbkABH7.js").then(p=>p.g);return{invalidateAllProductQueries:r}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({invalidateAllProductQueries:r})=>{r(v)}),v.invalidateQueries({queryKey:["/api/products/page/click-picks"]}),v.invalidateQueries({queryKey:["/api/click-picks"]}),v.invalidateQueries({queryKey:["/api/products"]}),o({title:"Products Deleted",description:`Successfully deleted ${i.length} products`}),T(!1),q([])}catch{o({title:"Delete Failed",description:"Failed to delete products",variant:"destructive"})}};a.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:m=[],isLoading:B,error:R}=J({queryKey:["/api/products/page/click-picks",y],queryFn:async()=>{const t=y?`/api/products/page/click-picks?category=${encodeURIComponent(y)}`:"/api/products/page/click-picks",i=await fetch(t);if(!i.ok)throw new Error("Failed to fetch Click Picks products");return i.json()},staleTime:0}),{data:L=[]}=J({queryKey:["/api/categories/page/click-picks"],queryFn:async()=>{const t=await fetch("/api/categories/page/click-picks");if(!t.ok)throw new Error("Failed to fetch Click Picks categories");return t.json()},staleTime:0}),U=a.useMemo(()=>{const t=new Set;return m.forEach(r=>{const p=H(r);p&&t.add(p)}),(t.has("boys")||t.has("girls"))&&!t.has("kids")&&t.add("kids"),["all",...["men","women","kids","boys","girls","unisex"].filter(r=>t.has(r))]},[m]),f=m.filter(t=>{if(d&&d!=="all"){const s=H(t);if(d==="kids"){if(!(s==="boys"||s==="girls"||s==="kids"))return!1}else if(s!==d)return!1}const i=parseFloat(t.price);return!(i<b.min||i>b.max||j>0&&parseFloat(t.rating)<j)});a.useEffect(()=>{const i=(new URLSearchParams(typeof window<"u"?window.location.search:"").get("gender")||"").toLowerCase();w((i==="common"?"unisex":i)||"all")},[u]);const F=t=>{const i=t==="common"?"unisex":t;w(i);const s=new URLSearchParams(typeof window<"u"?window.location.search:"");i==="all"?s.delete("gender"):s.set("gender",i);const r=typeof window<"u"?window.location.pathname:"/click-picks",p=s.toString(),l=p?`${r}?${p}`:r;typeof window<"u"&&window.history.replaceState(null,"",l)},A=t=>{switch(t){case"0-500":return{min:0,max:500};case"500-1000":return{min:500,max:1e3};case"1000-2500":return{min:1e3,max:2500};case"2500-5000":return{min:2500,max:5e3};case"5000":return{min:5e3,max:1/0};case"all":default:return{min:0,max:1/0}}},G=t=>{O(t),S(A(t))},V=()=>{x(""),P(0),w("all"),G("all")};return a.useEffect(()=>{R&&o({title:"Error loading products",description:"Failed to load Click Picks products. Please try again.",variant:"destructive"})},[R,o]),e.jsxs(ie,{pageId:"click-picks",enableContentOverlays:!1,enableFloatingOverlays:!1,children:[e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(c,{page:"click-picks",position:"header-top",className:"w-full"}),e.jsx(Z,{}),e.jsx(ee,{page:"click-picks"}),e.jsx(c,{page:"click-picks",position:"header-bottom",className:"w-full"}),e.jsx("div",{className:"header-spacing",children:e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(X,{showCurrency:!1,showNetworks:!1,showGender:!0,showPriceRange:!0,showCategories:!0,showRating:!0,showResultsCount:!0,showClearButton:!0,priceRange:M,setPriceRange:G,categorySelectionMode:"single",availableCategories:L,selectedCategory:y,setSelectedCategory:x,availableGenders:U,selectedGender:d,setSelectedGender:F,minRating:j,setMinRating:P,resultsCount:f.length,onClearFilters:V}),e.jsxs("div",{className:"flex-1 p-6",children:[!($&&m.length===0)&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Results (",f.length,")"]}),N&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>T(!g),className:"p-2 rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Bulk delete options",children:e.jsx("i",{className:"fas fa-trash text-sm"})}),g&&e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 border rounded-lg px-3 py-2 shadow-sm",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[k.length," selected"]}),e.jsx("button",{onClick:()=>K(!1),disabled:k.length===0,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 disabled:opacity-50",children:"Delete Selected"}),e.jsx("button",{onClick:()=>K(!0),className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Delete All"}),e.jsx("button",{onClick:()=>{T(!1),q([])},className:"px-2 py-1 text-gray-500 hover:text-gray-700",children:e.jsx("i",{className:"fas fa-times"})})]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",f.length," of ",m.length," products"]})]})}),B?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Loading Click Picks..."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Finding the most popular products for you."})]}):f.length===0?$&&m.length===0?null:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:e.jsx("i",{className:"fas fa-search text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:m.length===0?"No Click Picks available":"No products found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:m.length===0?"Products will appear here when added to Click Picks via admin panel.":"Try adjusting your filters to see more results."})]}):e.jsxs("div",{className:"relative mt-4",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:f.map(t=>e.jsx(de,{product:{id:t.id,name:t.name||"",price:String(t.price||0),originalPrice:t.originalPrice||t.original_price||"",currency:t.currency||"INR",imageUrl:t.imageUrl||t.image_url||"",affiliateUrl:t.affiliateUrl||t.affiliate_url||"",category:t.category||"",rating:String(t.rating||0),reviewCount:t.reviewCount||t.review_count||0,discount:t.discount||0,description:t.description||"",isNew:t.isNew||!1,isFeatured:t.isFeatured||!1,hasTimer:t.hasTimer||!1,timerDuration:t.timerDuration||null,timerStartTime:t.timerStartTime||null,hasLimitedOffer:t.hasLimitedOffer||!1,limitedOfferText:t.limitedOfferText||"",priceDescription:t.priceDescription||t.price_description||"",monthlyPrice:t.monthlyPrice||t.monthly_price||0,yearlyPrice:t.yearlyPrice||t.yearly_price||0,pricingType:t.pricingType||t.pricing_type,isFree:t.isFree||t.is_free||!1,isService:t.isService||t.is_service||!1,isAIApp:t.isAIApp||t.is_ai_app||!1}},t.id))}),e.jsx(c,{page:"click-picks",position:"content-top"}),e.jsx(c,{page:"click-picks",position:"content-middle"}),e.jsx(c,{page:"click-picks",position:"content-bottom"}),e.jsx(c,{page:"click-picks",position:"floating-top-left"}),e.jsx(c,{page:"click-picks",position:"floating-top-right"}),e.jsx(c,{page:"click-picks",position:"floating-bottom-left"}),e.jsx(c,{page:"click-picks",position:"floating-bottom-right"})]})]})]})})]}),e.jsx(re,{page:"click-picks",title:"Click Picks Videos"}),e.jsx(ue,{})]})}const ht=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"}));export{re as P,be as S,he as a,xe as b,fe as c,mt as d,ht as e,pt as g,gt as p,dt as t,ge as u,ut as v};
