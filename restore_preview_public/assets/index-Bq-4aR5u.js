const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-DIDlTgFv.js","assets/pages-main-DOjN59On.js","assets/vendor-DNlhI76F.js","assets/query-D71mr71Q.js","assets/icons-B2XESxUM.js","assets/utils-Bj7X0qp-.js","assets/radix-z-2eheXi.js"])))=>i.map(i=>d[i]);
import{_ as g}from"./pages-main-DOjN59On.js";import{a as y,j as n}from"./vendor-DNlhI76F.js";import"./query-D71mr71Q.js";import"./icons-B2XESxUM.js";import"./utils-Bj7X0qp-.js";import"./radix-z-2eheXi.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var p,m=y;p=m.createRoot,m.hydrateRoot;function h(t){try{const e=new URL(t,typeof window<"u"?window.location.origin:"http://localhost"),r=typeof window<"u"?window.location.origin:"";return e.origin&&e.origin!==r}catch{return/^https?:\/\//i.test(t)}}function b(t){try{return new URL(t,typeof window<"u"?window.location.origin:"http://localhost").pathname.startsWith("/uploads")}catch{return t.startsWith("/uploads")}}function x(t,e={}){if(!t)return"";const{width:r=800,height:i=600,quality:o=80,format:a="webp"}=e;return h(t)&&!b(t)?`/api/image-proxy?${new URLSearchParams({url:t,width:String(r),height:String(i),quality:String(o),format:a}).toString()}`:t}try{document.documentElement.style.background="#0b1220",document.body.style.background="#0b1220"}catch{}try{localStorage.removeItem("forceAppBaseline"),localStorage.removeItem("widgetsSafeMode"),localStorage.removeItem("widgetsSafeModeFull"),localStorage.removeItem("forceSafeApp")}catch{}try{document.documentElement.classList.add("dark")}catch{}try{const t=Date.now(),e=document.createElement("link");e.rel="stylesheet",e.href=`/custom.css?v=${t}`,e.media="all",e.onload=()=>console.log("Custom CSS loaded"),e.onerror=()=>console.warn("Custom CSS not found or failed to load"),document.head.appendChild(e)}catch{}function l(t){const e=document.createElement("div");e.id="global-error-overlay",e.style.position="fixed",e.style.inset="0",e.style.background="#0b1220",e.style.color="#fff",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="9999",e.innerHTML=`<div style="text-align:center;background:#1f2937;border:1px solid #374151;padding:16px 20px;border-radius:8px;box-shadow:0 6px 20px rgba(0,0,0,0.35)"><h2 style="margin-bottom:8px;font-weight:700;color:#fca5a5">Service unavailable</h2><div style="font-size:14px;color:#e5e7eb">${t}</div></div>`,document.body.appendChild(e)}window.addEventListener("error",t=>{const e=t.error&&(t.error.message||String(t.error))||String(t.message||""),r=/ResizeObserver loop limit exceeded|Script error\.|ERR_ABORTED|Image proxy error|HTTP 404/i.test(e);if(console.error("Global error:",t.error||t.message),r){console.warn("Ignored benign error:",e);return}s||l("A critical error occurred while loading the page.")});window.addEventListener("unhandledrejection",t=>{const e=t.reason&&(t.reason.message||String(t.reason))||"Unhandled promise rejection.",r=/Loading chunk|Failed to fetch dynamically imported module|import\(\) failed/i.test(e);if(/getaddrinfo ENOTFOUND|Image proxy error|HTTP 404/i.test(e)){console.warn("Ignored benign network error:",e);return}!s&&r?(console.error("Critical boot-time rejection:",t.reason),l(e)):console.error("Unhandled rejection:",t.reason)});let s=!1;const v=2500;setTimeout(()=>{if(!s)try{console.warn("Boot watchdog: App not mounted in time. Rendering Safe fallback.");try{localStorage.setItem("autoSafeTriggered","true")}catch{}S()}catch(t){console.error("Failed to render Safe fallback:",t),l("The app failed to start. Please retry.")}},v);const u=document.getElementById("root");if(!u)throw new Error("Root element not found");const f=p(u),w=()=>n.jsxs("div",{style:{minHeight:"100vh",background:"#0b1220",color:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"10px",fontFamily:"Inter, system-ui, Arial, sans-serif"},children:[n.jsx("div",{style:{fontSize:16,opacity:.9},children:"Booting PickNTrustâ€¦"}),n.jsx("div",{style:{display:"inline-block",width:"40px",height:"40px",borderRadius:"50%",border:"3px solid #374151",borderTopColor:"#93c5fd",animation:"spin 1s linear infinite"}}),n.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }"})]});try{f.render(n.jsx(w,{}))}catch{}try{window.__PNT_BOOT_OK__=!0,window.dispatchEvent(new Event("pnt:boot-ok"))}catch{}function S(){const t=()=>n.jsxs("div",{style:{minHeight:"100vh",background:"#0b1220",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"12px",fontFamily:"Inter, system-ui, Arial, sans-serif"},children:[n.jsxs("div",{style:{background:"#1f2937",border:"1px solid #374151",padding:"16px 20px",borderRadius:"8px",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",maxWidth:"720px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"18px",fontWeight:700,marginBottom:6},children:"Safe Diagnostic Page"}),n.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"React mounted successfully. This page bypasses the full App."})]}),n.jsx("a",{href:"/?",style:{color:"#93c5fd",textDecoration:"underline",fontSize:"14px"},children:"Return to full app"})]});f.render(n.jsx(t,{})),s=!0;const e=document.getElementById("initial-loader");e&&e.remove();const r=document.getElementById("global-error-overlay");r&&r.remove();const i=document.getElementById("boot-fallback-overlay");i&&i.remove();const o=document.getElementById("debug-topbar");o&&o.remove()}function d(t){try{const e=t.getAttribute("src")||"";if(e&&/images\.unsplash\.com/i.test(e)){const r=x(e,{width:800,height:600,quality:80,format:"webp"});r&&r!==e&&(t.setAttribute("src",r),t.setAttribute("crossorigin","anonymous"))}}catch{}}document.querySelectorAll("img").forEach(t=>d(t));const E=new MutationObserver(t=>{for(const e of t)e.type==="childList"?e.addedNodes.forEach(r=>{var i;if(r&&r.nodeType===Node.ELEMENT_NODE){const o=r;o.tagName==="IMG"&&d(o),(i=o.querySelectorAll)==null||i.call(o,"img").forEach(a=>d(a))}}):e.type==="attributes"&&e.target.tagName==="IMG"&&e.attributeName==="src"&&d(e.target)});E.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src"]});const I=new URLSearchParams(window.location.search),A=I.get("forceSafeApp")==="1"||localStorage.getItem("forceSafeApp")==="true";if(A){const t=()=>n.jsxs("div",{style:{minHeight:"100vh",background:"#0b1220",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"12px",fontFamily:"Inter, system-ui, Arial, sans-serif"},children:[n.jsxs("div",{style:{background:"#1f2937",border:"1px solid #374151",padding:"16px 20px",borderRadius:"8px",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",maxWidth:"720px",textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"18px",fontWeight:700,marginBottom:6},children:"Safe Diagnostic Page"}),n.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"React mounted successfully. This page bypasses the full App."})]}),n.jsx("a",{href:"/?",style:{color:"#93c5fd",textDecoration:"underline",fontSize:"14px"},children:"Return to full app"})]});try{f.render(n.jsx(t,{}))}catch{}s=!0;const e=document.getElementById("initial-loader");e&&e.remove();const r=document.getElementById("global-error-overlay");r&&r.remove();const i=document.getElementById("boot-fallback-overlay");i&&i.remove();const o=document.getElementById("debug-topbar");o&&o.remove()}else g(async()=>{const{default:t}=await import("./App-DIDlTgFv.js");return{default:t}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({default:t})=>{try{f.render(n.jsx(t,{})),s=!0;const e=document.getElementById("initial-loader");e&&e.remove();const r=document.getElementById("global-error-overlay");r&&r.remove();const i=document.getElementById("boot-fallback-overlay");i&&i.remove();const o=document.getElementById("debug-topbar");o&&o.remove()}catch(e){console.error("Failed to render App:",e),l("A critical error occurred while loading the app.")}}).catch(t=>{console.error("Failed to import App:",t),l("A critical error occurred while loading the app.")});
