const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-B6ZxTm-j.js","assets/pages-main-BY5PcsA3.js","assets/vendor-DNlhI76F.js","assets/query-D71mr71Q.js","assets/icons-DQY_1D-6.js","assets/utils-Bj7X0qp-.js","assets/radix-Cpozj5gu.js","assets/pages-travel-DZRSnrnP.js","assets/pages-picks-CFBMuK-X.js","assets/pages-other-KV1rPWzd.js"])))=>i.map(i=>d[i]);
import{_ as g}from"./pages-main-BY5PcsA3.js";import{a as y,j as s}from"./vendor-DNlhI76F.js";import"./query-D71mr71Q.js";import"./icons-DQY_1D-6.js";import"./utils-Bj7X0qp-.js";import"./radix-Cpozj5gu.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();var m,f=y;m=f.createRoot,f.hydrateRoot;function h(t,e={}){if(!t||typeof t!="string")return"";try{const o=typeof window<"u"?window.location.origin:"http://localhost",i=new URL(t,o),r=i.origin!==o,n=i.pathname.startsWith("/uploads");return r&&!n?`/api/image-proxy?${new URLSearchParams({url:t,width:String(e.width??800),height:String(e.height??600),quality:String(e.quality??80),format:String(e.format??"webp")}).toString()}`:t}catch{return t}}function d(t){const e=document.createElement("div");e.id="global-error-overlay",e.style.position="fixed",e.style.inset="0",e.style.background="#0b1220",e.style.color="#fff",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="9999",e.innerHTML=`<div style="text-align:center;background:#1f2937;border:1px solid #374151;padding:16px 20px;border-radius:8px;box-shadow:0 6px 20px rgba(0,0,0,0.35)"><h2 style="margin-bottom:8px;font-weight:700;color:#fca5a5">Service unavailable</h2><div style="font-size:14px;color:#e5e7eb">${t}</div></div>`,document.body.appendChild(e)}window.addEventListener("error",t=>{const e=t.error&&(t.error.message||String(t.error))||String(t.message||""),o=/ResizeObserver loop limit exceeded|Script error\.|ERR_ABORTED|Image proxy error|HTTP 404/i.test(e);if(console.error("Global error:",t.error||t.message),o){console.warn("Ignored benign error:",e);return}a||d("A critical error occurred while loading the page.")});window.addEventListener("unhandledrejection",t=>{const e=t.reason&&(t.reason.message||String(t.reason))||"Unhandled promise rejection.",o=/Loading chunk|Failed to fetch dynamically imported module|import\(\) failed/i.test(e);if(/getaddrinfo ENOTFOUND|Image proxy error|HTTP 404/i.test(e)){console.warn("Ignored benign network error:",e);return}!a&&o?(console.error("Critical boot-time rejection:",t.reason),d(e)):console.error("Unhandled rejection:",t.reason)});let a=!1;setTimeout(()=>{if(!a){const t=document.getElementById("root");!!t&&t.childElementCount>0||d("The app failed to start. Please retry.")}},3e3);const p=document.getElementById("root");if(!p)throw new Error("Root element not found");const u=m(p);function c(t){try{const e=t.getAttribute("src")||"";if(e&&/images\.unsplash\.com/i.test(e)){const o=h(e,{width:800,height:600,quality:80,format:"webp"});o&&o!==e&&(t.setAttribute("src",o),t.setAttribute("crossorigin","anonymous"))}}catch{}}document.querySelectorAll("img").forEach(t=>c(t));const b=new MutationObserver(t=>{for(const e of t)e.type==="childList"?e.addedNodes.forEach(o=>{var i;if(o&&o.nodeType===Node.ELEMENT_NODE){const r=o;r.tagName==="IMG"&&c(r),(i=r.querySelectorAll)==null||i.call(r,"img").forEach(n=>c(n))}}):e.type==="attributes"&&e.target.tagName==="IMG"&&e.attributeName==="src"&&c(e.target)});b.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src"]});const x=new URLSearchParams(window.location.search),E=x.get("forceSafeApp")==="1"||localStorage.getItem("forceSafeApp")==="true";if(E){const t=()=>s.jsxs("div",{style:{minHeight:"100vh",background:"#0b1220",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"12px",fontFamily:"Inter, system-ui, Arial, sans-serif"},children:[s.jsxs("div",{style:{background:"#1f2937",border:"1px solid #374151",padding:"16px 20px",borderRadius:"8px",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",maxWidth:"720px",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"18px",fontWeight:700,marginBottom:6},children:"Safe Diagnostic Page"}),s.jsx("div",{style:{fontSize:"14px",opacity:.9},children:"React mounted successfully. This page bypasses the full App."})]}),s.jsx("a",{href:"/?",style:{color:"#93c5fd",textDecoration:"underline",fontSize:"14px"},children:"Return to full app"})]});u.render(s.jsx(t,{})),a=!0;const e=document.getElementById("initial-loader");e&&e.remove();const o=document.getElementById("global-error-overlay");o&&o.remove();const i=document.getElementById("debug-topbar");i&&i.remove()}else g(async()=>{const{default:t}=await import("./App-B6ZxTm-j.js");return{default:t}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(({default:t})=>{u.render(s.jsx(t,{})),a=!0;const e=document.getElementById("initial-loader");e&&e.remove();const o=document.getElementById("global-error-overlay");o&&o.remove();const i=document.getElementById("debug-topbar");i&&i.remove()}).catch(t=>{console.error("Failed to load App:",t);const e=t&&(t.message||String(t))||"Failed to load application module.";d(e)});
